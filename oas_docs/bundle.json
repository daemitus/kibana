{
  "components": {
    "schemas": {},
    "securitySchemes": {
      "apiKeyAuth": {
        "in": "header",
        "name": "Authorization",
        "type": "apiKey"
      },
      "basicAuth": {
        "scheme": "basic",
        "type": "http"
      }
    }
  },
  "info": {
    "title": "Kibana HTTP APIs",
    "version": "0.0.0"
  },
  "openapi": "3.0.0",
  "paths": {
    "/api/fleet/agent-status": {
      "get": {
        "deprecated": true,
        "operationId": "%2Fapi%2Ffleet%2Fagent-status#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "policyId",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "policyIds",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "string"
                }
              ]
            }
          },
          {
            "in": "query",
            "name": "kuery",
            "required": false,
            "schema": {
              "deprecated": true,
              "type": "string"
            }
          }
        ],
        "responses": {},
        "summary": "",
        "tags": []
      }
    },
    "/api/fleet/agent_download_sources": {
      "get": {
        "description": "List agent binary download sources",
        "operationId": "%2Fapi%2Ffleet%2Fagent_download_sources#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "host": {
                            "format": "uri",
                            "type": "string"
                          },
                          "id": {
                            "type": "string"
                          },
                          "is_default": {
                            "default": false,
                            "type": "boolean"
                          },
                          "name": {
                            "type": "string"
                          },
                          "proxy_id": {
                            "description": "The ID of the proxy to use for this download source. See the proxies API for more information.",
                            "nullable": true,
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "host"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total",
                    "page",
                    "perPage"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent binary download sources"
        ]
      },
      "post": {
        "description": "Create agent binary download source",
        "operationId": "%2Fapi%2Ffleet%2Fagent_download_sources#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "host": {
                    "format": "uri",
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "is_default": {
                    "default": false,
                    "type": "boolean"
                  },
                  "name": {
                    "type": "string"
                  },
                  "proxy_id": {
                    "description": "The ID of the proxy to use for this download source. See the proxies API for more information.",
                    "nullable": true,
                    "type": "string"
                  }
                },
                "required": [
                  "name",
                  "host"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "host": {
                          "format": "uri",
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "is_default": {
                          "default": false,
                          "type": "boolean"
                        },
                        "name": {
                          "type": "string"
                        },
                        "proxy_id": {
                          "description": "The ID of the proxy to use for this download source. See the proxies API for more information.",
                          "nullable": true,
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "host"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent binary download sources"
        ]
      }
    },
    "/api/fleet/agent_download_sources/{sourceId}": {
      "delete": {
        "description": "Delete agent binary download source by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagent_download_sources%2F%7BsourceId%7D#2",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "sourceId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent binary download sources"
        ]
      },
      "get": {
        "description": "Get agent binary download source by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagent_download_sources%2F%7BsourceId%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "sourceId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "host": {
                          "format": "uri",
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "is_default": {
                          "default": false,
                          "type": "boolean"
                        },
                        "name": {
                          "type": "string"
                        },
                        "proxy_id": {
                          "description": "The ID of the proxy to use for this download source. See the proxies API for more information.",
                          "nullable": true,
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "host"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent binary download sources"
        ]
      },
      "put": {
        "description": "Update agent binary download source by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagent_download_sources%2F%7BsourceId%7D#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "sourceId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "host": {
                    "format": "uri",
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "is_default": {
                    "default": false,
                    "type": "boolean"
                  },
                  "name": {
                    "type": "string"
                  },
                  "proxy_id": {
                    "description": "The ID of the proxy to use for this download source. See the proxies API for more information.",
                    "nullable": true,
                    "type": "string"
                  }
                },
                "required": [
                  "name",
                  "host"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "host": {
                          "format": "uri",
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "is_default": {
                          "default": false,
                          "type": "boolean"
                        },
                        "name": {
                          "type": "string"
                        },
                        "proxy_id": {
                          "description": "The ID of the proxy to use for this download source. See the proxies API for more information.",
                          "nullable": true,
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "host"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent binary download sources"
        ]
      }
    },
    "/api/fleet/agent_policies": {
      "get": {
        "description": "List agent policies",
        "operationId": "%2Fapi%2Ffleet%2Fagent_policies#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "perPage",
            "required": false,
            "schema": {
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "sortField",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "sortOrder",
            "required": false,
            "schema": {
              "enum": [
                "desc",
                "asc"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "showUpgradeable",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "kuery",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "noAgentCount",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "full",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "enum": [
                "simplified",
                "legacy"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "advanced_settings": {
                            "additionalProperties": false,
                            "properties": {
                              "agent_download_target_directory": {
                                "nullable": true
                              },
                              "agent_download_timeout": {
                                "default": "2h",
                                "nullable": true
                              },
                              "agent_limits_go_max_procs": {
                                "nullable": true
                              },
                              "agent_logging_level": {
                                "default": "info",
                                "nullable": true
                              },
                              "agent_logging_metrics_period": {
                                "default": "30s",
                                "nullable": true
                              }
                            },
                            "type": "object"
                          },
                          "agent_features": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "enabled": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "name",
                                "enabled"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "agents": {
                            "type": "number"
                          },
                          "data_output_id": {
                            "nullable": true,
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "download_source_id": {
                            "nullable": true,
                            "type": "string"
                          },
                          "fleet_server_host_id": {
                            "nullable": true,
                            "type": "string"
                          },
                          "global_data_tags": {
                            "description": "User defined data tags that are added to all of the inputs. The values can be strings or numbers.",
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "value": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "number"
                                    }
                                  ]
                                }
                              },
                              "required": [
                                "name",
                                "value"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "has_fleet_server": {
                            "type": "boolean"
                          },
                          "id": {
                            "type": "string"
                          },
                          "inactivity_timeout": {
                            "default": 1209600,
                            "minimum": 0,
                            "type": "number"
                          },
                          "is_default": {
                            "type": "boolean"
                          },
                          "is_default_fleet_server": {
                            "type": "boolean"
                          },
                          "is_managed": {
                            "type": "boolean"
                          },
                          "is_preconfigured": {
                            "type": "boolean"
                          },
                          "is_protected": {
                            "description": "Indicates whether the agent policy has tamper protection enabled. Default false.",
                            "type": "boolean"
                          },
                          "keep_monitoring_alive": {
                            "default": false,
                            "description": "When set to true, monitoring will be enabled but logs/metrics collection will be disabled",
                            "nullable": true,
                            "type": "boolean"
                          },
                          "monitoring_diagnostics": {
                            "additionalProperties": false,
                            "properties": {
                              "limit": {
                                "additionalProperties": false,
                                "properties": {
                                  "burst": {
                                    "type": "number"
                                  },
                                  "interval": {
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "uploader": {
                                "additionalProperties": false,
                                "properties": {
                                  "init_dur": {
                                    "type": "string"
                                  },
                                  "max_dur": {
                                    "type": "string"
                                  },
                                  "max_retries": {
                                    "type": "number"
                                  }
                                },
                                "type": "object"
                              }
                            },
                            "type": "object"
                          },
                          "monitoring_enabled": {
                            "items": {
                              "enum": [
                                "logs",
                                "metrics",
                                "traces"
                              ],
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "monitoring_http": {
                            "additionalProperties": false,
                            "properties": {
                              "buffer": {
                                "additionalProperties": false,
                                "properties": {
                                  "enabled": {
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "type": "object"
                              },
                              "enabled": {
                                "type": "boolean"
                              },
                              "host": {
                                "type": "string"
                              },
                              "port": {
                                "maximum": 65353,
                                "minimum": 0,
                                "type": "number"
                              }
                            },
                            "required": [
                              "enabled"
                            ],
                            "type": "object"
                          },
                          "monitoring_output_id": {
                            "nullable": true,
                            "type": "string"
                          },
                          "monitoring_pprof_enabled": {
                            "type": "boolean"
                          },
                          "name": {
                            "minLength": 1,
                            "type": "string"
                          },
                          "namespace": {
                            "minLength": 1,
                            "type": "string"
                          },
                          "overrides": {
                            "additionalProperties": {},
                            "description": "Override settings that are defined in the agent policy. Input settings cannot be overridden. The override option should be used only in unusual circumstances and not as a routine procedure.",
                            "nullable": true,
                            "type": "object"
                          },
                          "package_policies": {
                            "anyOf": [
                              {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              {
                                "description": "This field is present only when retrieving a single agent policy, or when retrieving a list of agent policies with the ?full=true parameter",
                                "items": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "created_at": {
                                      "type": "string"
                                    },
                                    "created_by": {
                                      "type": "string"
                                    },
                                    "description": {
                                      "description": "Package policy description",
                                      "type": "string"
                                    },
                                    "elasticsearch": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "privileges": {
                                          "additionalProperties": true,
                                          "properties": {
                                            "cluster": {
                                              "items": {
                                                "type": "string"
                                              },
                                              "type": "array"
                                            }
                                          },
                                          "type": "object"
                                        }
                                      },
                                      "type": "object"
                                    },
                                    "enabled": {
                                      "type": "boolean"
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "inputs": {
                                      "items": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "compiled_input": {},
                                          "config": {
                                            "additionalProperties": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "frozen": {
                                                  "type": "boolean"
                                                },
                                                "type": {
                                                  "type": "string"
                                                },
                                                "value": {}
                                              },
                                              "required": [
                                                "value"
                                              ],
                                              "type": "object"
                                            },
                                            "description": "Package variable (see integration documentation for more information)",
                                            "type": "object"
                                          },
                                          "enabled": {
                                            "type": "boolean"
                                          },
                                          "id": {
                                            "type": "string"
                                          },
                                          "keep_enabled": {
                                            "type": "boolean"
                                          },
                                          "policy_template": {
                                            "type": "string"
                                          },
                                          "streams": {
                                            "items": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "compiled_stream": {},
                                                "config": {
                                                  "additionalProperties": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "frozen": {
                                                        "type": "boolean"
                                                      },
                                                      "type": {
                                                        "type": "string"
                                                      },
                                                      "value": {}
                                                    },
                                                    "required": [
                                                      "value"
                                                    ],
                                                    "type": "object"
                                                  },
                                                  "description": "Package variable (see integration documentation for more information)",
                                                  "type": "object"
                                                },
                                                "data_stream": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "dataset": {
                                                      "type": "string"
                                                    },
                                                    "elasticsearch": {
                                                      "additionalProperties": false,
                                                      "properties": {
                                                        "dynamic_dataset": {
                                                          "type": "boolean"
                                                        },
                                                        "dynamic_namespace": {
                                                          "type": "boolean"
                                                        },
                                                        "privileges": {
                                                          "additionalProperties": false,
                                                          "properties": {
                                                            "indices": {
                                                              "items": {
                                                                "type": "string"
                                                              },
                                                              "type": "array"
                                                            }
                                                          },
                                                          "type": "object"
                                                        }
                                                      },
                                                      "type": "object"
                                                    },
                                                    "type": {
                                                      "type": "string"
                                                    }
                                                  },
                                                  "required": [
                                                    "dataset",
                                                    "type"
                                                  ],
                                                  "type": "object"
                                                },
                                                "enabled": {
                                                  "type": "boolean"
                                                },
                                                "id": {
                                                  "type": "string"
                                                },
                                                "keep_enabled": {
                                                  "type": "boolean"
                                                },
                                                "release": {
                                                  "enum": [
                                                    "ga",
                                                    "beta",
                                                    "experimental"
                                                  ],
                                                  "type": "string"
                                                },
                                                "vars": {
                                                  "additionalProperties": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "frozen": {
                                                        "type": "boolean"
                                                      },
                                                      "type": {
                                                        "type": "string"
                                                      },
                                                      "value": {}
                                                    },
                                                    "required": [
                                                      "value"
                                                    ],
                                                    "type": "object"
                                                  },
                                                  "description": "Package variable (see integration documentation for more information)",
                                                  "type": "object"
                                                }
                                              },
                                              "required": [
                                                "enabled",
                                                "data_stream",
                                                "compiled_stream"
                                              ],
                                              "type": "object"
                                            },
                                            "type": "array"
                                          },
                                          "type": {
                                            "type": "string"
                                          },
                                          "vars": {
                                            "additionalProperties": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "frozen": {
                                                  "type": "boolean"
                                                },
                                                "type": {
                                                  "type": "string"
                                                },
                                                "value": {}
                                              },
                                              "required": [
                                                "value"
                                              ],
                                              "type": "object"
                                            },
                                            "description": "Package variable (see integration documentation for more information)",
                                            "type": "object"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "enabled",
                                          "streams",
                                          "compiled_input"
                                        ],
                                        "type": "object"
                                      },
                                      "type": "array"
                                    },
                                    "is_managed": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "description": "Package policy name (should be unique)",
                                      "type": "string"
                                    },
                                    "namespace": {
                                      "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                                      "type": "string"
                                    },
                                    "output_id": {
                                      "nullable": true,
                                      "type": "string"
                                    },
                                    "overrides": {
                                      "additionalProperties": false,
                                      "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                                      "nullable": true,
                                      "properties": {
                                        "inputs": {
                                          "additionalProperties": {},
                                          "type": "object"
                                        }
                                      },
                                      "type": "object"
                                    },
                                    "package": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "experimental_data_stream_features": {
                                          "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "data_stream": {
                                                "type": "string"
                                              },
                                              "features": {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "doc_value_only_numeric": {
                                                    "type": "boolean"
                                                  },
                                                  "doc_value_only_other": {
                                                    "type": "boolean"
                                                  },
                                                  "synthetic_source": {
                                                    "type": "boolean"
                                                  },
                                                  "tsdb": {
                                                    "type": "boolean"
                                                  }
                                                },
                                                "type": "object"
                                              }
                                            },
                                            "required": [
                                              "data_stream",
                                              "features"
                                            ],
                                            "type": "object"
                                          },
                                          "type": "array"
                                        },
                                        "name": {
                                          "description": "Package name",
                                          "type": "string"
                                        },
                                        "requires_root": {
                                          "type": "boolean"
                                        },
                                        "title": {
                                          "type": "string"
                                        },
                                        "version": {
                                          "description": "Package version",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "name",
                                        "version"
                                      ],
                                      "type": "object"
                                    },
                                    "policy_id": {
                                      "deprecated": true,
                                      "description": "Agent policy ID where that package policy will be added",
                                      "nullable": true,
                                      "type": "string"
                                    },
                                    "policy_ids": {
                                      "items": {
                                        "description": "Agent policy IDs where that package policy will be added",
                                        "type": "string"
                                      },
                                      "type": "array"
                                    },
                                    "revision": {
                                      "type": "number"
                                    },
                                    "secret_references": {
                                      "items": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "id": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "id"
                                        ],
                                        "type": "object"
                                      },
                                      "type": "array"
                                    },
                                    "updated_at": {
                                      "type": "string"
                                    },
                                    "updated_by": {
                                      "type": "string"
                                    },
                                    "vars": {
                                      "additionalProperties": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "frozen": {
                                            "type": "boolean"
                                          },
                                          "type": {
                                            "type": "string"
                                          },
                                          "value": {}
                                        },
                                        "required": [
                                          "value"
                                        ],
                                        "type": "object"
                                      },
                                      "description": "Package variable (see integration documentation for more information)",
                                      "type": "object"
                                    },
                                    "version": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "name",
                                    "enabled",
                                    "inputs",
                                    "id",
                                    "revision",
                                    "updated_at",
                                    "updated_by",
                                    "created_at",
                                    "created_by"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              }
                            ]
                          },
                          "revision": {
                            "type": "number"
                          },
                          "schema_version": {
                            "type": "string"
                          },
                          "space_ids": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "status": {
                            "enum": [
                              "active",
                              "inactive"
                            ],
                            "type": "string"
                          },
                          "supports_agentless": {
                            "default": false,
                            "description": "Indicates whether the agent policy supports agentless integrations.",
                            "nullable": true,
                            "type": "boolean"
                          },
                          "unenroll_timeout": {
                            "minimum": 0,
                            "type": "number"
                          },
                          "unprivileged_agents": {
                            "type": "number"
                          },
                          "updated_at": {
                            "type": "string"
                          },
                          "updated_by": {
                            "type": "string"
                          },
                          "version": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "namespace",
                          "is_managed",
                          "is_protected",
                          "status",
                          "updated_at",
                          "updated_by",
                          "revision"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total",
                    "page",
                    "perPage"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent policies"
        ]
      },
      "post": {
        "description": "Create an agent policy",
        "operationId": "%2Fapi%2Ffleet%2Fagent_policies#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "sys_monitoring",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "advanced_settings": {
                    "additionalProperties": false,
                    "properties": {
                      "agent_download_target_directory": {
                        "nullable": true
                      },
                      "agent_download_timeout": {
                        "default": "2h",
                        "nullable": true
                      },
                      "agent_limits_go_max_procs": {
                        "nullable": true
                      },
                      "agent_logging_level": {
                        "default": "info",
                        "nullable": true
                      },
                      "agent_logging_metrics_period": {
                        "default": "30s",
                        "nullable": true
                      }
                    },
                    "type": "object"
                  },
                  "agent_features": {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "enabled": {
                          "type": "boolean"
                        },
                        "name": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "name",
                        "enabled"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  "data_output_id": {
                    "nullable": true,
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "download_source_id": {
                    "nullable": true,
                    "type": "string"
                  },
                  "fleet_server_host_id": {
                    "nullable": true,
                    "type": "string"
                  },
                  "force": {
                    "type": "boolean"
                  },
                  "global_data_tags": {
                    "description": "User defined data tags that are added to all of the inputs. The values can be strings or numbers.",
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "value": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            }
                          ]
                        }
                      },
                      "required": [
                        "name",
                        "value"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  "has_fleet_server": {
                    "type": "boolean"
                  },
                  "id": {
                    "type": "string"
                  },
                  "inactivity_timeout": {
                    "default": 1209600,
                    "minimum": 0,
                    "type": "number"
                  },
                  "is_default": {
                    "type": "boolean"
                  },
                  "is_default_fleet_server": {
                    "type": "boolean"
                  },
                  "is_managed": {
                    "type": "boolean"
                  },
                  "is_protected": {
                    "type": "boolean"
                  },
                  "keep_monitoring_alive": {
                    "default": false,
                    "description": "When set to true, monitoring will be enabled but logs/metrics collection will be disabled",
                    "nullable": true,
                    "type": "boolean"
                  },
                  "monitoring_diagnostics": {
                    "additionalProperties": false,
                    "properties": {
                      "limit": {
                        "additionalProperties": false,
                        "properties": {
                          "burst": {
                            "type": "number"
                          },
                          "interval": {
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "uploader": {
                        "additionalProperties": false,
                        "properties": {
                          "init_dur": {
                            "type": "string"
                          },
                          "max_dur": {
                            "type": "string"
                          },
                          "max_retries": {
                            "type": "number"
                          }
                        },
                        "type": "object"
                      }
                    },
                    "type": "object"
                  },
                  "monitoring_enabled": {
                    "items": {
                      "enum": [
                        "logs",
                        "metrics",
                        "traces"
                      ],
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "monitoring_http": {
                    "additionalProperties": false,
                    "properties": {
                      "buffer": {
                        "additionalProperties": false,
                        "properties": {
                          "enabled": {
                            "default": false,
                            "type": "boolean"
                          }
                        },
                        "type": "object"
                      },
                      "enabled": {
                        "type": "boolean"
                      },
                      "host": {
                        "type": "string"
                      },
                      "port": {
                        "maximum": 65353,
                        "minimum": 0,
                        "type": "number"
                      }
                    },
                    "required": [
                      "enabled"
                    ],
                    "type": "object"
                  },
                  "monitoring_output_id": {
                    "nullable": true,
                    "type": "string"
                  },
                  "monitoring_pprof_enabled": {
                    "type": "boolean"
                  },
                  "name": {
                    "minLength": 1,
                    "type": "string"
                  },
                  "namespace": {
                    "minLength": 1,
                    "type": "string"
                  },
                  "overrides": {
                    "additionalProperties": {},
                    "description": "Override settings that are defined in the agent policy. Input settings cannot be overridden. The override option should be used only in unusual circumstances and not as a routine procedure.",
                    "nullable": true,
                    "type": "object"
                  },
                  "space_ids": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "supports_agentless": {
                    "default": false,
                    "description": "Indicates whether the agent policy supports agentless integrations.",
                    "nullable": true,
                    "type": "boolean"
                  },
                  "unenroll_timeout": {
                    "minimum": 0,
                    "type": "number"
                  }
                },
                "required": [
                  "name",
                  "namespace"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "advanced_settings": {
                          "additionalProperties": false,
                          "properties": {
                            "agent_download_target_directory": {
                              "nullable": true
                            },
                            "agent_download_timeout": {
                              "default": "2h",
                              "nullable": true
                            },
                            "agent_limits_go_max_procs": {
                              "nullable": true
                            },
                            "agent_logging_level": {
                              "default": "info",
                              "nullable": true
                            },
                            "agent_logging_metrics_period": {
                              "default": "30s",
                              "nullable": true
                            }
                          },
                          "type": "object"
                        },
                        "agent_features": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "enabled": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "enabled"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "agents": {
                          "type": "number"
                        },
                        "data_output_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "download_source_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "fleet_server_host_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "global_data_tags": {
                          "description": "User defined data tags that are added to all of the inputs. The values can be strings or numbers.",
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "value": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "number"
                                  }
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "value"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "has_fleet_server": {
                          "type": "boolean"
                        },
                        "id": {
                          "type": "string"
                        },
                        "inactivity_timeout": {
                          "default": 1209600,
                          "minimum": 0,
                          "type": "number"
                        },
                        "is_default": {
                          "type": "boolean"
                        },
                        "is_default_fleet_server": {
                          "type": "boolean"
                        },
                        "is_managed": {
                          "type": "boolean"
                        },
                        "is_preconfigured": {
                          "type": "boolean"
                        },
                        "is_protected": {
                          "description": "Indicates whether the agent policy has tamper protection enabled. Default false.",
                          "type": "boolean"
                        },
                        "keep_monitoring_alive": {
                          "default": false,
                          "description": "When set to true, monitoring will be enabled but logs/metrics collection will be disabled",
                          "nullable": true,
                          "type": "boolean"
                        },
                        "monitoring_diagnostics": {
                          "additionalProperties": false,
                          "properties": {
                            "limit": {
                              "additionalProperties": false,
                              "properties": {
                                "burst": {
                                  "type": "number"
                                },
                                "interval": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "uploader": {
                              "additionalProperties": false,
                              "properties": {
                                "init_dur": {
                                  "type": "string"
                                },
                                "max_dur": {
                                  "type": "string"
                                },
                                "max_retries": {
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "monitoring_enabled": {
                          "items": {
                            "enum": [
                              "logs",
                              "metrics",
                              "traces"
                            ],
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "monitoring_http": {
                          "additionalProperties": false,
                          "properties": {
                            "buffer": {
                              "additionalProperties": false,
                              "properties": {
                                "enabled": {
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "type": "object"
                            },
                            "enabled": {
                              "type": "boolean"
                            },
                            "host": {
                              "type": "string"
                            },
                            "port": {
                              "maximum": 65353,
                              "minimum": 0,
                              "type": "number"
                            }
                          },
                          "required": [
                            "enabled"
                          ],
                          "type": "object"
                        },
                        "monitoring_output_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "monitoring_pprof_enabled": {
                          "type": "boolean"
                        },
                        "name": {
                          "minLength": 1,
                          "type": "string"
                        },
                        "namespace": {
                          "minLength": 1,
                          "type": "string"
                        },
                        "overrides": {
                          "additionalProperties": {},
                          "description": "Override settings that are defined in the agent policy. Input settings cannot be overridden. The override option should be used only in unusual circumstances and not as a routine procedure.",
                          "nullable": true,
                          "type": "object"
                        },
                        "package_policies": {
                          "anyOf": [
                            {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            {
                              "description": "This field is present only when retrieving a single agent policy, or when retrieving a list of agent policies with the ?full=true parameter",
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "created_at": {
                                    "type": "string"
                                  },
                                  "created_by": {
                                    "type": "string"
                                  },
                                  "description": {
                                    "description": "Package policy description",
                                    "type": "string"
                                  },
                                  "elasticsearch": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "privileges": {
                                        "additionalProperties": true,
                                        "properties": {
                                          "cluster": {
                                            "items": {
                                              "type": "string"
                                            },
                                            "type": "array"
                                          }
                                        },
                                        "type": "object"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "enabled": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "inputs": {
                                    "items": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "compiled_input": {},
                                        "config": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        },
                                        "enabled": {
                                          "type": "boolean"
                                        },
                                        "id": {
                                          "type": "string"
                                        },
                                        "keep_enabled": {
                                          "type": "boolean"
                                        },
                                        "policy_template": {
                                          "type": "string"
                                        },
                                        "streams": {
                                          "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "compiled_stream": {},
                                              "config": {
                                                "additionalProperties": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "frozen": {
                                                      "type": "boolean"
                                                    },
                                                    "type": {
                                                      "type": "string"
                                                    },
                                                    "value": {}
                                                  },
                                                  "required": [
                                                    "value"
                                                  ],
                                                  "type": "object"
                                                },
                                                "description": "Package variable (see integration documentation for more information)",
                                                "type": "object"
                                              },
                                              "data_stream": {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "dataset": {
                                                    "type": "string"
                                                  },
                                                  "elasticsearch": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "dynamic_dataset": {
                                                        "type": "boolean"
                                                      },
                                                      "dynamic_namespace": {
                                                        "type": "boolean"
                                                      },
                                                      "privileges": {
                                                        "additionalProperties": false,
                                                        "properties": {
                                                          "indices": {
                                                            "items": {
                                                              "type": "string"
                                                            },
                                                            "type": "array"
                                                          }
                                                        },
                                                        "type": "object"
                                                      }
                                                    },
                                                    "type": "object"
                                                  },
                                                  "type": {
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "dataset",
                                                  "type"
                                                ],
                                                "type": "object"
                                              },
                                              "enabled": {
                                                "type": "boolean"
                                              },
                                              "id": {
                                                "type": "string"
                                              },
                                              "keep_enabled": {
                                                "type": "boolean"
                                              },
                                              "release": {
                                                "enum": [
                                                  "ga",
                                                  "beta",
                                                  "experimental"
                                                ],
                                                "type": "string"
                                              },
                                              "vars": {
                                                "additionalProperties": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "frozen": {
                                                      "type": "boolean"
                                                    },
                                                    "type": {
                                                      "type": "string"
                                                    },
                                                    "value": {}
                                                  },
                                                  "required": [
                                                    "value"
                                                  ],
                                                  "type": "object"
                                                },
                                                "description": "Package variable (see integration documentation for more information)",
                                                "type": "object"
                                              }
                                            },
                                            "required": [
                                              "enabled",
                                              "data_stream",
                                              "compiled_stream"
                                            ],
                                            "type": "object"
                                          },
                                          "type": "array"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "vars": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "enabled",
                                        "streams",
                                        "compiled_input"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "is_managed": {
                                    "type": "boolean"
                                  },
                                  "name": {
                                    "description": "Package policy name (should be unique)",
                                    "type": "string"
                                  },
                                  "namespace": {
                                    "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                                    "type": "string"
                                  },
                                  "output_id": {
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "overrides": {
                                    "additionalProperties": false,
                                    "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                                    "nullable": true,
                                    "properties": {
                                      "inputs": {
                                        "additionalProperties": {},
                                        "type": "object"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "package": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "experimental_data_stream_features": {
                                        "items": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "data_stream": {
                                              "type": "string"
                                            },
                                            "features": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "doc_value_only_numeric": {
                                                  "type": "boolean"
                                                },
                                                "doc_value_only_other": {
                                                  "type": "boolean"
                                                },
                                                "synthetic_source": {
                                                  "type": "boolean"
                                                },
                                                "tsdb": {
                                                  "type": "boolean"
                                                }
                                              },
                                              "type": "object"
                                            }
                                          },
                                          "required": [
                                            "data_stream",
                                            "features"
                                          ],
                                          "type": "object"
                                        },
                                        "type": "array"
                                      },
                                      "name": {
                                        "description": "Package name",
                                        "type": "string"
                                      },
                                      "requires_root": {
                                        "type": "boolean"
                                      },
                                      "title": {
                                        "type": "string"
                                      },
                                      "version": {
                                        "description": "Package version",
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "version"
                                    ],
                                    "type": "object"
                                  },
                                  "policy_id": {
                                    "deprecated": true,
                                    "description": "Agent policy ID where that package policy will be added",
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "policy_ids": {
                                    "items": {
                                      "description": "Agent policy IDs where that package policy will be added",
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "revision": {
                                    "type": "number"
                                  },
                                  "secret_references": {
                                    "items": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "updated_at": {
                                    "type": "string"
                                  },
                                  "updated_by": {
                                    "type": "string"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  },
                                  "version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "name",
                                  "enabled",
                                  "inputs",
                                  "id",
                                  "revision",
                                  "updated_at",
                                  "updated_by",
                                  "created_at",
                                  "created_by"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            }
                          ]
                        },
                        "revision": {
                          "type": "number"
                        },
                        "schema_version": {
                          "type": "string"
                        },
                        "space_ids": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "status": {
                          "enum": [
                            "active",
                            "inactive"
                          ],
                          "type": "string"
                        },
                        "supports_agentless": {
                          "default": false,
                          "description": "Indicates whether the agent policy supports agentless integrations.",
                          "nullable": true,
                          "type": "boolean"
                        },
                        "unenroll_timeout": {
                          "minimum": 0,
                          "type": "number"
                        },
                        "unprivileged_agents": {
                          "type": "number"
                        },
                        "updated_at": {
                          "type": "string"
                        },
                        "updated_by": {
                          "type": "string"
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "namespace",
                        "is_managed",
                        "is_protected",
                        "status",
                        "updated_at",
                        "updated_by",
                        "revision"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent policies"
        ]
      }
    },
    "/api/fleet/agent_policies/_bulk_get": {
      "post": {
        "description": "Bulk get agent policies",
        "operationId": "%2Fapi%2Ffleet%2Fagent_policies%2F_bulk_get#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "enum": [
                "simplified",
                "legacy"
              ],
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "full": {
                    "description": "get full policies with package policies populated",
                    "type": "boolean"
                  },
                  "ids": {
                    "description": "list of package policy ids",
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "ignoreMissing": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "ids"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "advanced_settings": {
                            "additionalProperties": false,
                            "properties": {
                              "agent_download_target_directory": {
                                "nullable": true
                              },
                              "agent_download_timeout": {
                                "default": "2h",
                                "nullable": true
                              },
                              "agent_limits_go_max_procs": {
                                "nullable": true
                              },
                              "agent_logging_level": {
                                "default": "info",
                                "nullable": true
                              },
                              "agent_logging_metrics_period": {
                                "default": "30s",
                                "nullable": true
                              }
                            },
                            "type": "object"
                          },
                          "agent_features": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "enabled": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "name",
                                "enabled"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "agents": {
                            "type": "number"
                          },
                          "data_output_id": {
                            "nullable": true,
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "download_source_id": {
                            "nullable": true,
                            "type": "string"
                          },
                          "fleet_server_host_id": {
                            "nullable": true,
                            "type": "string"
                          },
                          "global_data_tags": {
                            "description": "User defined data tags that are added to all of the inputs. The values can be strings or numbers.",
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "value": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "number"
                                    }
                                  ]
                                }
                              },
                              "required": [
                                "name",
                                "value"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "has_fleet_server": {
                            "type": "boolean"
                          },
                          "id": {
                            "type": "string"
                          },
                          "inactivity_timeout": {
                            "default": 1209600,
                            "minimum": 0,
                            "type": "number"
                          },
                          "is_default": {
                            "type": "boolean"
                          },
                          "is_default_fleet_server": {
                            "type": "boolean"
                          },
                          "is_managed": {
                            "type": "boolean"
                          },
                          "is_preconfigured": {
                            "type": "boolean"
                          },
                          "is_protected": {
                            "description": "Indicates whether the agent policy has tamper protection enabled. Default false.",
                            "type": "boolean"
                          },
                          "keep_monitoring_alive": {
                            "default": false,
                            "description": "When set to true, monitoring will be enabled but logs/metrics collection will be disabled",
                            "nullable": true,
                            "type": "boolean"
                          },
                          "monitoring_diagnostics": {
                            "additionalProperties": false,
                            "properties": {
                              "limit": {
                                "additionalProperties": false,
                                "properties": {
                                  "burst": {
                                    "type": "number"
                                  },
                                  "interval": {
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "uploader": {
                                "additionalProperties": false,
                                "properties": {
                                  "init_dur": {
                                    "type": "string"
                                  },
                                  "max_dur": {
                                    "type": "string"
                                  },
                                  "max_retries": {
                                    "type": "number"
                                  }
                                },
                                "type": "object"
                              }
                            },
                            "type": "object"
                          },
                          "monitoring_enabled": {
                            "items": {
                              "enum": [
                                "logs",
                                "metrics",
                                "traces"
                              ],
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "monitoring_http": {
                            "additionalProperties": false,
                            "properties": {
                              "buffer": {
                                "additionalProperties": false,
                                "properties": {
                                  "enabled": {
                                    "default": false,
                                    "type": "boolean"
                                  }
                                },
                                "type": "object"
                              },
                              "enabled": {
                                "type": "boolean"
                              },
                              "host": {
                                "type": "string"
                              },
                              "port": {
                                "maximum": 65353,
                                "minimum": 0,
                                "type": "number"
                              }
                            },
                            "required": [
                              "enabled"
                            ],
                            "type": "object"
                          },
                          "monitoring_output_id": {
                            "nullable": true,
                            "type": "string"
                          },
                          "monitoring_pprof_enabled": {
                            "type": "boolean"
                          },
                          "name": {
                            "minLength": 1,
                            "type": "string"
                          },
                          "namespace": {
                            "minLength": 1,
                            "type": "string"
                          },
                          "overrides": {
                            "additionalProperties": {},
                            "description": "Override settings that are defined in the agent policy. Input settings cannot be overridden. The override option should be used only in unusual circumstances and not as a routine procedure.",
                            "nullable": true,
                            "type": "object"
                          },
                          "package_policies": {
                            "anyOf": [
                              {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              {
                                "description": "This field is present only when retrieving a single agent policy, or when retrieving a list of agent policies with the ?full=true parameter",
                                "items": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "created_at": {
                                      "type": "string"
                                    },
                                    "created_by": {
                                      "type": "string"
                                    },
                                    "description": {
                                      "description": "Package policy description",
                                      "type": "string"
                                    },
                                    "elasticsearch": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "privileges": {
                                          "additionalProperties": true,
                                          "properties": {
                                            "cluster": {
                                              "items": {
                                                "type": "string"
                                              },
                                              "type": "array"
                                            }
                                          },
                                          "type": "object"
                                        }
                                      },
                                      "type": "object"
                                    },
                                    "enabled": {
                                      "type": "boolean"
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "inputs": {
                                      "items": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "compiled_input": {},
                                          "config": {
                                            "additionalProperties": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "frozen": {
                                                  "type": "boolean"
                                                },
                                                "type": {
                                                  "type": "string"
                                                },
                                                "value": {}
                                              },
                                              "required": [
                                                "value"
                                              ],
                                              "type": "object"
                                            },
                                            "description": "Package variable (see integration documentation for more information)",
                                            "type": "object"
                                          },
                                          "enabled": {
                                            "type": "boolean"
                                          },
                                          "id": {
                                            "type": "string"
                                          },
                                          "keep_enabled": {
                                            "type": "boolean"
                                          },
                                          "policy_template": {
                                            "type": "string"
                                          },
                                          "streams": {
                                            "items": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "compiled_stream": {},
                                                "config": {
                                                  "additionalProperties": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "frozen": {
                                                        "type": "boolean"
                                                      },
                                                      "type": {
                                                        "type": "string"
                                                      },
                                                      "value": {}
                                                    },
                                                    "required": [
                                                      "value"
                                                    ],
                                                    "type": "object"
                                                  },
                                                  "description": "Package variable (see integration documentation for more information)",
                                                  "type": "object"
                                                },
                                                "data_stream": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "dataset": {
                                                      "type": "string"
                                                    },
                                                    "elasticsearch": {
                                                      "additionalProperties": false,
                                                      "properties": {
                                                        "dynamic_dataset": {
                                                          "type": "boolean"
                                                        },
                                                        "dynamic_namespace": {
                                                          "type": "boolean"
                                                        },
                                                        "privileges": {
                                                          "additionalProperties": false,
                                                          "properties": {
                                                            "indices": {
                                                              "items": {
                                                                "type": "string"
                                                              },
                                                              "type": "array"
                                                            }
                                                          },
                                                          "type": "object"
                                                        }
                                                      },
                                                      "type": "object"
                                                    },
                                                    "type": {
                                                      "type": "string"
                                                    }
                                                  },
                                                  "required": [
                                                    "dataset",
                                                    "type"
                                                  ],
                                                  "type": "object"
                                                },
                                                "enabled": {
                                                  "type": "boolean"
                                                },
                                                "id": {
                                                  "type": "string"
                                                },
                                                "keep_enabled": {
                                                  "type": "boolean"
                                                },
                                                "release": {
                                                  "enum": [
                                                    "ga",
                                                    "beta",
                                                    "experimental"
                                                  ],
                                                  "type": "string"
                                                },
                                                "vars": {
                                                  "additionalProperties": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "frozen": {
                                                        "type": "boolean"
                                                      },
                                                      "type": {
                                                        "type": "string"
                                                      },
                                                      "value": {}
                                                    },
                                                    "required": [
                                                      "value"
                                                    ],
                                                    "type": "object"
                                                  },
                                                  "description": "Package variable (see integration documentation for more information)",
                                                  "type": "object"
                                                }
                                              },
                                              "required": [
                                                "enabled",
                                                "data_stream",
                                                "compiled_stream"
                                              ],
                                              "type": "object"
                                            },
                                            "type": "array"
                                          },
                                          "type": {
                                            "type": "string"
                                          },
                                          "vars": {
                                            "additionalProperties": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "frozen": {
                                                  "type": "boolean"
                                                },
                                                "type": {
                                                  "type": "string"
                                                },
                                                "value": {}
                                              },
                                              "required": [
                                                "value"
                                              ],
                                              "type": "object"
                                            },
                                            "description": "Package variable (see integration documentation for more information)",
                                            "type": "object"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "enabled",
                                          "streams",
                                          "compiled_input"
                                        ],
                                        "type": "object"
                                      },
                                      "type": "array"
                                    },
                                    "is_managed": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "description": "Package policy name (should be unique)",
                                      "type": "string"
                                    },
                                    "namespace": {
                                      "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                                      "type": "string"
                                    },
                                    "output_id": {
                                      "nullable": true,
                                      "type": "string"
                                    },
                                    "overrides": {
                                      "additionalProperties": false,
                                      "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                                      "nullable": true,
                                      "properties": {
                                        "inputs": {
                                          "additionalProperties": {},
                                          "type": "object"
                                        }
                                      },
                                      "type": "object"
                                    },
                                    "package": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "experimental_data_stream_features": {
                                          "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "data_stream": {
                                                "type": "string"
                                              },
                                              "features": {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "doc_value_only_numeric": {
                                                    "type": "boolean"
                                                  },
                                                  "doc_value_only_other": {
                                                    "type": "boolean"
                                                  },
                                                  "synthetic_source": {
                                                    "type": "boolean"
                                                  },
                                                  "tsdb": {
                                                    "type": "boolean"
                                                  }
                                                },
                                                "type": "object"
                                              }
                                            },
                                            "required": [
                                              "data_stream",
                                              "features"
                                            ],
                                            "type": "object"
                                          },
                                          "type": "array"
                                        },
                                        "name": {
                                          "description": "Package name",
                                          "type": "string"
                                        },
                                        "requires_root": {
                                          "type": "boolean"
                                        },
                                        "title": {
                                          "type": "string"
                                        },
                                        "version": {
                                          "description": "Package version",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "name",
                                        "version"
                                      ],
                                      "type": "object"
                                    },
                                    "policy_id": {
                                      "deprecated": true,
                                      "description": "Agent policy ID where that package policy will be added",
                                      "nullable": true,
                                      "type": "string"
                                    },
                                    "policy_ids": {
                                      "items": {
                                        "description": "Agent policy IDs where that package policy will be added",
                                        "type": "string"
                                      },
                                      "type": "array"
                                    },
                                    "revision": {
                                      "type": "number"
                                    },
                                    "secret_references": {
                                      "items": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "id": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "id"
                                        ],
                                        "type": "object"
                                      },
                                      "type": "array"
                                    },
                                    "updated_at": {
                                      "type": "string"
                                    },
                                    "updated_by": {
                                      "type": "string"
                                    },
                                    "vars": {
                                      "additionalProperties": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "frozen": {
                                            "type": "boolean"
                                          },
                                          "type": {
                                            "type": "string"
                                          },
                                          "value": {}
                                        },
                                        "required": [
                                          "value"
                                        ],
                                        "type": "object"
                                      },
                                      "description": "Package variable (see integration documentation for more information)",
                                      "type": "object"
                                    },
                                    "version": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "name",
                                    "enabled",
                                    "inputs",
                                    "id",
                                    "revision",
                                    "updated_at",
                                    "updated_by",
                                    "created_at",
                                    "created_by"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              }
                            ]
                          },
                          "revision": {
                            "type": "number"
                          },
                          "schema_version": {
                            "type": "string"
                          },
                          "space_ids": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "status": {
                            "enum": [
                              "active",
                              "inactive"
                            ],
                            "type": "string"
                          },
                          "supports_agentless": {
                            "default": false,
                            "description": "Indicates whether the agent policy supports agentless integrations.",
                            "nullable": true,
                            "type": "boolean"
                          },
                          "unenroll_timeout": {
                            "minimum": 0,
                            "type": "number"
                          },
                          "unprivileged_agents": {
                            "type": "number"
                          },
                          "updated_at": {
                            "type": "string"
                          },
                          "updated_by": {
                            "type": "string"
                          },
                          "version": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "namespace",
                          "is_managed",
                          "is_protected",
                          "status",
                          "updated_at",
                          "updated_by",
                          "revision"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent policies"
        ]
      }
    },
    "/api/fleet/agent_policies/delete": {
      "post": {
        "description": "Delete agent policy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagent_policies%2Fdelete#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "agentPolicyId": {
                    "type": "string"
                  },
                  "force": {
                    "description": "bypass validation checks that can prevent agent policy deletion",
                    "type": "boolean"
                  }
                },
                "required": [
                  "agentPolicyId"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "name"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent policies"
        ]
      }
    },
    "/api/fleet/agent_policies/{agentPolicyId}": {
      "get": {
        "description": "Get an agent policy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagent_policies%2F%7BagentPolicyId%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentPolicyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "enum": [
                "simplified",
                "legacy"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "advanced_settings": {
                          "additionalProperties": false,
                          "properties": {
                            "agent_download_target_directory": {
                              "nullable": true
                            },
                            "agent_download_timeout": {
                              "default": "2h",
                              "nullable": true
                            },
                            "agent_limits_go_max_procs": {
                              "nullable": true
                            },
                            "agent_logging_level": {
                              "default": "info",
                              "nullable": true
                            },
                            "agent_logging_metrics_period": {
                              "default": "30s",
                              "nullable": true
                            }
                          },
                          "type": "object"
                        },
                        "agent_features": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "enabled": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "enabled"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "agents": {
                          "type": "number"
                        },
                        "data_output_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "download_source_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "fleet_server_host_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "global_data_tags": {
                          "description": "User defined data tags that are added to all of the inputs. The values can be strings or numbers.",
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "value": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "number"
                                  }
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "value"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "has_fleet_server": {
                          "type": "boolean"
                        },
                        "id": {
                          "type": "string"
                        },
                        "inactivity_timeout": {
                          "default": 1209600,
                          "minimum": 0,
                          "type": "number"
                        },
                        "is_default": {
                          "type": "boolean"
                        },
                        "is_default_fleet_server": {
                          "type": "boolean"
                        },
                        "is_managed": {
                          "type": "boolean"
                        },
                        "is_preconfigured": {
                          "type": "boolean"
                        },
                        "is_protected": {
                          "description": "Indicates whether the agent policy has tamper protection enabled. Default false.",
                          "type": "boolean"
                        },
                        "keep_monitoring_alive": {
                          "default": false,
                          "description": "When set to true, monitoring will be enabled but logs/metrics collection will be disabled",
                          "nullable": true,
                          "type": "boolean"
                        },
                        "monitoring_diagnostics": {
                          "additionalProperties": false,
                          "properties": {
                            "limit": {
                              "additionalProperties": false,
                              "properties": {
                                "burst": {
                                  "type": "number"
                                },
                                "interval": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "uploader": {
                              "additionalProperties": false,
                              "properties": {
                                "init_dur": {
                                  "type": "string"
                                },
                                "max_dur": {
                                  "type": "string"
                                },
                                "max_retries": {
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "monitoring_enabled": {
                          "items": {
                            "enum": [
                              "logs",
                              "metrics",
                              "traces"
                            ],
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "monitoring_http": {
                          "additionalProperties": false,
                          "properties": {
                            "buffer": {
                              "additionalProperties": false,
                              "properties": {
                                "enabled": {
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "type": "object"
                            },
                            "enabled": {
                              "type": "boolean"
                            },
                            "host": {
                              "type": "string"
                            },
                            "port": {
                              "maximum": 65353,
                              "minimum": 0,
                              "type": "number"
                            }
                          },
                          "required": [
                            "enabled"
                          ],
                          "type": "object"
                        },
                        "monitoring_output_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "monitoring_pprof_enabled": {
                          "type": "boolean"
                        },
                        "name": {
                          "minLength": 1,
                          "type": "string"
                        },
                        "namespace": {
                          "minLength": 1,
                          "type": "string"
                        },
                        "overrides": {
                          "additionalProperties": {},
                          "description": "Override settings that are defined in the agent policy. Input settings cannot be overridden. The override option should be used only in unusual circumstances and not as a routine procedure.",
                          "nullable": true,
                          "type": "object"
                        },
                        "package_policies": {
                          "anyOf": [
                            {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            {
                              "description": "This field is present only when retrieving a single agent policy, or when retrieving a list of agent policies with the ?full=true parameter",
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "created_at": {
                                    "type": "string"
                                  },
                                  "created_by": {
                                    "type": "string"
                                  },
                                  "description": {
                                    "description": "Package policy description",
                                    "type": "string"
                                  },
                                  "elasticsearch": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "privileges": {
                                        "additionalProperties": true,
                                        "properties": {
                                          "cluster": {
                                            "items": {
                                              "type": "string"
                                            },
                                            "type": "array"
                                          }
                                        },
                                        "type": "object"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "enabled": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "inputs": {
                                    "items": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "compiled_input": {},
                                        "config": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        },
                                        "enabled": {
                                          "type": "boolean"
                                        },
                                        "id": {
                                          "type": "string"
                                        },
                                        "keep_enabled": {
                                          "type": "boolean"
                                        },
                                        "policy_template": {
                                          "type": "string"
                                        },
                                        "streams": {
                                          "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "compiled_stream": {},
                                              "config": {
                                                "additionalProperties": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "frozen": {
                                                      "type": "boolean"
                                                    },
                                                    "type": {
                                                      "type": "string"
                                                    },
                                                    "value": {}
                                                  },
                                                  "required": [
                                                    "value"
                                                  ],
                                                  "type": "object"
                                                },
                                                "description": "Package variable (see integration documentation for more information)",
                                                "type": "object"
                                              },
                                              "data_stream": {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "dataset": {
                                                    "type": "string"
                                                  },
                                                  "elasticsearch": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "dynamic_dataset": {
                                                        "type": "boolean"
                                                      },
                                                      "dynamic_namespace": {
                                                        "type": "boolean"
                                                      },
                                                      "privileges": {
                                                        "additionalProperties": false,
                                                        "properties": {
                                                          "indices": {
                                                            "items": {
                                                              "type": "string"
                                                            },
                                                            "type": "array"
                                                          }
                                                        },
                                                        "type": "object"
                                                      }
                                                    },
                                                    "type": "object"
                                                  },
                                                  "type": {
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "dataset",
                                                  "type"
                                                ],
                                                "type": "object"
                                              },
                                              "enabled": {
                                                "type": "boolean"
                                              },
                                              "id": {
                                                "type": "string"
                                              },
                                              "keep_enabled": {
                                                "type": "boolean"
                                              },
                                              "release": {
                                                "enum": [
                                                  "ga",
                                                  "beta",
                                                  "experimental"
                                                ],
                                                "type": "string"
                                              },
                                              "vars": {
                                                "additionalProperties": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "frozen": {
                                                      "type": "boolean"
                                                    },
                                                    "type": {
                                                      "type": "string"
                                                    },
                                                    "value": {}
                                                  },
                                                  "required": [
                                                    "value"
                                                  ],
                                                  "type": "object"
                                                },
                                                "description": "Package variable (see integration documentation for more information)",
                                                "type": "object"
                                              }
                                            },
                                            "required": [
                                              "enabled",
                                              "data_stream",
                                              "compiled_stream"
                                            ],
                                            "type": "object"
                                          },
                                          "type": "array"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "vars": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "enabled",
                                        "streams",
                                        "compiled_input"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "is_managed": {
                                    "type": "boolean"
                                  },
                                  "name": {
                                    "description": "Package policy name (should be unique)",
                                    "type": "string"
                                  },
                                  "namespace": {
                                    "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                                    "type": "string"
                                  },
                                  "output_id": {
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "overrides": {
                                    "additionalProperties": false,
                                    "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                                    "nullable": true,
                                    "properties": {
                                      "inputs": {
                                        "additionalProperties": {},
                                        "type": "object"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "package": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "experimental_data_stream_features": {
                                        "items": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "data_stream": {
                                              "type": "string"
                                            },
                                            "features": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "doc_value_only_numeric": {
                                                  "type": "boolean"
                                                },
                                                "doc_value_only_other": {
                                                  "type": "boolean"
                                                },
                                                "synthetic_source": {
                                                  "type": "boolean"
                                                },
                                                "tsdb": {
                                                  "type": "boolean"
                                                }
                                              },
                                              "type": "object"
                                            }
                                          },
                                          "required": [
                                            "data_stream",
                                            "features"
                                          ],
                                          "type": "object"
                                        },
                                        "type": "array"
                                      },
                                      "name": {
                                        "description": "Package name",
                                        "type": "string"
                                      },
                                      "requires_root": {
                                        "type": "boolean"
                                      },
                                      "title": {
                                        "type": "string"
                                      },
                                      "version": {
                                        "description": "Package version",
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "version"
                                    ],
                                    "type": "object"
                                  },
                                  "policy_id": {
                                    "deprecated": true,
                                    "description": "Agent policy ID where that package policy will be added",
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "policy_ids": {
                                    "items": {
                                      "description": "Agent policy IDs where that package policy will be added",
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "revision": {
                                    "type": "number"
                                  },
                                  "secret_references": {
                                    "items": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "updated_at": {
                                    "type": "string"
                                  },
                                  "updated_by": {
                                    "type": "string"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  },
                                  "version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "name",
                                  "enabled",
                                  "inputs",
                                  "id",
                                  "revision",
                                  "updated_at",
                                  "updated_by",
                                  "created_at",
                                  "created_by"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            }
                          ]
                        },
                        "revision": {
                          "type": "number"
                        },
                        "schema_version": {
                          "type": "string"
                        },
                        "space_ids": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "status": {
                          "enum": [
                            "active",
                            "inactive"
                          ],
                          "type": "string"
                        },
                        "supports_agentless": {
                          "default": false,
                          "description": "Indicates whether the agent policy supports agentless integrations.",
                          "nullable": true,
                          "type": "boolean"
                        },
                        "unenroll_timeout": {
                          "minimum": 0,
                          "type": "number"
                        },
                        "unprivileged_agents": {
                          "type": "number"
                        },
                        "updated_at": {
                          "type": "string"
                        },
                        "updated_by": {
                          "type": "string"
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "namespace",
                        "is_managed",
                        "is_protected",
                        "status",
                        "updated_at",
                        "updated_by",
                        "revision"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent policies"
        ]
      },
      "put": {
        "description": "Update an agent policy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagent_policies%2F%7BagentPolicyId%7D#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentPolicyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "enum": [
                "simplified",
                "legacy"
              ],
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "advanced_settings": {
                    "additionalProperties": false,
                    "properties": {
                      "agent_download_target_directory": {
                        "nullable": true
                      },
                      "agent_download_timeout": {
                        "default": "2h",
                        "nullable": true
                      },
                      "agent_limits_go_max_procs": {
                        "nullable": true
                      },
                      "agent_logging_level": {
                        "default": "info",
                        "nullable": true
                      },
                      "agent_logging_metrics_period": {
                        "default": "30s",
                        "nullable": true
                      }
                    },
                    "type": "object"
                  },
                  "agent_features": {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "enabled": {
                          "type": "boolean"
                        },
                        "name": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "name",
                        "enabled"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  "data_output_id": {
                    "nullable": true,
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "download_source_id": {
                    "nullable": true,
                    "type": "string"
                  },
                  "fleet_server_host_id": {
                    "nullable": true,
                    "type": "string"
                  },
                  "force": {
                    "type": "boolean"
                  },
                  "global_data_tags": {
                    "description": "User defined data tags that are added to all of the inputs. The values can be strings or numbers.",
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "value": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            }
                          ]
                        }
                      },
                      "required": [
                        "name",
                        "value"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  "has_fleet_server": {
                    "type": "boolean"
                  },
                  "id": {
                    "type": "string"
                  },
                  "inactivity_timeout": {
                    "default": 1209600,
                    "minimum": 0,
                    "type": "number"
                  },
                  "is_default": {
                    "type": "boolean"
                  },
                  "is_default_fleet_server": {
                    "type": "boolean"
                  },
                  "is_managed": {
                    "type": "boolean"
                  },
                  "is_protected": {
                    "type": "boolean"
                  },
                  "keep_monitoring_alive": {
                    "default": false,
                    "description": "When set to true, monitoring will be enabled but logs/metrics collection will be disabled",
                    "nullable": true,
                    "type": "boolean"
                  },
                  "monitoring_diagnostics": {
                    "additionalProperties": false,
                    "properties": {
                      "limit": {
                        "additionalProperties": false,
                        "properties": {
                          "burst": {
                            "type": "number"
                          },
                          "interval": {
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "uploader": {
                        "additionalProperties": false,
                        "properties": {
                          "init_dur": {
                            "type": "string"
                          },
                          "max_dur": {
                            "type": "string"
                          },
                          "max_retries": {
                            "type": "number"
                          }
                        },
                        "type": "object"
                      }
                    },
                    "type": "object"
                  },
                  "monitoring_enabled": {
                    "items": {
                      "enum": [
                        "logs",
                        "metrics",
                        "traces"
                      ],
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "monitoring_http": {
                    "additionalProperties": false,
                    "properties": {
                      "buffer": {
                        "additionalProperties": false,
                        "properties": {
                          "enabled": {
                            "default": false,
                            "type": "boolean"
                          }
                        },
                        "type": "object"
                      },
                      "enabled": {
                        "type": "boolean"
                      },
                      "host": {
                        "type": "string"
                      },
                      "port": {
                        "maximum": 65353,
                        "minimum": 0,
                        "type": "number"
                      }
                    },
                    "required": [
                      "enabled"
                    ],
                    "type": "object"
                  },
                  "monitoring_output_id": {
                    "nullable": true,
                    "type": "string"
                  },
                  "monitoring_pprof_enabled": {
                    "type": "boolean"
                  },
                  "name": {
                    "minLength": 1,
                    "type": "string"
                  },
                  "namespace": {
                    "minLength": 1,
                    "type": "string"
                  },
                  "overrides": {
                    "additionalProperties": {},
                    "description": "Override settings that are defined in the agent policy. Input settings cannot be overridden. The override option should be used only in unusual circumstances and not as a routine procedure.",
                    "nullable": true,
                    "type": "object"
                  },
                  "space_ids": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "supports_agentless": {
                    "default": false,
                    "description": "Indicates whether the agent policy supports agentless integrations.",
                    "nullable": true,
                    "type": "boolean"
                  },
                  "unenroll_timeout": {
                    "minimum": 0,
                    "type": "number"
                  }
                },
                "required": [
                  "name",
                  "namespace"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "advanced_settings": {
                          "additionalProperties": false,
                          "properties": {
                            "agent_download_target_directory": {
                              "nullable": true
                            },
                            "agent_download_timeout": {
                              "default": "2h",
                              "nullable": true
                            },
                            "agent_limits_go_max_procs": {
                              "nullable": true
                            },
                            "agent_logging_level": {
                              "default": "info",
                              "nullable": true
                            },
                            "agent_logging_metrics_period": {
                              "default": "30s",
                              "nullable": true
                            }
                          },
                          "type": "object"
                        },
                        "agent_features": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "enabled": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "enabled"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "agents": {
                          "type": "number"
                        },
                        "data_output_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "download_source_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "fleet_server_host_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "global_data_tags": {
                          "description": "User defined data tags that are added to all of the inputs. The values can be strings or numbers.",
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "value": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "number"
                                  }
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "value"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "has_fleet_server": {
                          "type": "boolean"
                        },
                        "id": {
                          "type": "string"
                        },
                        "inactivity_timeout": {
                          "default": 1209600,
                          "minimum": 0,
                          "type": "number"
                        },
                        "is_default": {
                          "type": "boolean"
                        },
                        "is_default_fleet_server": {
                          "type": "boolean"
                        },
                        "is_managed": {
                          "type": "boolean"
                        },
                        "is_preconfigured": {
                          "type": "boolean"
                        },
                        "is_protected": {
                          "description": "Indicates whether the agent policy has tamper protection enabled. Default false.",
                          "type": "boolean"
                        },
                        "keep_monitoring_alive": {
                          "default": false,
                          "description": "When set to true, monitoring will be enabled but logs/metrics collection will be disabled",
                          "nullable": true,
                          "type": "boolean"
                        },
                        "monitoring_diagnostics": {
                          "additionalProperties": false,
                          "properties": {
                            "limit": {
                              "additionalProperties": false,
                              "properties": {
                                "burst": {
                                  "type": "number"
                                },
                                "interval": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "uploader": {
                              "additionalProperties": false,
                              "properties": {
                                "init_dur": {
                                  "type": "string"
                                },
                                "max_dur": {
                                  "type": "string"
                                },
                                "max_retries": {
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "monitoring_enabled": {
                          "items": {
                            "enum": [
                              "logs",
                              "metrics",
                              "traces"
                            ],
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "monitoring_http": {
                          "additionalProperties": false,
                          "properties": {
                            "buffer": {
                              "additionalProperties": false,
                              "properties": {
                                "enabled": {
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "type": "object"
                            },
                            "enabled": {
                              "type": "boolean"
                            },
                            "host": {
                              "type": "string"
                            },
                            "port": {
                              "maximum": 65353,
                              "minimum": 0,
                              "type": "number"
                            }
                          },
                          "required": [
                            "enabled"
                          ],
                          "type": "object"
                        },
                        "monitoring_output_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "monitoring_pprof_enabled": {
                          "type": "boolean"
                        },
                        "name": {
                          "minLength": 1,
                          "type": "string"
                        },
                        "namespace": {
                          "minLength": 1,
                          "type": "string"
                        },
                        "overrides": {
                          "additionalProperties": {},
                          "description": "Override settings that are defined in the agent policy. Input settings cannot be overridden. The override option should be used only in unusual circumstances and not as a routine procedure.",
                          "nullable": true,
                          "type": "object"
                        },
                        "package_policies": {
                          "anyOf": [
                            {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            {
                              "description": "This field is present only when retrieving a single agent policy, or when retrieving a list of agent policies with the ?full=true parameter",
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "created_at": {
                                    "type": "string"
                                  },
                                  "created_by": {
                                    "type": "string"
                                  },
                                  "description": {
                                    "description": "Package policy description",
                                    "type": "string"
                                  },
                                  "elasticsearch": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "privileges": {
                                        "additionalProperties": true,
                                        "properties": {
                                          "cluster": {
                                            "items": {
                                              "type": "string"
                                            },
                                            "type": "array"
                                          }
                                        },
                                        "type": "object"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "enabled": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "inputs": {
                                    "items": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "compiled_input": {},
                                        "config": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        },
                                        "enabled": {
                                          "type": "boolean"
                                        },
                                        "id": {
                                          "type": "string"
                                        },
                                        "keep_enabled": {
                                          "type": "boolean"
                                        },
                                        "policy_template": {
                                          "type": "string"
                                        },
                                        "streams": {
                                          "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "compiled_stream": {},
                                              "config": {
                                                "additionalProperties": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "frozen": {
                                                      "type": "boolean"
                                                    },
                                                    "type": {
                                                      "type": "string"
                                                    },
                                                    "value": {}
                                                  },
                                                  "required": [
                                                    "value"
                                                  ],
                                                  "type": "object"
                                                },
                                                "description": "Package variable (see integration documentation for more information)",
                                                "type": "object"
                                              },
                                              "data_stream": {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "dataset": {
                                                    "type": "string"
                                                  },
                                                  "elasticsearch": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "dynamic_dataset": {
                                                        "type": "boolean"
                                                      },
                                                      "dynamic_namespace": {
                                                        "type": "boolean"
                                                      },
                                                      "privileges": {
                                                        "additionalProperties": false,
                                                        "properties": {
                                                          "indices": {
                                                            "items": {
                                                              "type": "string"
                                                            },
                                                            "type": "array"
                                                          }
                                                        },
                                                        "type": "object"
                                                      }
                                                    },
                                                    "type": "object"
                                                  },
                                                  "type": {
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "dataset",
                                                  "type"
                                                ],
                                                "type": "object"
                                              },
                                              "enabled": {
                                                "type": "boolean"
                                              },
                                              "id": {
                                                "type": "string"
                                              },
                                              "keep_enabled": {
                                                "type": "boolean"
                                              },
                                              "release": {
                                                "enum": [
                                                  "ga",
                                                  "beta",
                                                  "experimental"
                                                ],
                                                "type": "string"
                                              },
                                              "vars": {
                                                "additionalProperties": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "frozen": {
                                                      "type": "boolean"
                                                    },
                                                    "type": {
                                                      "type": "string"
                                                    },
                                                    "value": {}
                                                  },
                                                  "required": [
                                                    "value"
                                                  ],
                                                  "type": "object"
                                                },
                                                "description": "Package variable (see integration documentation for more information)",
                                                "type": "object"
                                              }
                                            },
                                            "required": [
                                              "enabled",
                                              "data_stream",
                                              "compiled_stream"
                                            ],
                                            "type": "object"
                                          },
                                          "type": "array"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "vars": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "enabled",
                                        "streams",
                                        "compiled_input"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "is_managed": {
                                    "type": "boolean"
                                  },
                                  "name": {
                                    "description": "Package policy name (should be unique)",
                                    "type": "string"
                                  },
                                  "namespace": {
                                    "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                                    "type": "string"
                                  },
                                  "output_id": {
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "overrides": {
                                    "additionalProperties": false,
                                    "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                                    "nullable": true,
                                    "properties": {
                                      "inputs": {
                                        "additionalProperties": {},
                                        "type": "object"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "package": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "experimental_data_stream_features": {
                                        "items": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "data_stream": {
                                              "type": "string"
                                            },
                                            "features": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "doc_value_only_numeric": {
                                                  "type": "boolean"
                                                },
                                                "doc_value_only_other": {
                                                  "type": "boolean"
                                                },
                                                "synthetic_source": {
                                                  "type": "boolean"
                                                },
                                                "tsdb": {
                                                  "type": "boolean"
                                                }
                                              },
                                              "type": "object"
                                            }
                                          },
                                          "required": [
                                            "data_stream",
                                            "features"
                                          ],
                                          "type": "object"
                                        },
                                        "type": "array"
                                      },
                                      "name": {
                                        "description": "Package name",
                                        "type": "string"
                                      },
                                      "requires_root": {
                                        "type": "boolean"
                                      },
                                      "title": {
                                        "type": "string"
                                      },
                                      "version": {
                                        "description": "Package version",
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "version"
                                    ],
                                    "type": "object"
                                  },
                                  "policy_id": {
                                    "deprecated": true,
                                    "description": "Agent policy ID where that package policy will be added",
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "policy_ids": {
                                    "items": {
                                      "description": "Agent policy IDs where that package policy will be added",
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "revision": {
                                    "type": "number"
                                  },
                                  "secret_references": {
                                    "items": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "updated_at": {
                                    "type": "string"
                                  },
                                  "updated_by": {
                                    "type": "string"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  },
                                  "version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "name",
                                  "enabled",
                                  "inputs",
                                  "id",
                                  "revision",
                                  "updated_at",
                                  "updated_by",
                                  "created_at",
                                  "created_by"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            }
                          ]
                        },
                        "revision": {
                          "type": "number"
                        },
                        "schema_version": {
                          "type": "string"
                        },
                        "space_ids": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "status": {
                          "enum": [
                            "active",
                            "inactive"
                          ],
                          "type": "string"
                        },
                        "supports_agentless": {
                          "default": false,
                          "description": "Indicates whether the agent policy supports agentless integrations.",
                          "nullable": true,
                          "type": "boolean"
                        },
                        "unenroll_timeout": {
                          "minimum": 0,
                          "type": "number"
                        },
                        "unprivileged_agents": {
                          "type": "number"
                        },
                        "updated_at": {
                          "type": "string"
                        },
                        "updated_by": {
                          "type": "string"
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "namespace",
                        "is_managed",
                        "is_protected",
                        "status",
                        "updated_at",
                        "updated_by",
                        "revision"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent policies"
        ]
      }
    },
    "/api/fleet/agent_policies/{agentPolicyId}/copy": {
      "post": {
        "description": "Copy an agent policy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagent_policies%2F%7BagentPolicyId%7D%2Fcopy#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentPolicyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "enum": [
                "simplified",
                "legacy"
              ],
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "description": {
                    "type": "string"
                  },
                  "name": {
                    "minLength": 1,
                    "type": "string"
                  }
                },
                "required": [
                  "name"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "advanced_settings": {
                          "additionalProperties": false,
                          "properties": {
                            "agent_download_target_directory": {
                              "nullable": true
                            },
                            "agent_download_timeout": {
                              "default": "2h",
                              "nullable": true
                            },
                            "agent_limits_go_max_procs": {
                              "nullable": true
                            },
                            "agent_logging_level": {
                              "default": "info",
                              "nullable": true
                            },
                            "agent_logging_metrics_period": {
                              "default": "30s",
                              "nullable": true
                            }
                          },
                          "type": "object"
                        },
                        "agent_features": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "enabled": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "enabled"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "agents": {
                          "type": "number"
                        },
                        "data_output_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "download_source_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "fleet_server_host_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "global_data_tags": {
                          "description": "User defined data tags that are added to all of the inputs. The values can be strings or numbers.",
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "value": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "number"
                                  }
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "value"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "has_fleet_server": {
                          "type": "boolean"
                        },
                        "id": {
                          "type": "string"
                        },
                        "inactivity_timeout": {
                          "default": 1209600,
                          "minimum": 0,
                          "type": "number"
                        },
                        "is_default": {
                          "type": "boolean"
                        },
                        "is_default_fleet_server": {
                          "type": "boolean"
                        },
                        "is_managed": {
                          "type": "boolean"
                        },
                        "is_preconfigured": {
                          "type": "boolean"
                        },
                        "is_protected": {
                          "description": "Indicates whether the agent policy has tamper protection enabled. Default false.",
                          "type": "boolean"
                        },
                        "keep_monitoring_alive": {
                          "default": false,
                          "description": "When set to true, monitoring will be enabled but logs/metrics collection will be disabled",
                          "nullable": true,
                          "type": "boolean"
                        },
                        "monitoring_diagnostics": {
                          "additionalProperties": false,
                          "properties": {
                            "limit": {
                              "additionalProperties": false,
                              "properties": {
                                "burst": {
                                  "type": "number"
                                },
                                "interval": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "uploader": {
                              "additionalProperties": false,
                              "properties": {
                                "init_dur": {
                                  "type": "string"
                                },
                                "max_dur": {
                                  "type": "string"
                                },
                                "max_retries": {
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "monitoring_enabled": {
                          "items": {
                            "enum": [
                              "logs",
                              "metrics",
                              "traces"
                            ],
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "monitoring_http": {
                          "additionalProperties": false,
                          "properties": {
                            "buffer": {
                              "additionalProperties": false,
                              "properties": {
                                "enabled": {
                                  "default": false,
                                  "type": "boolean"
                                }
                              },
                              "type": "object"
                            },
                            "enabled": {
                              "type": "boolean"
                            },
                            "host": {
                              "type": "string"
                            },
                            "port": {
                              "maximum": 65353,
                              "minimum": 0,
                              "type": "number"
                            }
                          },
                          "required": [
                            "enabled"
                          ],
                          "type": "object"
                        },
                        "monitoring_output_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "monitoring_pprof_enabled": {
                          "type": "boolean"
                        },
                        "name": {
                          "minLength": 1,
                          "type": "string"
                        },
                        "namespace": {
                          "minLength": 1,
                          "type": "string"
                        },
                        "overrides": {
                          "additionalProperties": {},
                          "description": "Override settings that are defined in the agent policy. Input settings cannot be overridden. The override option should be used only in unusual circumstances and not as a routine procedure.",
                          "nullable": true,
                          "type": "object"
                        },
                        "package_policies": {
                          "anyOf": [
                            {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            {
                              "description": "This field is present only when retrieving a single agent policy, or when retrieving a list of agent policies with the ?full=true parameter",
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "created_at": {
                                    "type": "string"
                                  },
                                  "created_by": {
                                    "type": "string"
                                  },
                                  "description": {
                                    "description": "Package policy description",
                                    "type": "string"
                                  },
                                  "elasticsearch": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "privileges": {
                                        "additionalProperties": true,
                                        "properties": {
                                          "cluster": {
                                            "items": {
                                              "type": "string"
                                            },
                                            "type": "array"
                                          }
                                        },
                                        "type": "object"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "enabled": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "inputs": {
                                    "items": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "compiled_input": {},
                                        "config": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        },
                                        "enabled": {
                                          "type": "boolean"
                                        },
                                        "id": {
                                          "type": "string"
                                        },
                                        "keep_enabled": {
                                          "type": "boolean"
                                        },
                                        "policy_template": {
                                          "type": "string"
                                        },
                                        "streams": {
                                          "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "compiled_stream": {},
                                              "config": {
                                                "additionalProperties": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "frozen": {
                                                      "type": "boolean"
                                                    },
                                                    "type": {
                                                      "type": "string"
                                                    },
                                                    "value": {}
                                                  },
                                                  "required": [
                                                    "value"
                                                  ],
                                                  "type": "object"
                                                },
                                                "description": "Package variable (see integration documentation for more information)",
                                                "type": "object"
                                              },
                                              "data_stream": {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "dataset": {
                                                    "type": "string"
                                                  },
                                                  "elasticsearch": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "dynamic_dataset": {
                                                        "type": "boolean"
                                                      },
                                                      "dynamic_namespace": {
                                                        "type": "boolean"
                                                      },
                                                      "privileges": {
                                                        "additionalProperties": false,
                                                        "properties": {
                                                          "indices": {
                                                            "items": {
                                                              "type": "string"
                                                            },
                                                            "type": "array"
                                                          }
                                                        },
                                                        "type": "object"
                                                      }
                                                    },
                                                    "type": "object"
                                                  },
                                                  "type": {
                                                    "type": "string"
                                                  }
                                                },
                                                "required": [
                                                  "dataset",
                                                  "type"
                                                ],
                                                "type": "object"
                                              },
                                              "enabled": {
                                                "type": "boolean"
                                              },
                                              "id": {
                                                "type": "string"
                                              },
                                              "keep_enabled": {
                                                "type": "boolean"
                                              },
                                              "release": {
                                                "enum": [
                                                  "ga",
                                                  "beta",
                                                  "experimental"
                                                ],
                                                "type": "string"
                                              },
                                              "vars": {
                                                "additionalProperties": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "frozen": {
                                                      "type": "boolean"
                                                    },
                                                    "type": {
                                                      "type": "string"
                                                    },
                                                    "value": {}
                                                  },
                                                  "required": [
                                                    "value"
                                                  ],
                                                  "type": "object"
                                                },
                                                "description": "Package variable (see integration documentation for more information)",
                                                "type": "object"
                                              }
                                            },
                                            "required": [
                                              "enabled",
                                              "data_stream",
                                              "compiled_stream"
                                            ],
                                            "type": "object"
                                          },
                                          "type": "array"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "vars": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "enabled",
                                        "streams",
                                        "compiled_input"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "is_managed": {
                                    "type": "boolean"
                                  },
                                  "name": {
                                    "description": "Package policy name (should be unique)",
                                    "type": "string"
                                  },
                                  "namespace": {
                                    "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                                    "type": "string"
                                  },
                                  "output_id": {
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "overrides": {
                                    "additionalProperties": false,
                                    "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                                    "nullable": true,
                                    "properties": {
                                      "inputs": {
                                        "additionalProperties": {},
                                        "type": "object"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "package": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "experimental_data_stream_features": {
                                        "items": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "data_stream": {
                                              "type": "string"
                                            },
                                            "features": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "doc_value_only_numeric": {
                                                  "type": "boolean"
                                                },
                                                "doc_value_only_other": {
                                                  "type": "boolean"
                                                },
                                                "synthetic_source": {
                                                  "type": "boolean"
                                                },
                                                "tsdb": {
                                                  "type": "boolean"
                                                }
                                              },
                                              "type": "object"
                                            }
                                          },
                                          "required": [
                                            "data_stream",
                                            "features"
                                          ],
                                          "type": "object"
                                        },
                                        "type": "array"
                                      },
                                      "name": {
                                        "description": "Package name",
                                        "type": "string"
                                      },
                                      "requires_root": {
                                        "type": "boolean"
                                      },
                                      "title": {
                                        "type": "string"
                                      },
                                      "version": {
                                        "description": "Package version",
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "version"
                                    ],
                                    "type": "object"
                                  },
                                  "policy_id": {
                                    "deprecated": true,
                                    "description": "Agent policy ID where that package policy will be added",
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "policy_ids": {
                                    "items": {
                                      "description": "Agent policy IDs where that package policy will be added",
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "revision": {
                                    "type": "number"
                                  },
                                  "secret_references": {
                                    "items": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "updated_at": {
                                    "type": "string"
                                  },
                                  "updated_by": {
                                    "type": "string"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  },
                                  "version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "name",
                                  "enabled",
                                  "inputs",
                                  "id",
                                  "revision",
                                  "updated_at",
                                  "updated_by",
                                  "created_at",
                                  "created_by"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            }
                          ]
                        },
                        "revision": {
                          "type": "number"
                        },
                        "schema_version": {
                          "type": "string"
                        },
                        "space_ids": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "status": {
                          "enum": [
                            "active",
                            "inactive"
                          ],
                          "type": "string"
                        },
                        "supports_agentless": {
                          "default": false,
                          "description": "Indicates whether the agent policy supports agentless integrations.",
                          "nullable": true,
                          "type": "boolean"
                        },
                        "unenroll_timeout": {
                          "minimum": 0,
                          "type": "number"
                        },
                        "unprivileged_agents": {
                          "type": "number"
                        },
                        "updated_at": {
                          "type": "string"
                        },
                        "updated_by": {
                          "type": "string"
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "namespace",
                        "is_managed",
                        "is_protected",
                        "status",
                        "updated_at",
                        "updated_by",
                        "revision"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent policies"
        ]
      }
    },
    "/api/fleet/agent_policies/{agentPolicyId}/download": {
      "get": {
        "description": "Download an agent policy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagent_policies%2F%7BagentPolicyId%7D%2Fdownload#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentPolicyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "download",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "standalone",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "kubernetes",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent policies"
        ]
      }
    },
    "/api/fleet/agent_policies/{agentPolicyId}/full": {
      "get": {
        "description": "Get a full agent policy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagent_policies%2F%7BagentPolicyId%7D%2Ffull#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentPolicyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "download",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "standalone",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "kubernetes",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "additionalProperties": false,
                          "properties": {
                            "agent": {
                              "additionalProperties": false,
                              "properties": {
                                "download": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "sourceURI": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "sourceURI"
                                  ],
                                  "type": "object"
                                },
                                "features": {
                                  "additionalProperties": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "enabled": {
                                        "type": "boolean"
                                      }
                                    },
                                    "required": [
                                      "enabled"
                                    ],
                                    "type": "object"
                                  },
                                  "type": "object"
                                },
                                "monitoring": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "enabled": {
                                      "type": "boolean"
                                    },
                                    "logs": {
                                      "type": "boolean"
                                    },
                                    "metrics": {
                                      "type": "boolean"
                                    },
                                    "namespace": {
                                      "type": "string"
                                    },
                                    "traces": {
                                      "type": "boolean"
                                    },
                                    "use_output": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "enabled",
                                    "metrics",
                                    "logs",
                                    "traces"
                                  ],
                                  "type": "object"
                                },
                                "protection": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "enabled": {
                                      "type": "boolean"
                                    },
                                    "signing_key": {
                                      "type": "string"
                                    },
                                    "uninstall_token_hash": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "enabled",
                                    "uninstall_token_hash",
                                    "signing_key"
                                  ],
                                  "type": "object"
                                }
                              },
                              "required": [
                                "monitoring",
                                "download",
                                "features"
                              ],
                              "type": "object"
                            },
                            "fleet": {
                              "anyOf": [
                                {
                                  "additionalProperties": false,
                                  "properties": {
                                    "hosts": {
                                      "items": {
                                        "type": "string"
                                      },
                                      "type": "array"
                                    },
                                    "proxy_headers": {},
                                    "proxy_url": {
                                      "type": "string"
                                    },
                                    "ssl": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "certificate": {
                                          "type": "string"
                                        },
                                        "certificate_authorities": {
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        },
                                        "key": {
                                          "type": "string"
                                        },
                                        "renegotiation": {
                                          "type": "string"
                                        },
                                        "verification_mode": {
                                          "type": "string"
                                        }
                                      },
                                      "type": "object"
                                    }
                                  },
                                  "required": [
                                    "hosts",
                                    "proxy_headers"
                                  ],
                                  "type": "object"
                                },
                                {
                                  "additionalProperties": false,
                                  "properties": {
                                    "kibana": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "hosts": {
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        },
                                        "path": {
                                          "type": "string"
                                        },
                                        "protocol": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "hosts",
                                        "protocol"
                                      ],
                                      "type": "object"
                                    }
                                  },
                                  "required": [
                                    "kibana"
                                  ],
                                  "type": "object"
                                }
                              ]
                            },
                            "id": {
                              "type": "string"
                            },
                            "inputs": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "data_stream": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "namespace": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "namespace"
                                    ],
                                    "type": "object"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "meta": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "package": {
                                        "additionalProperties": true,
                                        "properties": {
                                          "name": {
                                            "type": "string"
                                          },
                                          "version": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "name",
                                          "version"
                                        ],
                                        "type": "object"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "package_policy_id": {
                                    "type": "string"
                                  },
                                  "processors": {
                                    "items": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "add_fields": {
                                          "additionalProperties": true,
                                          "properties": {
                                            "fields": {
                                              "additionalProperties": {
                                                "anyOf": [
                                                  {
                                                    "type": "string"
                                                  },
                                                  {
                                                    "type": "number"
                                                  }
                                                ]
                                              },
                                              "type": "object"
                                            },
                                            "target": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "target",
                                            "fields"
                                          ],
                                          "type": "object"
                                        }
                                      },
                                      "required": [
                                        "add_fields"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "revision": {
                                    "type": "number"
                                  },
                                  "streams": {
                                    "items": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "data_stream": {
                                          "additionalProperties": true,
                                          "properties": {
                                            "dataset": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "dataset"
                                          ],
                                          "type": "object"
                                        },
                                        "id": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "data_stream"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "use_output": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "name",
                                  "revision",
                                  "type",
                                  "data_stream",
                                  "use_output",
                                  "package_policy_id"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "namespaces": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "output_permissions": {
                              "additionalProperties": {
                                "additionalProperties": {},
                                "type": "object"
                              },
                              "type": "object"
                            },
                            "outputs": {
                              "additionalProperties": {
                                "additionalProperties": true,
                                "properties": {
                                  "ca_sha256": {
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "hosts": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "proxy_headers": {},
                                  "proxy_url": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "proxy_headers"
                                ],
                                "type": "object"
                              },
                              "type": "object"
                            },
                            "revision": {
                              "type": "number"
                            },
                            "secret_references": {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "signed": {
                              "additionalProperties": false,
                              "properties": {
                                "data": {
                                  "type": "string"
                                },
                                "signature": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "data",
                                "signature"
                              ],
                              "type": "object"
                            }
                          },
                          "required": [
                            "id",
                            "outputs",
                            "inputs"
                          ],
                          "type": "object"
                        }
                      ]
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent policies"
        ]
      }
    },
    "/api/fleet/agent_status": {
      "get": {
        "description": "Get agent status summary",
        "operationId": "%2Fapi%2Ffleet%2Fagent_status#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "policyId",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "policyIds",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "string"
                }
              ]
            }
          },
          {
            "in": "query",
            "name": "kuery",
            "required": false,
            "schema": {
              "deprecated": true,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "results": {
                      "additionalProperties": false,
                      "properties": {
                        "active": {
                          "type": "number"
                        },
                        "all": {
                          "type": "number"
                        },
                        "error": {
                          "type": "number"
                        },
                        "events": {
                          "type": "number"
                        },
                        "inactive": {
                          "type": "number"
                        },
                        "offline": {
                          "type": "number"
                        },
                        "online": {
                          "type": "number"
                        },
                        "other": {
                          "type": "number"
                        },
                        "total": {
                          "deprecated": true,
                          "type": "number"
                        },
                        "unenrolled": {
                          "type": "number"
                        },
                        "updating": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "events",
                        "total",
                        "online",
                        "error",
                        "offline",
                        "other",
                        "updating",
                        "inactive",
                        "unenrolled",
                        "all",
                        "active"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "results"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent status"
        ]
      }
    },
    "/api/fleet/agent_status/data": {
      "get": {
        "description": "Get incoming agent data",
        "operationId": "%2Fapi%2Ffleet%2Fagent_status%2Fdata#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "agentsIds",
            "required": true,
            "schema": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "string"
                }
              ]
            }
          },
          {
            "in": "query",
            "name": "previewData",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "dataPreview": {
                      "items": {},
                      "type": "array"
                    },
                    "items": {
                      "items": {
                        "additionalProperties": {
                          "additionalProperties": false,
                          "properties": {
                            "data": {
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "data"
                          ],
                          "type": "object"
                        },
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items",
                    "dataPreview"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents": {
      "get": {
        "description": "List agents",
        "operationId": "%2Fapi%2Ffleet%2Fagents#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "perPage",
            "required": false,
            "schema": {
              "default": 20,
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "kuery",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "showInactive",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "withMetrics",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "showUpgradeable",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "getStatusSummary",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "sortField",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "sortOrder",
            "required": false,
            "schema": {
              "enum": [
                "asc",
                "desc"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "access_api_key": {
                            "type": "string"
                          },
                          "access_api_key_id": {
                            "type": "string"
                          },
                          "active": {
                            "type": "boolean"
                          },
                          "agent": {
                            "additionalProperties": true,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "version"
                            ],
                            "type": "object"
                          },
                          "components": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "message": {
                                  "type": "string"
                                },
                                "status": {
                                  "enum": [
                                    "STARTING",
                                    "CONFIGURING",
                                    "HEALTHY",
                                    "DEGRADED",
                                    "FAILED",
                                    "STOPPING",
                                    "STOPPED"
                                  ],
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                },
                                "units": {
                                  "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "message": {
                                        "type": "string"
                                      },
                                      "payload": {
                                        "additionalProperties": {},
                                        "type": "object"
                                      },
                                      "status": {
                                        "enum": [
                                          "STARTING",
                                          "CONFIGURING",
                                          "HEALTHY",
                                          "DEGRADED",
                                          "FAILED",
                                          "STOPPING",
                                          "STOPPED"
                                        ],
                                        "type": "string"
                                      },
                                      "type": {
                                        "enum": [
                                          "input",
                                          "output"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "type",
                                      "status",
                                      "message"
                                    ],
                                    "type": "object"
                                  },
                                  "type": "array"
                                }
                              },
                              "required": [
                                "id",
                                "type",
                                "status",
                                "message"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "default_api_key": {
                            "type": "string"
                          },
                          "default_api_key_history": {
                            "items": {
                              "additionalProperties": false,
                              "deprecated": true,
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "retired_at": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "id",
                                "retired_at"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "default_api_key_id": {
                            "type": "string"
                          },
                          "enrolled_at": {
                            "type": "string"
                          },
                          "id": {
                            "type": "string"
                          },
                          "last_checkin": {
                            "type": "string"
                          },
                          "last_checkin_message": {
                            "type": "string"
                          },
                          "last_checkin_status": {
                            "enum": [
                              "error",
                              "online",
                              "degraded",
                              "updating",
                              "starting"
                            ],
                            "type": "string"
                          },
                          "local_metadata": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "metrics": {
                            "additionalProperties": false,
                            "properties": {
                              "cpu_avg": {
                                "type": "number"
                              },
                              "memory_size_byte_avg": {
                                "type": "number"
                              }
                            },
                            "type": "object"
                          },
                          "namespaces": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "outputs": {
                            "additionalProperties": {
                              "additionalProperties": false,
                              "properties": {
                                "api_key_id": {
                                  "type": "string"
                                },
                                "to_retire_api_key_ids": {
                                  "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "retired_at": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "retired_at"
                                    ],
                                    "type": "object"
                                  },
                                  "type": "array"
                                },
                                "type": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "api_key_id",
                                "type"
                              ],
                              "type": "object"
                            },
                            "type": "object"
                          },
                          "packages": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "policy_id": {
                            "type": "string"
                          },
                          "policy_revision": {
                            "nullable": true,
                            "type": "number"
                          },
                          "sort": {
                            "items": {
                              "anyOf": [
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "string"
                                },
                                {
                                  "enum": [],
                                  "nullable": true
                                }
                              ]
                            },
                            "type": "array"
                          },
                          "status": {
                            "enum": [
                              "offline",
                              "error",
                              "online",
                              "inactive",
                              "enrolling",
                              "unenrolling",
                              "unenrolled",
                              "updating",
                              "degraded"
                            ],
                            "type": "string"
                          },
                          "tags": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "type": {
                            "enum": [
                              "PERMANENT",
                              "EPHEMERAL",
                              "TEMPORARY"
                            ],
                            "type": "string"
                          },
                          "unenrolled_at": {
                            "type": "string"
                          },
                          "unenrollment_started_at": {
                            "type": "string"
                          },
                          "unhealthy_reason": {
                            "items": {
                              "enum": [
                                "input",
                                "output",
                                "other"
                              ],
                              "type": "string"
                            },
                            "nullable": true,
                            "type": "array"
                          },
                          "upgrade_details": {
                            "additionalProperties": false,
                            "properties": {
                              "action_id": {
                                "type": "string"
                              },
                              "metadata": {
                                "additionalProperties": false,
                                "properties": {
                                  "download_percent": {
                                    "type": "number"
                                  },
                                  "download_rate": {
                                    "type": "number"
                                  },
                                  "error_msg": {
                                    "type": "string"
                                  },
                                  "failed_state": {
                                    "enum": [
                                      "UPG_REQUESTED",
                                      "UPG_SCHEDULED",
                                      "UPG_DOWNLOADING",
                                      "UPG_EXTRACTING",
                                      "UPG_REPLACING",
                                      "UPG_RESTARTING",
                                      "UPG_FAILED",
                                      "UPG_WATCHING",
                                      "UPG_ROLLBACK"
                                    ],
                                    "type": "string"
                                  },
                                  "retry_error_msg": {
                                    "type": "string"
                                  },
                                  "retry_until": {
                                    "type": "string"
                                  },
                                  "scheduled_at": {
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "state": {
                                "enum": [
                                  "UPG_REQUESTED",
                                  "UPG_SCHEDULED",
                                  "UPG_DOWNLOADING",
                                  "UPG_EXTRACTING",
                                  "UPG_REPLACING",
                                  "UPG_RESTARTING",
                                  "UPG_FAILED",
                                  "UPG_WATCHING",
                                  "UPG_ROLLBACK"
                                ],
                                "type": "string"
                              },
                              "target_version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "target_version",
                              "action_id",
                              "state"
                            ],
                            "type": "object"
                          },
                          "upgrade_started_at": {
                            "nullable": true,
                            "type": "string"
                          },
                          "upgraded_at": {
                            "nullable": true,
                            "type": "string"
                          },
                          "user_provided_metadata": {
                            "additionalProperties": {},
                            "type": "object"
                          }
                        },
                        "required": [
                          "id",
                          "packages",
                          "type",
                          "active",
                          "enrolled_at",
                          "local_metadata"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "list": {
                      "deprecated": true,
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "access_api_key": {
                            "type": "string"
                          },
                          "access_api_key_id": {
                            "type": "string"
                          },
                          "active": {
                            "type": "boolean"
                          },
                          "agent": {
                            "additionalProperties": true,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "version"
                            ],
                            "type": "object"
                          },
                          "components": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "message": {
                                  "type": "string"
                                },
                                "status": {
                                  "enum": [
                                    "STARTING",
                                    "CONFIGURING",
                                    "HEALTHY",
                                    "DEGRADED",
                                    "FAILED",
                                    "STOPPING",
                                    "STOPPED"
                                  ],
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                },
                                "units": {
                                  "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "message": {
                                        "type": "string"
                                      },
                                      "payload": {
                                        "additionalProperties": {},
                                        "type": "object"
                                      },
                                      "status": {
                                        "enum": [
                                          "STARTING",
                                          "CONFIGURING",
                                          "HEALTHY",
                                          "DEGRADED",
                                          "FAILED",
                                          "STOPPING",
                                          "STOPPED"
                                        ],
                                        "type": "string"
                                      },
                                      "type": {
                                        "enum": [
                                          "input",
                                          "output"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "type",
                                      "status",
                                      "message"
                                    ],
                                    "type": "object"
                                  },
                                  "type": "array"
                                }
                              },
                              "required": [
                                "id",
                                "type",
                                "status",
                                "message"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "default_api_key": {
                            "type": "string"
                          },
                          "default_api_key_history": {
                            "items": {
                              "additionalProperties": false,
                              "deprecated": true,
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "retired_at": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "id",
                                "retired_at"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "default_api_key_id": {
                            "type": "string"
                          },
                          "enrolled_at": {
                            "type": "string"
                          },
                          "id": {
                            "type": "string"
                          },
                          "last_checkin": {
                            "type": "string"
                          },
                          "last_checkin_message": {
                            "type": "string"
                          },
                          "last_checkin_status": {
                            "enum": [
                              "error",
                              "online",
                              "degraded",
                              "updating",
                              "starting"
                            ],
                            "type": "string"
                          },
                          "local_metadata": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "metrics": {
                            "additionalProperties": false,
                            "properties": {
                              "cpu_avg": {
                                "type": "number"
                              },
                              "memory_size_byte_avg": {
                                "type": "number"
                              }
                            },
                            "type": "object"
                          },
                          "namespaces": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "outputs": {
                            "additionalProperties": {
                              "additionalProperties": false,
                              "properties": {
                                "api_key_id": {
                                  "type": "string"
                                },
                                "to_retire_api_key_ids": {
                                  "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "retired_at": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "retired_at"
                                    ],
                                    "type": "object"
                                  },
                                  "type": "array"
                                },
                                "type": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "api_key_id",
                                "type"
                              ],
                              "type": "object"
                            },
                            "type": "object"
                          },
                          "packages": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "policy_id": {
                            "type": "string"
                          },
                          "policy_revision": {
                            "nullable": true,
                            "type": "number"
                          },
                          "sort": {
                            "items": {
                              "anyOf": [
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "string"
                                },
                                {
                                  "enum": [],
                                  "nullable": true
                                }
                              ]
                            },
                            "type": "array"
                          },
                          "status": {
                            "enum": [
                              "offline",
                              "error",
                              "online",
                              "inactive",
                              "enrolling",
                              "unenrolling",
                              "unenrolled",
                              "updating",
                              "degraded"
                            ],
                            "type": "string"
                          },
                          "tags": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "type": {
                            "enum": [
                              "PERMANENT",
                              "EPHEMERAL",
                              "TEMPORARY"
                            ],
                            "type": "string"
                          },
                          "unenrolled_at": {
                            "type": "string"
                          },
                          "unenrollment_started_at": {
                            "type": "string"
                          },
                          "unhealthy_reason": {
                            "items": {
                              "enum": [
                                "input",
                                "output",
                                "other"
                              ],
                              "type": "string"
                            },
                            "nullable": true,
                            "type": "array"
                          },
                          "upgrade_details": {
                            "additionalProperties": false,
                            "properties": {
                              "action_id": {
                                "type": "string"
                              },
                              "metadata": {
                                "additionalProperties": false,
                                "properties": {
                                  "download_percent": {
                                    "type": "number"
                                  },
                                  "download_rate": {
                                    "type": "number"
                                  },
                                  "error_msg": {
                                    "type": "string"
                                  },
                                  "failed_state": {
                                    "enum": [
                                      "UPG_REQUESTED",
                                      "UPG_SCHEDULED",
                                      "UPG_DOWNLOADING",
                                      "UPG_EXTRACTING",
                                      "UPG_REPLACING",
                                      "UPG_RESTARTING",
                                      "UPG_FAILED",
                                      "UPG_WATCHING",
                                      "UPG_ROLLBACK"
                                    ],
                                    "type": "string"
                                  },
                                  "retry_error_msg": {
                                    "type": "string"
                                  },
                                  "retry_until": {
                                    "type": "string"
                                  },
                                  "scheduled_at": {
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "state": {
                                "enum": [
                                  "UPG_REQUESTED",
                                  "UPG_SCHEDULED",
                                  "UPG_DOWNLOADING",
                                  "UPG_EXTRACTING",
                                  "UPG_REPLACING",
                                  "UPG_RESTARTING",
                                  "UPG_FAILED",
                                  "UPG_WATCHING",
                                  "UPG_ROLLBACK"
                                ],
                                "type": "string"
                              },
                              "target_version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "target_version",
                              "action_id",
                              "state"
                            ],
                            "type": "object"
                          },
                          "upgrade_started_at": {
                            "nullable": true,
                            "type": "string"
                          },
                          "upgraded_at": {
                            "nullable": true,
                            "type": "string"
                          },
                          "user_provided_metadata": {
                            "additionalProperties": {},
                            "type": "object"
                          }
                        },
                        "required": [
                          "id",
                          "packages",
                          "type",
                          "active",
                          "enrolled_at",
                          "local_metadata"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    },
                    "statusSummary": {
                      "additionalProperties": {
                        "type": "number"
                      },
                      "type": "object"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total",
                    "page",
                    "perPage"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      },
      "post": {
        "description": "List agents by action ids",
        "operationId": "%2Fapi%2Ffleet%2Fagents#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "actionIds": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  }
                },
                "required": [
                  "actionIds"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/action_status": {
      "get": {
        "description": "Get agent action status",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Faction_status#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "default": 0,
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "perPage",
            "required": false,
            "schema": {
              "default": 20,
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "date",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "latest",
            "required": false,
            "schema": {
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "errorSize",
            "required": false,
            "schema": {
              "default": 5,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "actionId": {
                            "type": "string"
                          },
                          "cancellationTime": {
                            "type": "string"
                          },
                          "completionTime": {
                            "type": "string"
                          },
                          "creationTime": {
                            "description": "creation time of action",
                            "type": "string"
                          },
                          "expiration": {
                            "type": "string"
                          },
                          "hasRolloutPeriod": {
                            "type": "boolean"
                          },
                          "latestErrors": {
                            "items": {
                              "additionalProperties": false,
                              "description": "latest errors that happened when the agents executed the action",
                              "properties": {
                                "agentId": {
                                  "type": "string"
                                },
                                "error": {
                                  "type": "string"
                                },
                                "hostname": {
                                  "type": "string"
                                },
                                "timestamp": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "agentId",
                                "error",
                                "timestamp"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "nbAgentsAck": {
                            "description": "number of agents that acknowledged the action",
                            "type": "number"
                          },
                          "nbAgentsActionCreated": {
                            "description": "number of agents included in action from kibana",
                            "type": "number"
                          },
                          "nbAgentsActioned": {
                            "description": "number of agents actioned",
                            "type": "number"
                          },
                          "nbAgentsFailed": {
                            "description": "number of agents that failed to execute the action",
                            "type": "number"
                          },
                          "newPolicyId": {
                            "description": "new policy id (POLICY_REASSIGN action)",
                            "type": "string"
                          },
                          "policyId": {
                            "description": "policy id (POLICY_CHANGE action)",
                            "type": "string"
                          },
                          "revision": {
                            "description": "new policy revision (POLICY_CHANGE action)",
                            "type": "number"
                          },
                          "startTime": {
                            "description": "start time of action (scheduled actions)",
                            "type": "string"
                          },
                          "status": {
                            "enum": [
                              "COMPLETE",
                              "EXPIRED",
                              "CANCELLED",
                              "FAILED",
                              "IN_PROGRESS",
                              "ROLLOUT_PASSED"
                            ],
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "UPGRADE",
                              "UNENROLL",
                              "SETTINGS",
                              "POLICY_REASSIGN",
                              "CANCEL",
                              "FORCE_UNENROLL",
                              "REQUEST_DIAGNOSTICS",
                              "UPDATE_TAGS",
                              "POLICY_CHANGE",
                              "INPUT_ACTION"
                            ],
                            "type": "string"
                          },
                          "version": {
                            "description": "agent version number (UPGRADE action)",
                            "type": "string"
                          }
                        },
                        "required": [
                          "actionId",
                          "nbAgentsActionCreated",
                          "nbAgentsAck",
                          "nbAgentsFailed",
                          "type",
                          "nbAgentsActioned",
                          "status",
                          "creationTime"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/actions/{actionId}/cancel": {
      "post": {
        "description": "Cancel agent action",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Factions%2F%7BactionId%7D%2Fcancel#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "actionId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "ack_data": {},
                        "agents": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "data": {},
                        "expiration": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "minimum_execution_duration": {
                          "type": "number"
                        },
                        "namespaces": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "rollout_duration_seconds": {
                          "type": "number"
                        },
                        "sent_at": {
                          "type": "string"
                        },
                        "source_uri": {
                          "type": "string"
                        },
                        "start_time": {
                          "type": "string"
                        },
                        "total": {
                          "type": "number"
                        },
                        "type": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "type",
                        "data",
                        "created_at",
                        "ack_data",
                        "agents"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent actions"
        ]
      }
    },
    "/api/fleet/agents/available_versions": {
      "get": {
        "description": "Get available agent versions",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Favailable_versions#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/bulk_reassign": {
      "post": {
        "description": "Bulk reassign agents",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Fbulk_reassign#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "agents": {
                    "anyOf": [
                      {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "batchSize": {
                    "type": "number"
                  },
                  "includeInactive": {
                    "default": false,
                    "type": "boolean"
                  },
                  "policy_id": {
                    "type": "string"
                  }
                },
                "required": [
                  "policy_id",
                  "agents"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "actionId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "actionId"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/bulk_request_diagnostics": {
      "post": {
        "description": "Bulk request diagnostics from agents",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Fbulk_request_diagnostics#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "additional_metrics": {
                    "items": {
                      "enum": [
                        "CPU"
                      ],
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "agents": {
                    "anyOf": [
                      {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "batchSize": {
                    "type": "number"
                  }
                },
                "required": [
                  "agents"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "actionId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "actionId"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/bulk_unenroll": {
      "post": {
        "description": "Bulk unenroll agents",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Fbulk_unenroll#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "agents": {
                    "anyOf": [
                      {
                        "items": {
                          "description": "KQL query string, leave empty to action all agents",
                          "type": "string"
                        },
                        "type": "array"
                      },
                      {
                        "description": "list of agent IDs",
                        "type": "string"
                      }
                    ]
                  },
                  "batchSize": {
                    "type": "number"
                  },
                  "force": {
                    "description": "Unenrolls hosted agents too",
                    "type": "boolean"
                  },
                  "includeInactive": {
                    "description": "When passing agents by KQL query, unenrolls inactive agents too",
                    "type": "boolean"
                  },
                  "revoke": {
                    "description": "Revokes API keys of agents",
                    "type": "boolean"
                  }
                },
                "required": [
                  "agents"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "actionId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "actionId"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/bulk_update_agent_tags": {
      "post": {
        "description": "Bulk update agent tags",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Fbulk_update_agent_tags#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "agents": {
                    "anyOf": [
                      {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "batchSize": {
                    "type": "number"
                  },
                  "includeInactive": {
                    "default": false,
                    "type": "boolean"
                  },
                  "tagsToAdd": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "tagsToRemove": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  }
                },
                "required": [
                  "agents"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "actionId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "actionId"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/bulk_upgrade": {
      "post": {
        "description": "Bulk upgrade agents",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Fbulk_upgrade#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "agents": {
                    "anyOf": [
                      {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "batchSize": {
                    "type": "number"
                  },
                  "force": {
                    "type": "boolean"
                  },
                  "includeInactive": {
                    "default": false,
                    "type": "boolean"
                  },
                  "rollout_duration_seconds": {
                    "minimum": 600,
                    "type": "number"
                  },
                  "skipRateLimitCheck": {
                    "type": "boolean"
                  },
                  "source_uri": {
                    "type": "string"
                  },
                  "start_time": {
                    "type": "string"
                  },
                  "version": {
                    "type": "string"
                  }
                },
                "required": [
                  "agents",
                  "version"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "actionId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "actionId"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/files/{fileId}": {
      "delete": {
        "description": "Delete file uploaded by agent",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Ffiles%2F%7BfileId%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "fileId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "deleted": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "deleted"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/files/{fileId}/{fileName}": {
      "get": {
        "description": "Get file uploaded by agent",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Ffiles%2F%7BfileId%7D%2F%7BfileName%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "fileId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "fileName",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/setup": {
      "get": {
        "description": "Get agent setup info",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Fsetup#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "A summary of the agent setup status. `isReady` indicates whether the setup is ready. If the setup is not ready, `missing_requirements` lists which requirements are missing.",
                  "properties": {
                    "isReady": {
                      "type": "boolean"
                    },
                    "is_secrets_storage_enabled": {
                      "type": "boolean"
                    },
                    "is_space_awareness_enabled": {
                      "type": "boolean"
                    },
                    "missing_optional_features": {
                      "items": {
                        "enum": [
                          "encrypted_saved_object_encryption_key_required"
                        ],
                        "type": "string"
                      },
                      "type": "array"
                    },
                    "missing_requirements": {
                      "items": {
                        "enum": [
                          "security_required",
                          "tls_required",
                          "api_keys",
                          "fleet_admin_user",
                          "fleet_server"
                        ],
                        "type": "string"
                      },
                      "type": "array"
                    },
                    "package_verification_key_id": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "isReady",
                    "missing_requirements",
                    "missing_optional_features"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      },
      "post": {
        "description": "Initiate agent setup",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Fsetup#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "A summary of the result of Fleet's `setup` lifecycle. If `isInitialized` is true, Fleet is ready to accept agent enrollment. `nonFatalErrors` may include useful insight into non-blocking issues with Fleet setup.",
                  "properties": {
                    "isInitialized": {
                      "type": "boolean"
                    },
                    "nonFatalErrors": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "message": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "message"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "isInitialized",
                    "nonFatalErrors"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/tags": {
      "get": {
        "description": "List agent tags",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2Ftags#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "kuery",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "showInactive",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/{agentId}": {
      "delete": {
        "description": "Delete agent by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D#2",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "action": {
                      "enum": [
                        "deleted"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      },
      "get": {
        "description": "Get agent by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "withMetrics",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "access_api_key": {
                          "type": "string"
                        },
                        "access_api_key_id": {
                          "type": "string"
                        },
                        "active": {
                          "type": "boolean"
                        },
                        "agent": {
                          "additionalProperties": true,
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "id",
                            "version"
                          ],
                          "type": "object"
                        },
                        "components": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "message": {
                                "type": "string"
                              },
                              "status": {
                                "enum": [
                                  "STARTING",
                                  "CONFIGURING",
                                  "HEALTHY",
                                  "DEGRADED",
                                  "FAILED",
                                  "STOPPING",
                                  "STOPPED"
                                ],
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              },
                              "units": {
                                "items": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "message": {
                                      "type": "string"
                                    },
                                    "payload": {
                                      "additionalProperties": {},
                                      "type": "object"
                                    },
                                    "status": {
                                      "enum": [
                                        "STARTING",
                                        "CONFIGURING",
                                        "HEALTHY",
                                        "DEGRADED",
                                        "FAILED",
                                        "STOPPING",
                                        "STOPPED"
                                      ],
                                      "type": "string"
                                    },
                                    "type": {
                                      "enum": [
                                        "input",
                                        "output"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "type",
                                    "status",
                                    "message"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              }
                            },
                            "required": [
                              "id",
                              "type",
                              "status",
                              "message"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "default_api_key": {
                          "type": "string"
                        },
                        "default_api_key_history": {
                          "items": {
                            "additionalProperties": false,
                            "deprecated": true,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "retired_at": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "retired_at"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "default_api_key_id": {
                          "type": "string"
                        },
                        "enrolled_at": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "last_checkin": {
                          "type": "string"
                        },
                        "last_checkin_message": {
                          "type": "string"
                        },
                        "last_checkin_status": {
                          "enum": [
                            "error",
                            "online",
                            "degraded",
                            "updating",
                            "starting"
                          ],
                          "type": "string"
                        },
                        "local_metadata": {
                          "additionalProperties": {},
                          "type": "object"
                        },
                        "metrics": {
                          "additionalProperties": false,
                          "properties": {
                            "cpu_avg": {
                              "type": "number"
                            },
                            "memory_size_byte_avg": {
                              "type": "number"
                            }
                          },
                          "type": "object"
                        },
                        "namespaces": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "outputs": {
                          "additionalProperties": {
                            "additionalProperties": false,
                            "properties": {
                              "api_key_id": {
                                "type": "string"
                              },
                              "to_retire_api_key_ids": {
                                "items": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "retired_at": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "retired_at"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "type": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "api_key_id",
                              "type"
                            ],
                            "type": "object"
                          },
                          "type": "object"
                        },
                        "packages": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "policy_id": {
                          "type": "string"
                        },
                        "policy_revision": {
                          "nullable": true,
                          "type": "number"
                        },
                        "sort": {
                          "items": {
                            "anyOf": [
                              {
                                "type": "number"
                              },
                              {
                                "type": "string"
                              },
                              {
                                "enum": [],
                                "nullable": true
                              }
                            ]
                          },
                          "type": "array"
                        },
                        "status": {
                          "enum": [
                            "offline",
                            "error",
                            "online",
                            "inactive",
                            "enrolling",
                            "unenrolling",
                            "unenrolled",
                            "updating",
                            "degraded"
                          ],
                          "type": "string"
                        },
                        "tags": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "type": {
                          "enum": [
                            "PERMANENT",
                            "EPHEMERAL",
                            "TEMPORARY"
                          ],
                          "type": "string"
                        },
                        "unenrolled_at": {
                          "type": "string"
                        },
                        "unenrollment_started_at": {
                          "type": "string"
                        },
                        "unhealthy_reason": {
                          "items": {
                            "enum": [
                              "input",
                              "output",
                              "other"
                            ],
                            "type": "string"
                          },
                          "nullable": true,
                          "type": "array"
                        },
                        "upgrade_details": {
                          "additionalProperties": false,
                          "properties": {
                            "action_id": {
                              "type": "string"
                            },
                            "metadata": {
                              "additionalProperties": false,
                              "properties": {
                                "download_percent": {
                                  "type": "number"
                                },
                                "download_rate": {
                                  "type": "number"
                                },
                                "error_msg": {
                                  "type": "string"
                                },
                                "failed_state": {
                                  "enum": [
                                    "UPG_REQUESTED",
                                    "UPG_SCHEDULED",
                                    "UPG_DOWNLOADING",
                                    "UPG_EXTRACTING",
                                    "UPG_REPLACING",
                                    "UPG_RESTARTING",
                                    "UPG_FAILED",
                                    "UPG_WATCHING",
                                    "UPG_ROLLBACK"
                                  ],
                                  "type": "string"
                                },
                                "retry_error_msg": {
                                  "type": "string"
                                },
                                "retry_until": {
                                  "type": "string"
                                },
                                "scheduled_at": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "state": {
                              "enum": [
                                "UPG_REQUESTED",
                                "UPG_SCHEDULED",
                                "UPG_DOWNLOADING",
                                "UPG_EXTRACTING",
                                "UPG_REPLACING",
                                "UPG_RESTARTING",
                                "UPG_FAILED",
                                "UPG_WATCHING",
                                "UPG_ROLLBACK"
                              ],
                              "type": "string"
                            },
                            "target_version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "target_version",
                            "action_id",
                            "state"
                          ],
                          "type": "object"
                        },
                        "upgrade_started_at": {
                          "nullable": true,
                          "type": "string"
                        },
                        "upgraded_at": {
                          "nullable": true,
                          "type": "string"
                        },
                        "user_provided_metadata": {
                          "additionalProperties": {},
                          "type": "object"
                        }
                      },
                      "required": [
                        "id",
                        "packages",
                        "type",
                        "active",
                        "enrolled_at",
                        "local_metadata"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      },
      "put": {
        "description": "Update agent by ID",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "tags": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "user_provided_metadata": {
                    "additionalProperties": {},
                    "type": "object"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "access_api_key": {
                          "type": "string"
                        },
                        "access_api_key_id": {
                          "type": "string"
                        },
                        "active": {
                          "type": "boolean"
                        },
                        "agent": {
                          "additionalProperties": true,
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "id",
                            "version"
                          ],
                          "type": "object"
                        },
                        "components": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "message": {
                                "type": "string"
                              },
                              "status": {
                                "enum": [
                                  "STARTING",
                                  "CONFIGURING",
                                  "HEALTHY",
                                  "DEGRADED",
                                  "FAILED",
                                  "STOPPING",
                                  "STOPPED"
                                ],
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              },
                              "units": {
                                "items": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "message": {
                                      "type": "string"
                                    },
                                    "payload": {
                                      "additionalProperties": {},
                                      "type": "object"
                                    },
                                    "status": {
                                      "enum": [
                                        "STARTING",
                                        "CONFIGURING",
                                        "HEALTHY",
                                        "DEGRADED",
                                        "FAILED",
                                        "STOPPING",
                                        "STOPPED"
                                      ],
                                      "type": "string"
                                    },
                                    "type": {
                                      "enum": [
                                        "input",
                                        "output"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "type",
                                    "status",
                                    "message"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              }
                            },
                            "required": [
                              "id",
                              "type",
                              "status",
                              "message"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "default_api_key": {
                          "type": "string"
                        },
                        "default_api_key_history": {
                          "items": {
                            "additionalProperties": false,
                            "deprecated": true,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "retired_at": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "retired_at"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "default_api_key_id": {
                          "type": "string"
                        },
                        "enrolled_at": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "last_checkin": {
                          "type": "string"
                        },
                        "last_checkin_message": {
                          "type": "string"
                        },
                        "last_checkin_status": {
                          "enum": [
                            "error",
                            "online",
                            "degraded",
                            "updating",
                            "starting"
                          ],
                          "type": "string"
                        },
                        "local_metadata": {
                          "additionalProperties": {},
                          "type": "object"
                        },
                        "metrics": {
                          "additionalProperties": false,
                          "properties": {
                            "cpu_avg": {
                              "type": "number"
                            },
                            "memory_size_byte_avg": {
                              "type": "number"
                            }
                          },
                          "type": "object"
                        },
                        "namespaces": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "outputs": {
                          "additionalProperties": {
                            "additionalProperties": false,
                            "properties": {
                              "api_key_id": {
                                "type": "string"
                              },
                              "to_retire_api_key_ids": {
                                "items": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "retired_at": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "retired_at"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "type": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "api_key_id",
                              "type"
                            ],
                            "type": "object"
                          },
                          "type": "object"
                        },
                        "packages": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "policy_id": {
                          "type": "string"
                        },
                        "policy_revision": {
                          "nullable": true,
                          "type": "number"
                        },
                        "sort": {
                          "items": {
                            "anyOf": [
                              {
                                "type": "number"
                              },
                              {
                                "type": "string"
                              },
                              {
                                "enum": [],
                                "nullable": true
                              }
                            ]
                          },
                          "type": "array"
                        },
                        "status": {
                          "enum": [
                            "offline",
                            "error",
                            "online",
                            "inactive",
                            "enrolling",
                            "unenrolling",
                            "unenrolled",
                            "updating",
                            "degraded"
                          ],
                          "type": "string"
                        },
                        "tags": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "type": {
                          "enum": [
                            "PERMANENT",
                            "EPHEMERAL",
                            "TEMPORARY"
                          ],
                          "type": "string"
                        },
                        "unenrolled_at": {
                          "type": "string"
                        },
                        "unenrollment_started_at": {
                          "type": "string"
                        },
                        "unhealthy_reason": {
                          "items": {
                            "enum": [
                              "input",
                              "output",
                              "other"
                            ],
                            "type": "string"
                          },
                          "nullable": true,
                          "type": "array"
                        },
                        "upgrade_details": {
                          "additionalProperties": false,
                          "properties": {
                            "action_id": {
                              "type": "string"
                            },
                            "metadata": {
                              "additionalProperties": false,
                              "properties": {
                                "download_percent": {
                                  "type": "number"
                                },
                                "download_rate": {
                                  "type": "number"
                                },
                                "error_msg": {
                                  "type": "string"
                                },
                                "failed_state": {
                                  "enum": [
                                    "UPG_REQUESTED",
                                    "UPG_SCHEDULED",
                                    "UPG_DOWNLOADING",
                                    "UPG_EXTRACTING",
                                    "UPG_REPLACING",
                                    "UPG_RESTARTING",
                                    "UPG_FAILED",
                                    "UPG_WATCHING",
                                    "UPG_ROLLBACK"
                                  ],
                                  "type": "string"
                                },
                                "retry_error_msg": {
                                  "type": "string"
                                },
                                "retry_until": {
                                  "type": "string"
                                },
                                "scheduled_at": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "state": {
                              "enum": [
                                "UPG_REQUESTED",
                                "UPG_SCHEDULED",
                                "UPG_DOWNLOADING",
                                "UPG_EXTRACTING",
                                "UPG_REPLACING",
                                "UPG_RESTARTING",
                                "UPG_FAILED",
                                "UPG_WATCHING",
                                "UPG_ROLLBACK"
                              ],
                              "type": "string"
                            },
                            "target_version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "target_version",
                            "action_id",
                            "state"
                          ],
                          "type": "object"
                        },
                        "upgrade_started_at": {
                          "nullable": true,
                          "type": "string"
                        },
                        "upgraded_at": {
                          "nullable": true,
                          "type": "string"
                        },
                        "user_provided_metadata": {
                          "additionalProperties": {},
                          "type": "object"
                        }
                      },
                      "required": [
                        "id",
                        "packages",
                        "type",
                        "active",
                        "enrolled_at",
                        "local_metadata"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/{agentId}/actions": {
      "post": {
        "description": "Create agent action",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Factions#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "action": {
                    "anyOf": [
                      {
                        "additionalProperties": false,
                        "properties": {
                          "ack_data": {},
                          "data": {},
                          "type": {
                            "enum": [
                              "UNENROLL",
                              "UPGRADE",
                              "POLICY_REASSIGN"
                            ],
                            "type": "string"
                          }
                        },
                        "required": [
                          "type",
                          "data",
                          "ack_data"
                        ],
                        "type": "object"
                      },
                      {
                        "additionalProperties": false,
                        "properties": {
                          "data": {
                            "additionalProperties": false,
                            "properties": {
                              "log_level": {
                                "enum": [
                                  "debug",
                                  "info",
                                  "warning",
                                  "error"
                                ],
                                "nullable": true,
                                "type": "string"
                              }
                            },
                            "required": [
                              "log_level"
                            ],
                            "type": "object"
                          },
                          "type": {
                            "enum": [
                              "SETTINGS"
                            ],
                            "type": "string"
                          }
                        },
                        "required": [
                          "type",
                          "data"
                        ],
                        "type": "object"
                      }
                    ]
                  }
                },
                "required": [
                  "action"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "ack_data": {},
                        "agents": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "data": {},
                        "expiration": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "minimum_execution_duration": {
                          "type": "number"
                        },
                        "namespaces": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "rollout_duration_seconds": {
                          "type": "number"
                        },
                        "sent_at": {
                          "type": "string"
                        },
                        "source_uri": {
                          "type": "string"
                        },
                        "start_time": {
                          "type": "string"
                        },
                        "total": {
                          "type": "number"
                        },
                        "type": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "type",
                        "data",
                        "created_at",
                        "ack_data",
                        "agents"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent actions"
        ]
      }
    },
    "/api/fleet/agents/{agentId}/reassign": {
      "post": {
        "description": "Reassign agent",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Freassign#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "policy_id": {
                    "type": "string"
                  }
                },
                "required": [
                  "policy_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {},
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      },
      "put": {
        "operationId": "%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Freassign#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "policy_id": {
                    "type": "string"
                  }
                },
                "required": [
                  "policy_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {},
        "summary": "",
        "tags": []
      }
    },
    "/api/fleet/agents/{agentId}/request_diagnostics": {
      "post": {
        "description": "Request agent diagnostics",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Frequest_diagnostics#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "nullable": true,
                "properties": {
                  "additional_metrics": {
                    "items": {
                      "enum": [
                        "CPU"
                      ],
                      "type": "string"
                    },
                    "type": "array"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "actionId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "actionId"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/{agentId}/unenroll": {
      "post": {
        "description": "Unenroll agent",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Funenroll#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "nullable": true,
                "properties": {
                  "force": {
                    "type": "boolean"
                  },
                  "revoke": {
                    "type": "boolean"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "responses": {},
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/{agentId}/upgrade": {
      "post": {
        "description": "Upgrade agent",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Fupgrade#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "force": {
                    "type": "boolean"
                  },
                  "skipRateLimitCheck": {
                    "type": "boolean"
                  },
                  "source_uri": {
                    "type": "string"
                  },
                  "version": {
                    "type": "string"
                  }
                },
                "required": [
                  "version"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {},
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/agents/{agentId}/uploads": {
      "get": {
        "description": "List agent uploads",
        "operationId": "%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Fuploads#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "agentId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "actionId": {
                            "type": "string"
                          },
                          "createTime": {
                            "type": "string"
                          },
                          "error": {
                            "type": "string"
                          },
                          "filePath": {
                            "type": "string"
                          },
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "status": {
                            "enum": [
                              "READY",
                              "AWAITING_UPLOAD",
                              "DELETED",
                              "EXPIRED",
                              "IN_PROGRESS",
                              "FAILED"
                            ],
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "filePath",
                          "createTime",
                          "status",
                          "actionId"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agents"
        ]
      }
    },
    "/api/fleet/check-permissions": {
      "get": {
        "description": "Check permissions",
        "operationId": "%2Fapi%2Ffleet%2Fcheck-permissions#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "fleetServerSetup",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "error": {
                      "enum": [
                        "MISSING_SECURITY",
                        "MISSING_PRIVILEGES",
                        "MISSING_FLEET_SERVER_SETUP_PRIVILEGES"
                      ],
                      "type": "string"
                    },
                    "success": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet internals"
        ]
      }
    },
    "/api/fleet/data_streams": {
      "get": {
        "description": "List data streams",
        "operationId": "%2Fapi%2Ffleet%2Fdata_streams#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "data_streams": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "dashboards": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "title": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "id",
                                "title"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "dataset": {
                            "type": "string"
                          },
                          "index": {
                            "type": "string"
                          },
                          "last_activity_ms": {
                            "type": "number"
                          },
                          "namespace": {
                            "type": "string"
                          },
                          "package": {
                            "type": "string"
                          },
                          "package_version": {
                            "type": "string"
                          },
                          "serviceDetails": {
                            "additionalProperties": false,
                            "nullable": true,
                            "properties": {
                              "environment": {
                                "type": "string"
                              },
                              "serviceName": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "environment",
                              "serviceName"
                            ],
                            "type": "object"
                          },
                          "size_in_bytes": {
                            "type": "number"
                          },
                          "size_in_bytes_formatted": {
                            "anyOf": [
                              {
                                "type": "number"
                              },
                              {
                                "type": "string"
                              }
                            ]
                          },
                          "type": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "index",
                          "dataset",
                          "namespace",
                          "type",
                          "package",
                          "package_version",
                          "last_activity_ms",
                          "size_in_bytes",
                          "size_in_bytes_formatted",
                          "dashboards",
                          "serviceDetails"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "data_streams"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Data streams"
        ]
      }
    },
    "/api/fleet/enrollment-api-keys": {
      "get": {
        "deprecated": true,
        "operationId": "%2Fapi%2Ffleet%2Fenrollment-api-keys#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "perPage",
            "required": false,
            "schema": {
              "default": 20,
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "kuery",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {},
        "summary": "",
        "tags": []
      },
      "post": {
        "deprecated": true,
        "operationId": "%2Fapi%2Ffleet%2Fenrollment-api-keys#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "expiration": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "policy_id": {
                    "type": "string"
                  }
                },
                "required": [
                  "policy_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {},
        "summary": "",
        "tags": []
      }
    },
    "/api/fleet/enrollment-api-keys/{keyId}": {
      "delete": {
        "deprecated": true,
        "operationId": "%2Fapi%2Ffleet%2Fenrollment-api-keys%2F%7BkeyId%7D#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "keyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {},
        "summary": "",
        "tags": []
      },
      "get": {
        "deprecated": true,
        "operationId": "%2Fapi%2Ffleet%2Fenrollment-api-keys%2F%7BkeyId%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "keyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {},
        "summary": "",
        "tags": []
      }
    },
    "/api/fleet/enrollment_api_keys": {
      "get": {
        "description": "List enrollment API keys",
        "operationId": "%2Fapi%2Ffleet%2Fenrollment_api_keys#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "perPage",
            "required": false,
            "schema": {
              "default": 20,
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "kuery",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "active": {
                            "description": "When false, the enrollment API key is revoked and cannot be used for enrolling Elastic Agents.",
                            "type": "boolean"
                          },
                          "api_key": {
                            "description": "The enrollment API key (token) used for enrolling Elastic Agents.",
                            "type": "string"
                          },
                          "api_key_id": {
                            "description": "The ID of the API key in the Security API.",
                            "type": "string"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "description": "The name of the enrollment API key.",
                            "type": "string"
                          },
                          "policy_id": {
                            "description": "The ID of the agent policy the Elastic Agent will be enrolled in.",
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "api_key_id",
                          "api_key",
                          "active",
                          "created_at"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "list": {
                      "deprecated": true,
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "active": {
                            "description": "When false, the enrollment API key is revoked and cannot be used for enrolling Elastic Agents.",
                            "type": "boolean"
                          },
                          "api_key": {
                            "description": "The enrollment API key (token) used for enrolling Elastic Agents.",
                            "type": "string"
                          },
                          "api_key_id": {
                            "description": "The ID of the API key in the Security API.",
                            "type": "string"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "description": "The name of the enrollment API key.",
                            "type": "string"
                          },
                          "policy_id": {
                            "description": "The ID of the agent policy the Elastic Agent will be enrolled in.",
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "api_key_id",
                          "api_key",
                          "active",
                          "created_at"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total",
                    "page",
                    "perPage",
                    "list"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet enrollment API keys"
        ]
      },
      "post": {
        "description": "Create enrollment API key",
        "operationId": "%2Fapi%2Ffleet%2Fenrollment_api_keys#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "expiration": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "policy_id": {
                    "type": "string"
                  }
                },
                "required": [
                  "policy_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "action": {
                      "enum": [
                        "created"
                      ],
                      "type": "string"
                    },
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "active": {
                          "description": "When false, the enrollment API key is revoked and cannot be used for enrolling Elastic Agents.",
                          "type": "boolean"
                        },
                        "api_key": {
                          "description": "The enrollment API key (token) used for enrolling Elastic Agents.",
                          "type": "string"
                        },
                        "api_key_id": {
                          "description": "The ID of the API key in the Security API.",
                          "type": "string"
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "description": "The name of the enrollment API key.",
                          "type": "string"
                        },
                        "policy_id": {
                          "description": "The ID of the agent policy the Elastic Agent will be enrolled in.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "api_key_id",
                        "api_key",
                        "active",
                        "created_at"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item",
                    "action"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet enrollment API keys"
        ]
      }
    },
    "/api/fleet/enrollment_api_keys/{keyId}": {
      "delete": {
        "description": "Revoke enrollment API key by ID by marking it as inactive",
        "operationId": "%2Fapi%2Ffleet%2Fenrollment_api_keys%2F%7BkeyId%7D#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "keyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "action": {
                      "enum": [
                        "deleted"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet enrollment API keys"
        ]
      },
      "get": {
        "description": "Get enrollment API key by ID",
        "operationId": "%2Fapi%2Ffleet%2Fenrollment_api_keys%2F%7BkeyId%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "keyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "active": {
                          "description": "When false, the enrollment API key is revoked and cannot be used for enrolling Elastic Agents.",
                          "type": "boolean"
                        },
                        "api_key": {
                          "description": "The enrollment API key (token) used for enrolling Elastic Agents.",
                          "type": "string"
                        },
                        "api_key_id": {
                          "description": "The ID of the API key in the Security API.",
                          "type": "string"
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "description": "The name of the enrollment API key.",
                          "type": "string"
                        },
                        "policy_id": {
                          "description": "The ID of the agent policy the Elastic Agent will be enrolled in.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "api_key_id",
                        "api_key",
                        "active",
                        "created_at"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet enrollment API keys"
        ]
      }
    },
    "/api/fleet/epm/bulk_assets": {
      "post": {
        "description": "Bulk get assets",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fbulk_assets#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "assetIds": {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "type"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  }
                },
                "required": [
                  "assetIds"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "appLink": {
                            "type": "string"
                          },
                          "attributes": {
                            "additionalProperties": false,
                            "properties": {
                              "description": {
                                "type": "string"
                              },
                              "service": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              }
                            },
                            "type": "object"
                          },
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "type": "string"
                          },
                          "updatedAt": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "type",
                          "attributes"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/categories": {
      "get": {
        "description": "List package categories",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fcategories#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "prerelease",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "experimental",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "include_policy_templates",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "count": {
                            "type": "number"
                          },
                          "id": {
                            "type": "string"
                          },
                          "parent_id": {
                            "type": "string"
                          },
                          "parent_title": {
                            "type": "string"
                          },
                          "title": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "title",
                          "count"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "response": {
                      "items": {
                        "additionalProperties": false,
                        "deprecated": true,
                        "properties": {
                          "count": {
                            "type": "number"
                          },
                          "id": {
                            "type": "string"
                          },
                          "parent_id": {
                            "type": "string"
                          },
                          "parent_title": {
                            "type": "string"
                          },
                          "title": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "title",
                          "count"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/custom_integrations": {
      "post": {
        "description": "Create custom integration",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fcustom_integrations#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "datasets": {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "type": {
                          "enum": [
                            "logs",
                            "metrics",
                            "traces",
                            "synthetics",
                            "profiling"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "name",
                        "type"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  "force": {
                    "type": "boolean"
                  },
                  "integrationName": {
                    "type": "string"
                  }
                },
                "required": [
                  "integrationName",
                  "datasets"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "_meta": {
                      "additionalProperties": false,
                      "properties": {
                        "install_source": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "install_source"
                      ],
                      "type": "object"
                    },
                    "items": {
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "originId": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "dashboard",
                                  "lens",
                                  "visualization",
                                  "search",
                                  "index-pattern",
                                  "map",
                                  "ml-module",
                                  "security-rule",
                                  "csp-rule-template",
                                  "osquery-pack-asset",
                                  "osquery-saved-query",
                                  "tag"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "deferred": {
                                "type": "boolean"
                              },
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "index",
                                  "index_template",
                                  "component_template",
                                  "ingest_pipeline",
                                  "ilm_policy",
                                  "data_stream_ilm_policy",
                                  "transform",
                                  "ml_model"
                                ],
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    },
                    "response": {
                      "deprecated": true,
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "originId": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "dashboard",
                                  "lens",
                                  "visualization",
                                  "search",
                                  "index-pattern",
                                  "map",
                                  "ml-module",
                                  "security-rule",
                                  "csp-rule-template",
                                  "osquery-pack-asset",
                                  "osquery-saved-query",
                                  "tag"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "deferred": {
                                "type": "boolean"
                              },
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "index",
                                  "index_template",
                                  "component_template",
                                  "ingest_pipeline",
                                  "ilm_policy",
                                  "data_stream_ilm_policy",
                                  "transform",
                                  "ml_model"
                                ],
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items",
                    "_meta"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/data_streams": {
      "get": {
        "description": "List data streams",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fdata_streams#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "type",
            "required": false,
            "schema": {
              "enum": [
                "logs",
                "metrics",
                "traces",
                "synthetics",
                "profiling"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "datasetQuery",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "sortOrder",
            "required": false,
            "schema": {
              "default": "asc",
              "enum": [
                "asc",
                "desc"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "uncategorisedOnly",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "name": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "name"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Data streams"
        ]
      }
    },
    "/api/fleet/epm/packages": {
      "get": {
        "description": "List packages",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "category",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "prerelease",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "experimental",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "excludeInstallStatus",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": true,
                        "properties": {
                          "categories": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "conditions": {
                            "additionalProperties": true,
                            "properties": {
                              "elastic": {
                                "additionalProperties": true,
                                "properties": {
                                  "capabilities": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "subscription": {
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "kibana": {
                                "additionalProperties": true,
                                "properties": {
                                  "version": {
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              }
                            },
                            "type": "object"
                          },
                          "data_streams": {
                            "items": {
                              "additionalProperties": {},
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "description": {
                            "type": "string"
                          },
                          "download": {
                            "type": "string"
                          },
                          "format_version": {
                            "type": "string"
                          },
                          "icons": {
                            "items": {
                              "additionalProperties": true,
                              "properties": {
                                "dark_mode": {
                                  "type": "boolean"
                                },
                                "path": {
                                  "type": "string"
                                },
                                "size": {
                                  "type": "string"
                                },
                                "src": {
                                  "type": "string"
                                },
                                "title": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "src"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "id": {
                            "type": "string"
                          },
                          "installationInfo": {
                            "additionalProperties": true,
                            "properties": {
                              "additional_spaces_installed_kibana": {
                                "additionalProperties": {
                                  "items": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "originId": {
                                        "type": "string"
                                      },
                                      "type": {
                                        "enum": [
                                          "dashboard",
                                          "lens",
                                          "visualization",
                                          "search",
                                          "index-pattern",
                                          "map",
                                          "ml-module",
                                          "security-rule",
                                          "csp-rule-template",
                                          "osquery-pack-asset",
                                          "osquery-saved-query",
                                          "tag"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "type"
                                    ],
                                    "type": "object"
                                  },
                                  "type": "array"
                                },
                                "type": "object"
                              },
                              "created_at": {
                                "type": "string"
                              },
                              "experimental_data_stream_features": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "data_stream": {
                                      "type": "string"
                                    },
                                    "features": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "doc_value_only_numeric": {
                                          "type": "boolean"
                                        },
                                        "doc_value_only_other": {
                                          "type": "boolean"
                                        },
                                        "synthetic_source": {
                                          "type": "boolean"
                                        },
                                        "tsdb": {
                                          "type": "boolean"
                                        }
                                      },
                                      "type": "object"
                                    }
                                  },
                                  "required": [
                                    "data_stream",
                                    "features"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "install_format_schema_version": {
                                "type": "string"
                              },
                              "install_source": {
                                "enum": [
                                  "registry",
                                  "upload",
                                  "bundled",
                                  "custom"
                                ],
                                "type": "string"
                              },
                              "install_status": {
                                "enum": [
                                  "installed",
                                  "installing",
                                  "install_failed"
                                ],
                                "type": "string"
                              },
                              "installed_es": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "deferred": {
                                      "type": "boolean"
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "type": {
                                      "enum": [
                                        "index",
                                        "index_template",
                                        "component_template",
                                        "ingest_pipeline",
                                        "ilm_policy",
                                        "data_stream_ilm_policy",
                                        "transform",
                                        "ml_model"
                                      ],
                                      "type": "string"
                                    },
                                    "version": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "type"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "installed_kibana": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "originId": {
                                      "type": "string"
                                    },
                                    "type": {
                                      "enum": [
                                        "dashboard",
                                        "lens",
                                        "visualization",
                                        "search",
                                        "index-pattern",
                                        "map",
                                        "ml-module",
                                        "security-rule",
                                        "csp-rule-template",
                                        "osquery-pack-asset",
                                        "osquery-saved-query",
                                        "tag"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "type"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "installed_kibana_space_id": {
                                "type": "string"
                              },
                              "latest_executed_state": {
                                "additionalProperties": true,
                                "properties": {
                                  "error": {
                                    "type": "string"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "started_at": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "name",
                                  "started_at"
                                ],
                                "type": "object"
                              },
                              "latest_install_failed_attempts": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "created_at": {
                                      "type": "string"
                                    },
                                    "error": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "message": {
                                          "type": "string"
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "stack": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "name",
                                        "message"
                                      ],
                                      "type": "object"
                                    },
                                    "target_version": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "created_at",
                                    "target_version",
                                    "error"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "name": {
                                "type": "string"
                              },
                              "namespaces": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "type": {
                                "type": "string"
                              },
                              "updated_at": {
                                "type": "string"
                              },
                              "verification_key_id": {
                                "nullable": true,
                                "type": "string"
                              },
                              "verification_status": {
                                "enum": [
                                  "unverified",
                                  "verified",
                                  "unknown"
                                ],
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "installed_kibana",
                              "installed_es",
                              "name",
                              "version",
                              "install_status",
                              "install_source",
                              "verification_status"
                            ],
                            "type": "object"
                          },
                          "integration": {
                            "type": "string"
                          },
                          "internal": {
                            "type": "boolean"
                          },
                          "latestVersion": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "owner": {
                            "additionalProperties": true,
                            "properties": {
                              "github": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "elastic",
                                  "partner",
                                  "community"
                                ],
                                "type": "string"
                              }
                            },
                            "type": "object"
                          },
                          "path": {
                            "type": "string"
                          },
                          "policy_templates": {
                            "items": {
                              "additionalProperties": {},
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "readme": {
                            "type": "string"
                          },
                          "release": {
                            "enum": [
                              "ga",
                              "beta",
                              "experimental"
                            ],
                            "type": "string"
                          },
                          "savedObject": {},
                          "signature_path": {
                            "type": "string"
                          },
                          "source": {
                            "additionalProperties": true,
                            "properties": {
                              "license": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "license"
                            ],
                            "type": "object"
                          },
                          "status": {
                            "type": "string"
                          },
                          "title": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "integration",
                              "input"
                            ],
                            "type": "string"
                          },
                          "vars": {
                            "items": {
                              "additionalProperties": {},
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "version": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "savedObject",
                          "name",
                          "version",
                          "title",
                          "id"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "response": {
                      "items": {
                        "additionalProperties": true,
                        "deprecated": true,
                        "properties": {
                          "categories": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "conditions": {
                            "additionalProperties": true,
                            "properties": {
                              "elastic": {
                                "additionalProperties": true,
                                "properties": {
                                  "capabilities": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "subscription": {
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "kibana": {
                                "additionalProperties": true,
                                "properties": {
                                  "version": {
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              }
                            },
                            "type": "object"
                          },
                          "data_streams": {
                            "items": {
                              "additionalProperties": {},
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "description": {
                            "type": "string"
                          },
                          "download": {
                            "type": "string"
                          },
                          "format_version": {
                            "type": "string"
                          },
                          "icons": {
                            "items": {
                              "additionalProperties": true,
                              "properties": {
                                "dark_mode": {
                                  "type": "boolean"
                                },
                                "path": {
                                  "type": "string"
                                },
                                "size": {
                                  "type": "string"
                                },
                                "src": {
                                  "type": "string"
                                },
                                "title": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "src"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "id": {
                            "type": "string"
                          },
                          "installationInfo": {
                            "additionalProperties": true,
                            "properties": {
                              "additional_spaces_installed_kibana": {
                                "additionalProperties": {
                                  "items": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "originId": {
                                        "type": "string"
                                      },
                                      "type": {
                                        "enum": [
                                          "dashboard",
                                          "lens",
                                          "visualization",
                                          "search",
                                          "index-pattern",
                                          "map",
                                          "ml-module",
                                          "security-rule",
                                          "csp-rule-template",
                                          "osquery-pack-asset",
                                          "osquery-saved-query",
                                          "tag"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "type"
                                    ],
                                    "type": "object"
                                  },
                                  "type": "array"
                                },
                                "type": "object"
                              },
                              "created_at": {
                                "type": "string"
                              },
                              "experimental_data_stream_features": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "data_stream": {
                                      "type": "string"
                                    },
                                    "features": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "doc_value_only_numeric": {
                                          "type": "boolean"
                                        },
                                        "doc_value_only_other": {
                                          "type": "boolean"
                                        },
                                        "synthetic_source": {
                                          "type": "boolean"
                                        },
                                        "tsdb": {
                                          "type": "boolean"
                                        }
                                      },
                                      "type": "object"
                                    }
                                  },
                                  "required": [
                                    "data_stream",
                                    "features"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "install_format_schema_version": {
                                "type": "string"
                              },
                              "install_source": {
                                "enum": [
                                  "registry",
                                  "upload",
                                  "bundled",
                                  "custom"
                                ],
                                "type": "string"
                              },
                              "install_status": {
                                "enum": [
                                  "installed",
                                  "installing",
                                  "install_failed"
                                ],
                                "type": "string"
                              },
                              "installed_es": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "deferred": {
                                      "type": "boolean"
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "type": {
                                      "enum": [
                                        "index",
                                        "index_template",
                                        "component_template",
                                        "ingest_pipeline",
                                        "ilm_policy",
                                        "data_stream_ilm_policy",
                                        "transform",
                                        "ml_model"
                                      ],
                                      "type": "string"
                                    },
                                    "version": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "type"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "installed_kibana": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "originId": {
                                      "type": "string"
                                    },
                                    "type": {
                                      "enum": [
                                        "dashboard",
                                        "lens",
                                        "visualization",
                                        "search",
                                        "index-pattern",
                                        "map",
                                        "ml-module",
                                        "security-rule",
                                        "csp-rule-template",
                                        "osquery-pack-asset",
                                        "osquery-saved-query",
                                        "tag"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "type"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "installed_kibana_space_id": {
                                "type": "string"
                              },
                              "latest_executed_state": {
                                "additionalProperties": true,
                                "properties": {
                                  "error": {
                                    "type": "string"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "started_at": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "name",
                                  "started_at"
                                ],
                                "type": "object"
                              },
                              "latest_install_failed_attempts": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "created_at": {
                                      "type": "string"
                                    },
                                    "error": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "message": {
                                          "type": "string"
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "stack": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "name",
                                        "message"
                                      ],
                                      "type": "object"
                                    },
                                    "target_version": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "created_at",
                                    "target_version",
                                    "error"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "name": {
                                "type": "string"
                              },
                              "namespaces": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "type": {
                                "type": "string"
                              },
                              "updated_at": {
                                "type": "string"
                              },
                              "verification_key_id": {
                                "nullable": true,
                                "type": "string"
                              },
                              "verification_status": {
                                "enum": [
                                  "unverified",
                                  "verified",
                                  "unknown"
                                ],
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "installed_kibana",
                              "installed_es",
                              "name",
                              "version",
                              "install_status",
                              "install_source",
                              "verification_status"
                            ],
                            "type": "object"
                          },
                          "integration": {
                            "type": "string"
                          },
                          "internal": {
                            "type": "boolean"
                          },
                          "latestVersion": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "owner": {
                            "additionalProperties": true,
                            "properties": {
                              "github": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "elastic",
                                  "partner",
                                  "community"
                                ],
                                "type": "string"
                              }
                            },
                            "type": "object"
                          },
                          "path": {
                            "type": "string"
                          },
                          "policy_templates": {
                            "items": {
                              "additionalProperties": {},
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "readme": {
                            "type": "string"
                          },
                          "release": {
                            "enum": [
                              "ga",
                              "beta",
                              "experimental"
                            ],
                            "type": "string"
                          },
                          "savedObject": {},
                          "signature_path": {
                            "type": "string"
                          },
                          "source": {
                            "additionalProperties": true,
                            "properties": {
                              "license": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "license"
                            ],
                            "type": "object"
                          },
                          "status": {
                            "type": "string"
                          },
                          "title": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "integration",
                              "input"
                            ],
                            "type": "string"
                          },
                          "vars": {
                            "items": {
                              "additionalProperties": {},
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "version": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "savedObject",
                          "name",
                          "version",
                          "title",
                          "id"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      },
      "post": {
        "description": "Install package by upload",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "ignoreMappingUpdateErrors",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "skipDataStreamRollover",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/gzip; application/zip; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "format": "binary",
                "type": "string"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/gzip; application/zip; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "_meta": {
                      "additionalProperties": false,
                      "properties": {
                        "install_source": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "install_source"
                      ],
                      "type": "object"
                    },
                    "items": {
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "originId": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "dashboard",
                                  "lens",
                                  "visualization",
                                  "search",
                                  "index-pattern",
                                  "map",
                                  "ml-module",
                                  "security-rule",
                                  "csp-rule-template",
                                  "osquery-pack-asset",
                                  "osquery-saved-query",
                                  "tag"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "deferred": {
                                "type": "boolean"
                              },
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "index",
                                  "index_template",
                                  "component_template",
                                  "ingest_pipeline",
                                  "ilm_policy",
                                  "data_stream_ilm_policy",
                                  "transform",
                                  "ml_model"
                                ],
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    },
                    "response": {
                      "deprecated": true,
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "originId": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "dashboard",
                                  "lens",
                                  "visualization",
                                  "search",
                                  "index-pattern",
                                  "map",
                                  "ml-module",
                                  "security-rule",
                                  "csp-rule-template",
                                  "osquery-pack-asset",
                                  "osquery-saved-query",
                                  "tag"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "deferred": {
                                "type": "boolean"
                              },
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "index",
                                  "index_template",
                                  "component_template",
                                  "ingest_pipeline",
                                  "ilm_policy",
                                  "data_stream_ilm_policy",
                                  "transform",
                                  "ml_model"
                                ],
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items",
                    "_meta"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/gzip; application/zip; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/packages/_bulk": {
      "post": {
        "description": "Bulk install packages",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F_bulk#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "prerelease",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "force": {
                    "default": false,
                    "type": "boolean"
                  },
                  "packages": {
                    "items": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "additionalProperties": false,
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "prerelease": {
                              "type": "boolean"
                            },
                            "version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "version"
                          ],
                          "type": "object"
                        }
                      ]
                    },
                    "minItems": 1,
                    "type": "array"
                  }
                },
                "required": [
                  "packages"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "result": {
                                "additionalProperties": false,
                                "properties": {
                                  "assets": {
                                    "items": {
                                      "anyOf": [
                                        {
                                          "additionalProperties": false,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "originId": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "enum": [
                                                "dashboard",
                                                "lens",
                                                "visualization",
                                                "search",
                                                "index-pattern",
                                                "map",
                                                "ml-module",
                                                "security-rule",
                                                "csp-rule-template",
                                                "osquery-pack-asset",
                                                "osquery-saved-query",
                                                "tag"
                                              ],
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "id",
                                            "type"
                                          ],
                                          "type": "object"
                                        },
                                        {
                                          "additionalProperties": false,
                                          "properties": {
                                            "deferred": {
                                              "type": "boolean"
                                            },
                                            "id": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "enum": [
                                                "index",
                                                "index_template",
                                                "component_template",
                                                "ingest_pipeline",
                                                "ilm_policy",
                                                "data_stream_ilm_policy",
                                                "transform",
                                                "ml_model"
                                              ],
                                              "type": "string"
                                            },
                                            "version": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "id",
                                            "type"
                                          ],
                                          "type": "object"
                                        }
                                      ]
                                    },
                                    "type": "array"
                                  },
                                  "error": {},
                                  "installSource": {
                                    "type": "string"
                                  },
                                  "installType": {
                                    "type": "string"
                                  },
                                  "status": {
                                    "enum": [
                                      "installed",
                                      "already_installed"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "error",
                                  "installType"
                                ],
                                "type": "object"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "version",
                              "result"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "error": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {}
                                ]
                              },
                              "name": {
                                "type": "string"
                              },
                              "statusCode": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "name",
                              "statusCode",
                              "error"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    },
                    "response": {
                      "deprecated": true,
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "result": {
                                "additionalProperties": false,
                                "properties": {
                                  "assets": {
                                    "items": {
                                      "anyOf": [
                                        {
                                          "additionalProperties": false,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "originId": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "enum": [
                                                "dashboard",
                                                "lens",
                                                "visualization",
                                                "search",
                                                "index-pattern",
                                                "map",
                                                "ml-module",
                                                "security-rule",
                                                "csp-rule-template",
                                                "osquery-pack-asset",
                                                "osquery-saved-query",
                                                "tag"
                                              ],
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "id",
                                            "type"
                                          ],
                                          "type": "object"
                                        },
                                        {
                                          "additionalProperties": false,
                                          "properties": {
                                            "deferred": {
                                              "type": "boolean"
                                            },
                                            "id": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "enum": [
                                                "index",
                                                "index_template",
                                                "component_template",
                                                "ingest_pipeline",
                                                "ilm_policy",
                                                "data_stream_ilm_policy",
                                                "transform",
                                                "ml_model"
                                              ],
                                              "type": "string"
                                            },
                                            "version": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "id",
                                            "type"
                                          ],
                                          "type": "object"
                                        }
                                      ]
                                    },
                                    "type": "array"
                                  },
                                  "error": {},
                                  "installSource": {
                                    "type": "string"
                                  },
                                  "installType": {
                                    "type": "string"
                                  },
                                  "status": {
                                    "enum": [
                                      "installed",
                                      "already_installed"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "error",
                                  "installType"
                                ],
                                "type": "object"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "version",
                              "result"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "error": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {}
                                ]
                              },
                              "name": {
                                "type": "string"
                              },
                              "statusCode": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "name",
                              "statusCode",
                              "error"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/packages/installed": {
      "get": {
        "description": "Get installed packages",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2Finstalled#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "dataStreamType",
            "required": false,
            "schema": {
              "enum": [
                "logs",
                "metrics",
                "traces",
                "synthetics",
                "profiling"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "showOnlyActiveDataStreams",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "nameQuery",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "searchAfter",
            "required": false,
            "schema": {
              "items": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "number"
                  }
                ]
              },
              "type": "array"
            }
          },
          {
            "in": "query",
            "name": "perPage",
            "required": false,
            "schema": {
              "default": 15,
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "sortOrder",
            "required": false,
            "schema": {
              "default": "asc",
              "enum": [
                "asc",
                "desc"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "dataStreams": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "title": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "name",
                                "title"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "description": {
                            "type": "string"
                          },
                          "icons": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "dark_mode": {
                                  "type": "boolean"
                                },
                                "path": {
                                  "type": "string"
                                },
                                "size": {
                                  "type": "string"
                                },
                                "src": {
                                  "type": "string"
                                },
                                "title": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "src"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "name": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string"
                          },
                          "title": {
                            "type": "string"
                          },
                          "version": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "version",
                          "status",
                          "dataStreams"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "searchAfter": {
                      "items": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "enum": [],
                            "nullable": true
                          },
                          {}
                        ]
                      },
                      "type": "array"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/packages/limited": {
      "get": {
        "description": "Get limited package list",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2Flimited#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    },
                    "response": {
                      "deprecated": true,
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/packages/{pkgName}/stats": {
      "get": {
        "description": "Get package stats",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2Fstats#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgName",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "response": {
                      "additionalProperties": false,
                      "properties": {
                        "agent_policy_count": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "agent_policy_count"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "response"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/packages/{pkgName}/{pkgVersion}": {
      "delete": {
        "description": "Delete package",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D#3",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgName",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgVersion",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "force",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "nullable": true,
                "properties": {
                  "force": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "force"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "originId": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "dashboard",
                                  "lens",
                                  "visualization",
                                  "search",
                                  "index-pattern",
                                  "map",
                                  "ml-module",
                                  "security-rule",
                                  "csp-rule-template",
                                  "osquery-pack-asset",
                                  "osquery-saved-query",
                                  "tag"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "deferred": {
                                "type": "boolean"
                              },
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "index",
                                  "index_template",
                                  "component_template",
                                  "ingest_pipeline",
                                  "ilm_policy",
                                  "data_stream_ilm_policy",
                                  "transform",
                                  "ml_model"
                                ],
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    },
                    "response": {
                      "deprecated": true,
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "originId": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "dashboard",
                                  "lens",
                                  "visualization",
                                  "search",
                                  "index-pattern",
                                  "map",
                                  "ml-module",
                                  "security-rule",
                                  "csp-rule-template",
                                  "osquery-pack-asset",
                                  "osquery-saved-query",
                                  "tag"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "deferred": {
                                "type": "boolean"
                              },
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "index",
                                  "index_template",
                                  "component_template",
                                  "ingest_pipeline",
                                  "ilm_policy",
                                  "data_stream_ilm_policy",
                                  "transform",
                                  "ml_model"
                                ],
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      },
      "get": {
        "description": "Get package",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgName",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgVersion",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "ignoreUnverified",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "prerelease",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "full",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "withMetadata",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": true,
                      "properties": {
                        "agent": {
                          "additionalProperties": false,
                          "properties": {
                            "privileges": {
                              "additionalProperties": false,
                              "properties": {
                                "root": {
                                  "type": "boolean"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "asset_tags": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "asset_ids": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "asset_types": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "text": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "text"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "assets": {
                          "additionalProperties": {},
                          "type": "object"
                        },
                        "categories": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "conditions": {
                          "additionalProperties": true,
                          "properties": {
                            "elastic": {
                              "additionalProperties": true,
                              "properties": {
                                "capabilities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "subscription": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "kibana": {
                              "additionalProperties": true,
                              "properties": {
                                "version": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "data_streams": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "description": {
                          "type": "string"
                        },
                        "download": {
                          "type": "string"
                        },
                        "elasticsearch": {
                          "additionalProperties": {},
                          "type": "object"
                        },
                        "format_version": {
                          "type": "string"
                        },
                        "icons": {
                          "items": {
                            "additionalProperties": true,
                            "properties": {
                              "dark_mode": {
                                "type": "boolean"
                              },
                              "path": {
                                "type": "string"
                              },
                              "size": {
                                "type": "string"
                              },
                              "src": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "src"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "installationInfo": {
                          "additionalProperties": true,
                          "properties": {
                            "additional_spaces_installed_kibana": {
                              "additionalProperties": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "originId": {
                                      "type": "string"
                                    },
                                    "type": {
                                      "enum": [
                                        "dashboard",
                                        "lens",
                                        "visualization",
                                        "search",
                                        "index-pattern",
                                        "map",
                                        "ml-module",
                                        "security-rule",
                                        "csp-rule-template",
                                        "osquery-pack-asset",
                                        "osquery-saved-query",
                                        "tag"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "type"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "type": "object"
                            },
                            "created_at": {
                              "type": "string"
                            },
                            "experimental_data_stream_features": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "data_stream": {
                                    "type": "string"
                                  },
                                  "features": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "doc_value_only_numeric": {
                                        "type": "boolean"
                                      },
                                      "doc_value_only_other": {
                                        "type": "boolean"
                                      },
                                      "synthetic_source": {
                                        "type": "boolean"
                                      },
                                      "tsdb": {
                                        "type": "boolean"
                                      }
                                    },
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "data_stream",
                                  "features"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "install_format_schema_version": {
                              "type": "string"
                            },
                            "install_source": {
                              "enum": [
                                "registry",
                                "upload",
                                "bundled",
                                "custom"
                              ],
                              "type": "string"
                            },
                            "install_status": {
                              "enum": [
                                "installed",
                                "installing",
                                "install_failed"
                              ],
                              "type": "string"
                            },
                            "installed_es": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "deferred": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "enum": [
                                      "index",
                                      "index_template",
                                      "component_template",
                                      "ingest_pipeline",
                                      "ilm_policy",
                                      "data_stream_ilm_policy",
                                      "transform",
                                      "ml_model"
                                    ],
                                    "type": "string"
                                  },
                                  "version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "type"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "installed_kibana": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "originId": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "enum": [
                                      "dashboard",
                                      "lens",
                                      "visualization",
                                      "search",
                                      "index-pattern",
                                      "map",
                                      "ml-module",
                                      "security-rule",
                                      "csp-rule-template",
                                      "osquery-pack-asset",
                                      "osquery-saved-query",
                                      "tag"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "type"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "installed_kibana_space_id": {
                              "type": "string"
                            },
                            "latest_executed_state": {
                              "additionalProperties": true,
                              "properties": {
                                "error": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "started_at": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "name",
                                "started_at"
                              ],
                              "type": "object"
                            },
                            "latest_install_failed_attempts": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "created_at": {
                                    "type": "string"
                                  },
                                  "error": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "message": {
                                        "type": "string"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "stack": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "message"
                                    ],
                                    "type": "object"
                                  },
                                  "target_version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "created_at",
                                  "target_version",
                                  "error"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "name": {
                              "type": "string"
                            },
                            "namespaces": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "type": {
                              "type": "string"
                            },
                            "updated_at": {
                              "type": "string"
                            },
                            "verification_key_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "verification_status": {
                              "enum": [
                                "unverified",
                                "verified",
                                "unknown"
                              ],
                              "type": "string"
                            },
                            "version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "installed_kibana",
                            "installed_es",
                            "name",
                            "version",
                            "install_status",
                            "install_source",
                            "verification_status"
                          ],
                          "type": "object"
                        },
                        "internal": {
                          "type": "boolean"
                        },
                        "keepPoliciesUpToDate": {
                          "type": "boolean"
                        },
                        "latestVersion": {
                          "type": "string"
                        },
                        "license": {
                          "type": "string"
                        },
                        "licensePath": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "notice": {
                          "type": "string"
                        },
                        "owner": {
                          "additionalProperties": true,
                          "properties": {
                            "github": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "elastic",
                                "partner",
                                "community"
                              ],
                              "type": "string"
                            }
                          },
                          "type": "object"
                        },
                        "path": {
                          "type": "string"
                        },
                        "policy_templates": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "readme": {
                          "type": "string"
                        },
                        "release": {
                          "enum": [
                            "ga",
                            "beta",
                            "experimental"
                          ],
                          "type": "string"
                        },
                        "savedObject": {},
                        "screenshots": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "dark_mode": {
                                "type": "boolean"
                              },
                              "path": {
                                "type": "string"
                              },
                              "size": {
                                "type": "string"
                              },
                              "src": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "src"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "signature_path": {
                          "type": "string"
                        },
                        "source": {
                          "additionalProperties": true,
                          "properties": {
                            "license": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "license"
                          ],
                          "type": "object"
                        },
                        "status": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "type": {
                          "enum": [
                            "integration",
                            "input"
                          ],
                          "type": "string"
                        },
                        "vars": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "savedObject",
                        "name",
                        "version",
                        "title",
                        "assets"
                      ],
                      "type": "object"
                    },
                    "metadata": {
                      "additionalProperties": false,
                      "properties": {
                        "has_policies": {
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "has_policies"
                      ],
                      "type": "object"
                    },
                    "response": {
                      "additionalProperties": true,
                      "deprecated": true,
                      "properties": {
                        "agent": {
                          "additionalProperties": false,
                          "properties": {
                            "privileges": {
                              "additionalProperties": false,
                              "properties": {
                                "root": {
                                  "type": "boolean"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "asset_tags": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "asset_ids": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "asset_types": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "text": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "text"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "assets": {
                          "additionalProperties": {},
                          "type": "object"
                        },
                        "categories": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "conditions": {
                          "additionalProperties": true,
                          "properties": {
                            "elastic": {
                              "additionalProperties": true,
                              "properties": {
                                "capabilities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "subscription": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "kibana": {
                              "additionalProperties": true,
                              "properties": {
                                "version": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "data_streams": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "description": {
                          "type": "string"
                        },
                        "download": {
                          "type": "string"
                        },
                        "elasticsearch": {
                          "additionalProperties": {},
                          "type": "object"
                        },
                        "format_version": {
                          "type": "string"
                        },
                        "icons": {
                          "items": {
                            "additionalProperties": true,
                            "properties": {
                              "dark_mode": {
                                "type": "boolean"
                              },
                              "path": {
                                "type": "string"
                              },
                              "size": {
                                "type": "string"
                              },
                              "src": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "src"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "installationInfo": {
                          "additionalProperties": true,
                          "properties": {
                            "additional_spaces_installed_kibana": {
                              "additionalProperties": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "originId": {
                                      "type": "string"
                                    },
                                    "type": {
                                      "enum": [
                                        "dashboard",
                                        "lens",
                                        "visualization",
                                        "search",
                                        "index-pattern",
                                        "map",
                                        "ml-module",
                                        "security-rule",
                                        "csp-rule-template",
                                        "osquery-pack-asset",
                                        "osquery-saved-query",
                                        "tag"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "type"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "type": "object"
                            },
                            "created_at": {
                              "type": "string"
                            },
                            "experimental_data_stream_features": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "data_stream": {
                                    "type": "string"
                                  },
                                  "features": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "doc_value_only_numeric": {
                                        "type": "boolean"
                                      },
                                      "doc_value_only_other": {
                                        "type": "boolean"
                                      },
                                      "synthetic_source": {
                                        "type": "boolean"
                                      },
                                      "tsdb": {
                                        "type": "boolean"
                                      }
                                    },
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "data_stream",
                                  "features"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "install_format_schema_version": {
                              "type": "string"
                            },
                            "install_source": {
                              "enum": [
                                "registry",
                                "upload",
                                "bundled",
                                "custom"
                              ],
                              "type": "string"
                            },
                            "install_status": {
                              "enum": [
                                "installed",
                                "installing",
                                "install_failed"
                              ],
                              "type": "string"
                            },
                            "installed_es": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "deferred": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "enum": [
                                      "index",
                                      "index_template",
                                      "component_template",
                                      "ingest_pipeline",
                                      "ilm_policy",
                                      "data_stream_ilm_policy",
                                      "transform",
                                      "ml_model"
                                    ],
                                    "type": "string"
                                  },
                                  "version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "type"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "installed_kibana": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "originId": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "enum": [
                                      "dashboard",
                                      "lens",
                                      "visualization",
                                      "search",
                                      "index-pattern",
                                      "map",
                                      "ml-module",
                                      "security-rule",
                                      "csp-rule-template",
                                      "osquery-pack-asset",
                                      "osquery-saved-query",
                                      "tag"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "type"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "installed_kibana_space_id": {
                              "type": "string"
                            },
                            "latest_executed_state": {
                              "additionalProperties": true,
                              "properties": {
                                "error": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "started_at": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "name",
                                "started_at"
                              ],
                              "type": "object"
                            },
                            "latest_install_failed_attempts": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "created_at": {
                                    "type": "string"
                                  },
                                  "error": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "message": {
                                        "type": "string"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "stack": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "message"
                                    ],
                                    "type": "object"
                                  },
                                  "target_version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "created_at",
                                  "target_version",
                                  "error"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "name": {
                              "type": "string"
                            },
                            "namespaces": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "type": {
                              "type": "string"
                            },
                            "updated_at": {
                              "type": "string"
                            },
                            "verification_key_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "verification_status": {
                              "enum": [
                                "unverified",
                                "verified",
                                "unknown"
                              ],
                              "type": "string"
                            },
                            "version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "installed_kibana",
                            "installed_es",
                            "name",
                            "version",
                            "install_status",
                            "install_source",
                            "verification_status"
                          ],
                          "type": "object"
                        },
                        "internal": {
                          "type": "boolean"
                        },
                        "keepPoliciesUpToDate": {
                          "type": "boolean"
                        },
                        "latestVersion": {
                          "type": "string"
                        },
                        "license": {
                          "type": "string"
                        },
                        "licensePath": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "notice": {
                          "type": "string"
                        },
                        "owner": {
                          "additionalProperties": true,
                          "properties": {
                            "github": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "elastic",
                                "partner",
                                "community"
                              ],
                              "type": "string"
                            }
                          },
                          "type": "object"
                        },
                        "path": {
                          "type": "string"
                        },
                        "policy_templates": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "readme": {
                          "type": "string"
                        },
                        "release": {
                          "enum": [
                            "ga",
                            "beta",
                            "experimental"
                          ],
                          "type": "string"
                        },
                        "savedObject": {},
                        "screenshots": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "dark_mode": {
                                "type": "boolean"
                              },
                              "path": {
                                "type": "string"
                              },
                              "size": {
                                "type": "string"
                              },
                              "src": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "src"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "signature_path": {
                          "type": "string"
                        },
                        "source": {
                          "additionalProperties": true,
                          "properties": {
                            "license": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "license"
                          ],
                          "type": "object"
                        },
                        "status": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "type": {
                          "enum": [
                            "integration",
                            "input"
                          ],
                          "type": "string"
                        },
                        "vars": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "savedObject",
                        "name",
                        "version",
                        "title",
                        "assets"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      },
      "post": {
        "description": "Install package from registry",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D#2",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgName",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgVersion",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "prerelease",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "ignoreMappingUpdateErrors",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "skipDataStreamRollover",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "nullable": true,
                "properties": {
                  "force": {
                    "default": false,
                    "type": "boolean"
                  },
                  "ignore_constraints": {
                    "default": false,
                    "type": "boolean"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "_meta": {
                      "additionalProperties": false,
                      "properties": {
                        "install_source": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "install_source"
                      ],
                      "type": "object"
                    },
                    "items": {
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "originId": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "dashboard",
                                  "lens",
                                  "visualization",
                                  "search",
                                  "index-pattern",
                                  "map",
                                  "ml-module",
                                  "security-rule",
                                  "csp-rule-template",
                                  "osquery-pack-asset",
                                  "osquery-saved-query",
                                  "tag"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "deferred": {
                                "type": "boolean"
                              },
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "index",
                                  "index_template",
                                  "component_template",
                                  "ingest_pipeline",
                                  "ilm_policy",
                                  "data_stream_ilm_policy",
                                  "transform",
                                  "ml_model"
                                ],
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    },
                    "response": {
                      "deprecated": true,
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "originId": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "dashboard",
                                  "lens",
                                  "visualization",
                                  "search",
                                  "index-pattern",
                                  "map",
                                  "ml-module",
                                  "security-rule",
                                  "csp-rule-template",
                                  "osquery-pack-asset",
                                  "osquery-saved-query",
                                  "tag"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "deferred": {
                                "type": "boolean"
                              },
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "enum": [
                                  "index",
                                  "index_template",
                                  "component_template",
                                  "ingest_pipeline",
                                  "ilm_policy",
                                  "data_stream_ilm_policy",
                                  "transform",
                                  "ml_model"
                                ],
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items",
                    "_meta"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      },
      "put": {
        "description": "Update package settings",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgName",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgVersion",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "keepPoliciesUpToDate": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "keepPoliciesUpToDate"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": true,
                      "properties": {
                        "agent": {
                          "additionalProperties": false,
                          "properties": {
                            "privileges": {
                              "additionalProperties": false,
                              "properties": {
                                "root": {
                                  "type": "boolean"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "asset_tags": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "asset_ids": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "asset_types": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "text": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "text"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "assets": {
                          "additionalProperties": {},
                          "type": "object"
                        },
                        "categories": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "conditions": {
                          "additionalProperties": true,
                          "properties": {
                            "elastic": {
                              "additionalProperties": true,
                              "properties": {
                                "capabilities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "subscription": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "kibana": {
                              "additionalProperties": true,
                              "properties": {
                                "version": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "data_streams": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "description": {
                          "type": "string"
                        },
                        "download": {
                          "type": "string"
                        },
                        "elasticsearch": {
                          "additionalProperties": {},
                          "type": "object"
                        },
                        "format_version": {
                          "type": "string"
                        },
                        "icons": {
                          "items": {
                            "additionalProperties": true,
                            "properties": {
                              "dark_mode": {
                                "type": "boolean"
                              },
                              "path": {
                                "type": "string"
                              },
                              "size": {
                                "type": "string"
                              },
                              "src": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "src"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "installationInfo": {
                          "additionalProperties": true,
                          "properties": {
                            "additional_spaces_installed_kibana": {
                              "additionalProperties": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "originId": {
                                      "type": "string"
                                    },
                                    "type": {
                                      "enum": [
                                        "dashboard",
                                        "lens",
                                        "visualization",
                                        "search",
                                        "index-pattern",
                                        "map",
                                        "ml-module",
                                        "security-rule",
                                        "csp-rule-template",
                                        "osquery-pack-asset",
                                        "osquery-saved-query",
                                        "tag"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "type"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "type": "object"
                            },
                            "created_at": {
                              "type": "string"
                            },
                            "experimental_data_stream_features": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "data_stream": {
                                    "type": "string"
                                  },
                                  "features": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "doc_value_only_numeric": {
                                        "type": "boolean"
                                      },
                                      "doc_value_only_other": {
                                        "type": "boolean"
                                      },
                                      "synthetic_source": {
                                        "type": "boolean"
                                      },
                                      "tsdb": {
                                        "type": "boolean"
                                      }
                                    },
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "data_stream",
                                  "features"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "install_format_schema_version": {
                              "type": "string"
                            },
                            "install_source": {
                              "enum": [
                                "registry",
                                "upload",
                                "bundled",
                                "custom"
                              ],
                              "type": "string"
                            },
                            "install_status": {
                              "enum": [
                                "installed",
                                "installing",
                                "install_failed"
                              ],
                              "type": "string"
                            },
                            "installed_es": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "deferred": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "enum": [
                                      "index",
                                      "index_template",
                                      "component_template",
                                      "ingest_pipeline",
                                      "ilm_policy",
                                      "data_stream_ilm_policy",
                                      "transform",
                                      "ml_model"
                                    ],
                                    "type": "string"
                                  },
                                  "version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "type"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "installed_kibana": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "originId": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "enum": [
                                      "dashboard",
                                      "lens",
                                      "visualization",
                                      "search",
                                      "index-pattern",
                                      "map",
                                      "ml-module",
                                      "security-rule",
                                      "csp-rule-template",
                                      "osquery-pack-asset",
                                      "osquery-saved-query",
                                      "tag"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "type"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "installed_kibana_space_id": {
                              "type": "string"
                            },
                            "latest_executed_state": {
                              "additionalProperties": true,
                              "properties": {
                                "error": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "started_at": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "name",
                                "started_at"
                              ],
                              "type": "object"
                            },
                            "latest_install_failed_attempts": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "created_at": {
                                    "type": "string"
                                  },
                                  "error": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "message": {
                                        "type": "string"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "stack": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "message"
                                    ],
                                    "type": "object"
                                  },
                                  "target_version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "created_at",
                                  "target_version",
                                  "error"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "name": {
                              "type": "string"
                            },
                            "namespaces": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "type": {
                              "type": "string"
                            },
                            "updated_at": {
                              "type": "string"
                            },
                            "verification_key_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "verification_status": {
                              "enum": [
                                "unverified",
                                "verified",
                                "unknown"
                              ],
                              "type": "string"
                            },
                            "version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "installed_kibana",
                            "installed_es",
                            "name",
                            "version",
                            "install_status",
                            "install_source",
                            "verification_status"
                          ],
                          "type": "object"
                        },
                        "internal": {
                          "type": "boolean"
                        },
                        "keepPoliciesUpToDate": {
                          "type": "boolean"
                        },
                        "latestVersion": {
                          "type": "string"
                        },
                        "license": {
                          "type": "string"
                        },
                        "licensePath": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "notice": {
                          "type": "string"
                        },
                        "owner": {
                          "additionalProperties": true,
                          "properties": {
                            "github": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "elastic",
                                "partner",
                                "community"
                              ],
                              "type": "string"
                            }
                          },
                          "type": "object"
                        },
                        "path": {
                          "type": "string"
                        },
                        "policy_templates": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "readme": {
                          "type": "string"
                        },
                        "release": {
                          "enum": [
                            "ga",
                            "beta",
                            "experimental"
                          ],
                          "type": "string"
                        },
                        "savedObject": {},
                        "screenshots": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "dark_mode": {
                                "type": "boolean"
                              },
                              "path": {
                                "type": "string"
                              },
                              "size": {
                                "type": "string"
                              },
                              "src": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "src"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "signature_path": {
                          "type": "string"
                        },
                        "source": {
                          "additionalProperties": true,
                          "properties": {
                            "license": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "license"
                          ],
                          "type": "object"
                        },
                        "status": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "type": {
                          "enum": [
                            "integration",
                            "input"
                          ],
                          "type": "string"
                        },
                        "vars": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "savedObject",
                        "name",
                        "version",
                        "title",
                        "assets"
                      ],
                      "type": "object"
                    },
                    "response": {
                      "additionalProperties": true,
                      "deprecated": true,
                      "properties": {
                        "agent": {
                          "additionalProperties": false,
                          "properties": {
                            "privileges": {
                              "additionalProperties": false,
                              "properties": {
                                "root": {
                                  "type": "boolean"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "asset_tags": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "asset_ids": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "asset_types": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "text": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "text"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "assets": {
                          "additionalProperties": {},
                          "type": "object"
                        },
                        "categories": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "conditions": {
                          "additionalProperties": true,
                          "properties": {
                            "elastic": {
                              "additionalProperties": true,
                              "properties": {
                                "capabilities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "subscription": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "kibana": {
                              "additionalProperties": true,
                              "properties": {
                                "version": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "data_streams": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "description": {
                          "type": "string"
                        },
                        "download": {
                          "type": "string"
                        },
                        "elasticsearch": {
                          "additionalProperties": {},
                          "type": "object"
                        },
                        "format_version": {
                          "type": "string"
                        },
                        "icons": {
                          "items": {
                            "additionalProperties": true,
                            "properties": {
                              "dark_mode": {
                                "type": "boolean"
                              },
                              "path": {
                                "type": "string"
                              },
                              "size": {
                                "type": "string"
                              },
                              "src": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "src"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "installationInfo": {
                          "additionalProperties": true,
                          "properties": {
                            "additional_spaces_installed_kibana": {
                              "additionalProperties": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "originId": {
                                      "type": "string"
                                    },
                                    "type": {
                                      "enum": [
                                        "dashboard",
                                        "lens",
                                        "visualization",
                                        "search",
                                        "index-pattern",
                                        "map",
                                        "ml-module",
                                        "security-rule",
                                        "csp-rule-template",
                                        "osquery-pack-asset",
                                        "osquery-saved-query",
                                        "tag"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "type"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "type": "object"
                            },
                            "created_at": {
                              "type": "string"
                            },
                            "experimental_data_stream_features": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "data_stream": {
                                    "type": "string"
                                  },
                                  "features": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "doc_value_only_numeric": {
                                        "type": "boolean"
                                      },
                                      "doc_value_only_other": {
                                        "type": "boolean"
                                      },
                                      "synthetic_source": {
                                        "type": "boolean"
                                      },
                                      "tsdb": {
                                        "type": "boolean"
                                      }
                                    },
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "data_stream",
                                  "features"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "install_format_schema_version": {
                              "type": "string"
                            },
                            "install_source": {
                              "enum": [
                                "registry",
                                "upload",
                                "bundled",
                                "custom"
                              ],
                              "type": "string"
                            },
                            "install_status": {
                              "enum": [
                                "installed",
                                "installing",
                                "install_failed"
                              ],
                              "type": "string"
                            },
                            "installed_es": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "deferred": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "enum": [
                                      "index",
                                      "index_template",
                                      "component_template",
                                      "ingest_pipeline",
                                      "ilm_policy",
                                      "data_stream_ilm_policy",
                                      "transform",
                                      "ml_model"
                                    ],
                                    "type": "string"
                                  },
                                  "version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "type"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "installed_kibana": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "originId": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "enum": [
                                      "dashboard",
                                      "lens",
                                      "visualization",
                                      "search",
                                      "index-pattern",
                                      "map",
                                      "ml-module",
                                      "security-rule",
                                      "csp-rule-template",
                                      "osquery-pack-asset",
                                      "osquery-saved-query",
                                      "tag"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "type"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "installed_kibana_space_id": {
                              "type": "string"
                            },
                            "latest_executed_state": {
                              "additionalProperties": true,
                              "properties": {
                                "error": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "started_at": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "name",
                                "started_at"
                              ],
                              "type": "object"
                            },
                            "latest_install_failed_attempts": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "created_at": {
                                    "type": "string"
                                  },
                                  "error": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "message": {
                                        "type": "string"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "stack": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "message"
                                    ],
                                    "type": "object"
                                  },
                                  "target_version": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "created_at",
                                  "target_version",
                                  "error"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "name": {
                              "type": "string"
                            },
                            "namespaces": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "type": {
                              "type": "string"
                            },
                            "updated_at": {
                              "type": "string"
                            },
                            "verification_key_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "verification_status": {
                              "enum": [
                                "unverified",
                                "verified",
                                "unknown"
                              ],
                              "type": "string"
                            },
                            "version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "installed_kibana",
                            "installed_es",
                            "name",
                            "version",
                            "install_status",
                            "install_source",
                            "verification_status"
                          ],
                          "type": "object"
                        },
                        "internal": {
                          "type": "boolean"
                        },
                        "keepPoliciesUpToDate": {
                          "type": "boolean"
                        },
                        "latestVersion": {
                          "type": "string"
                        },
                        "license": {
                          "type": "string"
                        },
                        "licensePath": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "notice": {
                          "type": "string"
                        },
                        "owner": {
                          "additionalProperties": true,
                          "properties": {
                            "github": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "elastic",
                                "partner",
                                "community"
                              ],
                              "type": "string"
                            }
                          },
                          "type": "object"
                        },
                        "path": {
                          "type": "string"
                        },
                        "policy_templates": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "readme": {
                          "type": "string"
                        },
                        "release": {
                          "enum": [
                            "ga",
                            "beta",
                            "experimental"
                          ],
                          "type": "string"
                        },
                        "savedObject": {},
                        "screenshots": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "dark_mode": {
                                "type": "boolean"
                              },
                              "path": {
                                "type": "string"
                              },
                              "size": {
                                "type": "string"
                              },
                              "src": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "src"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "signature_path": {
                          "type": "string"
                        },
                        "source": {
                          "additionalProperties": true,
                          "properties": {
                            "license": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "license"
                          ],
                          "type": "object"
                        },
                        "status": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "type": {
                          "enum": [
                            "integration",
                            "input"
                          ],
                          "type": "string"
                        },
                        "vars": {
                          "items": {
                            "additionalProperties": {},
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "savedObject",
                        "name",
                        "version",
                        "title",
                        "assets"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/packages/{pkgName}/{pkgVersion}/transforms/authorize": {
      "post": {
        "description": "Authorize transforms",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D%2Ftransforms%2Fauthorize#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgName",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgVersion",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "prerelease",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "transforms": {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "transformId": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "transformId"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  }
                },
                "required": [
                  "transforms"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "items": {
                    "additionalProperties": false,
                    "properties": {
                      "error": {
                        "nullable": true
                      },
                      "success": {
                        "type": "boolean"
                      },
                      "transformId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "transformId",
                      "success",
                      "error"
                    ],
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/packages/{pkgName}/{pkgVersion}/{filePath*}": {
      "get": {
        "description": "Get package file",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D%2F%7BfilePath*%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgName",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgVersion",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "filePath",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {}
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/packages/{pkgkey}": {
      "delete": {
        "deprecated": true,
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7Bpkgkey%7D#3",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgkey",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "nullable": true,
                "properties": {
                  "force": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "force"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {},
        "summary": "",
        "tags": []
      },
      "get": {
        "deprecated": true,
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7Bpkgkey%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgkey",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "ignoreUnverified",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "prerelease",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "full",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "withMetadata",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "responses": {},
        "summary": "",
        "tags": []
      },
      "post": {
        "deprecated": true,
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7Bpkgkey%7D#2",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgkey",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "prerelease",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "ignoreMappingUpdateErrors",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "skipDataStreamRollover",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "nullable": true,
                "properties": {
                  "force": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "force"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {},
        "summary": "",
        "tags": []
      },
      "put": {
        "deprecated": true,
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7Bpkgkey%7D#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgkey",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "keepPoliciesUpToDate": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "keepPoliciesUpToDate"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {},
        "summary": "",
        "tags": []
      }
    },
    "/api/fleet/epm/templates/{pkgName}/{pkgVersion}/inputs": {
      "get": {
        "description": "Get inputs template",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Ftemplates%2F%7BpkgName%7D%2F%7BpkgVersion%7D%2Finputs#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgName",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "pkgVersion",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "default": "json",
              "enum": [
                "json",
                "yml",
                "yaml"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "prerelease",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "ignoreUnverified",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "additionalProperties": false,
                      "properties": {
                        "inputs": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "streams": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "data_stream": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "dataset": {
                                          "type": "string"
                                        },
                                        "type": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "dataset"
                                      ],
                                      "type": "object"
                                    },
                                    "id": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "data_stream"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "type": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        }
                      },
                      "required": [
                        "inputs"
                      ],
                      "type": "object"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/epm/verification_key_id": {
      "get": {
        "description": "Get a package signature verification key ID",
        "operationId": "%2Fapi%2Ffleet%2Fepm%2Fverification_key_id#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "nullable": true,
                      "type": "string"
                    }
                  },
                  "required": [
                    "id"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Package Manager (EPM)"
        ]
      }
    },
    "/api/fleet/fleet_server_hosts": {
      "get": {
        "description": "List Fleet Server hosts",
        "operationId": "%2Fapi%2Ffleet%2Ffleet_server_hosts#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "host_urls": {
                            "items": {
                              "type": "string"
                            },
                            "minItems": 1,
                            "type": "array"
                          },
                          "id": {
                            "type": "string"
                          },
                          "is_default": {
                            "default": false,
                            "type": "boolean"
                          },
                          "is_internal": {
                            "type": "boolean"
                          },
                          "is_preconfigured": {
                            "default": false,
                            "type": "boolean"
                          },
                          "name": {
                            "type": "string"
                          },
                          "proxy_id": {
                            "nullable": true,
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "host_urls"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total",
                    "page",
                    "perPage"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet Server hosts"
        ]
      },
      "post": {
        "description": "Create Fleet Server host",
        "operationId": "%2Fapi%2Ffleet%2Ffleet_server_hosts#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "host_urls": {
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1,
                    "type": "array"
                  },
                  "id": {
                    "type": "string"
                  },
                  "is_default": {
                    "default": false,
                    "type": "boolean"
                  },
                  "is_internal": {
                    "type": "boolean"
                  },
                  "is_preconfigured": {
                    "default": false,
                    "type": "boolean"
                  },
                  "name": {
                    "type": "string"
                  },
                  "proxy_id": {
                    "nullable": true,
                    "type": "string"
                  }
                },
                "required": [
                  "name",
                  "host_urls"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "host_urls": {
                          "items": {
                            "type": "string"
                          },
                          "minItems": 1,
                          "type": "array"
                        },
                        "id": {
                          "type": "string"
                        },
                        "is_default": {
                          "default": false,
                          "type": "boolean"
                        },
                        "is_internal": {
                          "type": "boolean"
                        },
                        "is_preconfigured": {
                          "default": false,
                          "type": "boolean"
                        },
                        "name": {
                          "type": "string"
                        },
                        "proxy_id": {
                          "nullable": true,
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "host_urls"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet Server hosts"
        ]
      }
    },
    "/api/fleet/fleet_server_hosts/{itemId}": {
      "delete": {
        "description": "Delete Fleet Server host by ID",
        "operationId": "%2Fapi%2Ffleet%2Ffleet_server_hosts%2F%7BitemId%7D#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "itemId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet Server hosts"
        ]
      },
      "get": {
        "description": "Get Fleet Server host by ID",
        "operationId": "%2Fapi%2Ffleet%2Ffleet_server_hosts%2F%7BitemId%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "itemId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "host_urls": {
                          "items": {
                            "type": "string"
                          },
                          "minItems": 1,
                          "type": "array"
                        },
                        "id": {
                          "type": "string"
                        },
                        "is_default": {
                          "default": false,
                          "type": "boolean"
                        },
                        "is_internal": {
                          "type": "boolean"
                        },
                        "is_preconfigured": {
                          "default": false,
                          "type": "boolean"
                        },
                        "name": {
                          "type": "string"
                        },
                        "proxy_id": {
                          "nullable": true,
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "host_urls"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet Server hosts"
        ]
      },
      "put": {
        "description": "Update Fleet Server host by ID",
        "operationId": "%2Fapi%2Ffleet%2Ffleet_server_hosts%2F%7BitemId%7D#2",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "itemId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "host_urls": {
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1,
                    "type": "array"
                  },
                  "is_default": {
                    "type": "boolean"
                  },
                  "is_internal": {
                    "type": "boolean"
                  },
                  "name": {
                    "type": "string"
                  },
                  "proxy_id": {
                    "nullable": true,
                    "type": "string"
                  }
                },
                "required": [
                  "proxy_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "host_urls": {
                          "items": {
                            "type": "string"
                          },
                          "minItems": 1,
                          "type": "array"
                        },
                        "id": {
                          "type": "string"
                        },
                        "is_default": {
                          "default": false,
                          "type": "boolean"
                        },
                        "is_internal": {
                          "type": "boolean"
                        },
                        "is_preconfigured": {
                          "default": false,
                          "type": "boolean"
                        },
                        "name": {
                          "type": "string"
                        },
                        "proxy_id": {
                          "nullable": true,
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "host_urls"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet Server hosts"
        ]
      }
    },
    "/api/fleet/health_check": {
      "post": {
        "description": "Check Fleet Server health",
        "operationId": "%2Fapi%2Ffleet%2Fhealth_check#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "host": {
                    "format": "uri",
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  }
                },
                "required": [
                  "id"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "host": {
                      "deprecated": true,
                      "type": "string"
                    },
                    "host_id": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "status"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet internals"
        ]
      }
    },
    "/api/fleet/kubernetes": {
      "get": {
        "description": "Get full K8s agent manifest",
        "operationId": "%2Fapi%2Ffleet%2Fkubernetes#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "download",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "fleetServer",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "enrolToken",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent policies"
        ]
      }
    },
    "/api/fleet/kubernetes/download": {
      "get": {
        "operationId": "%2Fapi%2Ffleet%2Fkubernetes%2Fdownload#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "download",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "fleetServer",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "enrolToken",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Elastic Agent policies"
        ]
      }
    },
    "/api/fleet/logstash_api_keys": {
      "post": {
        "description": "Generate Logstash API keyy",
        "operationId": "%2Fapi%2Ffleet%2Flogstash_api_keys#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "api_key": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "api_key"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet outputs"
        ]
      }
    },
    "/api/fleet/message_signing_service/rotate_key_pair": {
      "post": {
        "description": "Rotate fleet message signing key pair",
        "operationId": "%2Fapi%2Ffleet%2Fmessage_signing_service%2Frotate_key_pair#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "acknowledge",
            "required": false,
            "schema": {
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "500": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/api/fleet/outputs": {
      "get": {
        "description": "List outputs",
        "operationId": "%2Fapi%2Ffleet%2Foutputs#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": true,
                            "properties": {
                              "allow_edit": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "ca_sha256": {
                                "nullable": true,
                                "type": "string"
                              },
                              "ca_trusted_fingerprint": {
                                "nullable": true,
                                "type": "string"
                              },
                              "config_yaml": {
                                "nullable": true,
                                "type": "string"
                              },
                              "hosts": {
                                "items": {
                                  "format": "uri",
                                  "type": "string"
                                },
                                "minItems": 1,
                                "type": "array"
                              },
                              "id": {
                                "type": "string"
                              },
                              "is_default": {
                                "default": false,
                                "type": "boolean"
                              },
                              "is_default_monitoring": {
                                "default": false,
                                "type": "boolean"
                              },
                              "is_internal": {
                                "type": "boolean"
                              },
                              "is_preconfigured": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              },
                              "preset": {
                                "enum": [
                                  "balanced",
                                  "custom",
                                  "throughput",
                                  "scale",
                                  "latency"
                                ],
                                "type": "string"
                              },
                              "proxy_id": {
                                "nullable": true,
                                "type": "string"
                              },
                              "shipper": {
                                "additionalProperties": true,
                                "nullable": true,
                                "properties": {
                                  "compression_level": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "disk_queue_compression_enabled": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_enabled": {
                                    "default": false,
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_encryption_enabled": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_max_size": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "disk_queue_path": {
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "loadbalance": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "max_batch_bytes": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "mem_queue_events": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "queue_flush_timeout": {
                                    "nullable": true,
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "disk_queue_path",
                                  "disk_queue_max_size",
                                  "disk_queue_encryption_enabled",
                                  "disk_queue_compression_enabled",
                                  "compression_level",
                                  "loadbalance",
                                  "mem_queue_events",
                                  "queue_flush_timeout",
                                  "max_batch_bytes"
                                ],
                                "type": "object"
                              },
                              "ssl": {
                                "additionalProperties": true,
                                "nullable": true,
                                "properties": {
                                  "certificate": {
                                    "type": "string"
                                  },
                                  "certificate_authorities": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "key": {
                                    "type": "string"
                                  },
                                  "verification_mode": {
                                    "enum": [
                                      "full",
                                      "none",
                                      "certificate",
                                      "strict"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "type": {
                                "enum": [
                                  "elasticsearch"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "type",
                              "hosts"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": true,
                            "properties": {
                              "allow_edit": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "ca_sha256": {
                                "nullable": true,
                                "type": "string"
                              },
                              "ca_trusted_fingerprint": {
                                "nullable": true,
                                "type": "string"
                              },
                              "config_yaml": {
                                "nullable": true,
                                "type": "string"
                              },
                              "hosts": {
                                "items": {
                                  "format": "uri",
                                  "type": "string"
                                },
                                "minItems": 1,
                                "type": "array"
                              },
                              "id": {
                                "type": "string"
                              },
                              "is_default": {
                                "default": false,
                                "type": "boolean"
                              },
                              "is_default_monitoring": {
                                "default": false,
                                "type": "boolean"
                              },
                              "is_internal": {
                                "type": "boolean"
                              },
                              "is_preconfigured": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              },
                              "preset": {
                                "enum": [
                                  "balanced",
                                  "custom",
                                  "throughput",
                                  "scale",
                                  "latency"
                                ],
                                "type": "string"
                              },
                              "proxy_id": {
                                "nullable": true,
                                "type": "string"
                              },
                              "secrets": {
                                "additionalProperties": true,
                                "properties": {
                                  "service_token": {
                                    "anyOf": [
                                      {
                                        "additionalProperties": true,
                                        "properties": {
                                          "id": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "id"
                                        ],
                                        "type": "object"
                                      },
                                      {
                                        "type": "string"
                                      }
                                    ]
                                  }
                                },
                                "type": "object"
                              },
                              "service_token": {
                                "nullable": true,
                                "type": "string"
                              },
                              "shipper": {
                                "additionalProperties": true,
                                "nullable": true,
                                "properties": {
                                  "compression_level": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "disk_queue_compression_enabled": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_enabled": {
                                    "default": false,
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_encryption_enabled": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_max_size": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "disk_queue_path": {
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "loadbalance": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "max_batch_bytes": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "mem_queue_events": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "queue_flush_timeout": {
                                    "nullable": true,
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "disk_queue_path",
                                  "disk_queue_max_size",
                                  "disk_queue_encryption_enabled",
                                  "disk_queue_compression_enabled",
                                  "compression_level",
                                  "loadbalance",
                                  "mem_queue_events",
                                  "queue_flush_timeout",
                                  "max_batch_bytes"
                                ],
                                "type": "object"
                              },
                              "ssl": {
                                "additionalProperties": true,
                                "nullable": true,
                                "properties": {
                                  "certificate": {
                                    "type": "string"
                                  },
                                  "certificate_authorities": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "key": {
                                    "type": "string"
                                  },
                                  "verification_mode": {
                                    "enum": [
                                      "full",
                                      "none",
                                      "certificate",
                                      "strict"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "type": {
                                "enum": [
                                  "remote_elasticsearch"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "type",
                              "hosts"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": true,
                            "properties": {
                              "allow_edit": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "ca_sha256": {
                                "nullable": true,
                                "type": "string"
                              },
                              "ca_trusted_fingerprint": {
                                "nullable": true,
                                "type": "string"
                              },
                              "config_yaml": {
                                "nullable": true,
                                "type": "string"
                              },
                              "hosts": {
                                "items": {
                                  "type": "string"
                                },
                                "minItems": 1,
                                "type": "array"
                              },
                              "id": {
                                "type": "string"
                              },
                              "is_default": {
                                "default": false,
                                "type": "boolean"
                              },
                              "is_default_monitoring": {
                                "default": false,
                                "type": "boolean"
                              },
                              "is_internal": {
                                "type": "boolean"
                              },
                              "is_preconfigured": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              },
                              "proxy_id": {
                                "nullable": true,
                                "type": "string"
                              },
                              "secrets": {
                                "additionalProperties": true,
                                "properties": {
                                  "ssl": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "key": {
                                        "anyOf": [
                                          {
                                            "additionalProperties": true,
                                            "properties": {
                                              "id": {
                                                "type": "string"
                                              }
                                            },
                                            "required": [
                                              "id"
                                            ],
                                            "type": "object"
                                          },
                                          {
                                            "type": "string"
                                          }
                                        ]
                                      }
                                    },
                                    "type": "object"
                                  }
                                },
                                "type": "object"
                              },
                              "shipper": {
                                "additionalProperties": true,
                                "nullable": true,
                                "properties": {
                                  "compression_level": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "disk_queue_compression_enabled": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_enabled": {
                                    "default": false,
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_encryption_enabled": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_max_size": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "disk_queue_path": {
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "loadbalance": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "max_batch_bytes": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "mem_queue_events": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "queue_flush_timeout": {
                                    "nullable": true,
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "disk_queue_path",
                                  "disk_queue_max_size",
                                  "disk_queue_encryption_enabled",
                                  "disk_queue_compression_enabled",
                                  "compression_level",
                                  "loadbalance",
                                  "mem_queue_events",
                                  "queue_flush_timeout",
                                  "max_batch_bytes"
                                ],
                                "type": "object"
                              },
                              "ssl": {
                                "additionalProperties": true,
                                "nullable": true,
                                "properties": {
                                  "certificate": {
                                    "type": "string"
                                  },
                                  "certificate_authorities": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "key": {
                                    "type": "string"
                                  },
                                  "verification_mode": {
                                    "enum": [
                                      "full",
                                      "none",
                                      "certificate",
                                      "strict"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "type": {
                                "enum": [
                                  "logstash"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "type",
                              "hosts"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": true,
                            "properties": {
                              "allow_edit": {
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              },
                              "auth_type": {
                                "enum": [
                                  "none",
                                  "user_pass",
                                  "ssl",
                                  "kerberos"
                                ],
                                "type": "string"
                              },
                              "broker_timeout": {
                                "type": "number"
                              },
                              "ca_sha256": {
                                "nullable": true,
                                "type": "string"
                              },
                              "ca_trusted_fingerprint": {
                                "nullable": true,
                                "type": "string"
                              },
                              "client_id": {
                                "type": "string"
                              },
                              "compression": {
                                "enum": [
                                  "gzip",
                                  "snappy",
                                  "lz4",
                                  "none"
                                ],
                                "type": "string"
                              },
                              "compression_level": {
                                "anyOf": [
                                  {
                                    "items": {},
                                    "type": "array"
                                  },
                                  {
                                    "type": "boolean"
                                  },
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "type": "object"
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "nullable": true,
                                "oneOf": [
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "not": {}
                                  }
                                ]
                              },
                              "config_yaml": {
                                "nullable": true,
                                "type": "string"
                              },
                              "connection_type": {
                                "anyOf": [
                                  {
                                    "items": {},
                                    "type": "array"
                                  },
                                  {
                                    "type": "boolean"
                                  },
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "type": "object"
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "nullable": true,
                                "oneOf": [
                                  {
                                    "enum": [
                                      "plaintext",
                                      "encryption"
                                    ],
                                    "type": "string"
                                  },
                                  {
                                    "not": {}
                                  }
                                ]
                              },
                              "hash": {
                                "additionalProperties": true,
                                "properties": {
                                  "hash": {
                                    "type": "string"
                                  },
                                  "random": {
                                    "type": "boolean"
                                  }
                                },
                                "type": "object"
                              },
                              "headers": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "key": {
                                      "type": "string"
                                    },
                                    "value": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "key",
                                    "value"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "hosts": {
                                "items": {
                                  "type": "string"
                                },
                                "minItems": 1,
                                "type": "array"
                              },
                              "id": {
                                "type": "string"
                              },
                              "is_default": {
                                "default": false,
                                "type": "boolean"
                              },
                              "is_default_monitoring": {
                                "default": false,
                                "type": "boolean"
                              },
                              "is_internal": {
                                "type": "boolean"
                              },
                              "is_preconfigured": {
                                "type": "boolean"
                              },
                              "key": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "partition": {
                                "enum": [
                                  "random",
                                  "round_robin",
                                  "hash"
                                ],
                                "type": "string"
                              },
                              "password": {
                                "anyOf": [
                                  {
                                    "items": {},
                                    "type": "array"
                                  },
                                  {
                                    "type": "boolean"
                                  },
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "type": "object"
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "nullable": true,
                                "oneOf": [
                                  {
                                    "not": {}
                                  },
                                  {
                                    "anyOf": [
                                      {
                                        "items": {},
                                        "type": "array"
                                      },
                                      {
                                        "type": "boolean"
                                      },
                                      {
                                        "type": "number"
                                      },
                                      {
                                        "type": "object"
                                      },
                                      {
                                        "type": "string"
                                      }
                                    ],
                                    "nullable": true,
                                    "oneOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "not": {}
                                      }
                                    ]
                                  }
                                ]
                              },
                              "proxy_id": {
                                "nullable": true,
                                "type": "string"
                              },
                              "random": {
                                "additionalProperties": true,
                                "properties": {
                                  "group_events": {
                                    "type": "number"
                                  }
                                },
                                "type": "object"
                              },
                              "required_acks": {
                                "enum": [
                                  1,
                                  0,
                                  -1
                                ],
                                "type": "integer"
                              },
                              "round_robin": {
                                "additionalProperties": true,
                                "properties": {
                                  "group_events": {
                                    "type": "number"
                                  }
                                },
                                "type": "object"
                              },
                              "sasl": {
                                "additionalProperties": true,
                                "nullable": true,
                                "properties": {
                                  "mechanism": {
                                    "enum": [
                                      "PLAIN",
                                      "SCRAM-SHA-256",
                                      "SCRAM-SHA-512"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "secrets": {
                                "additionalProperties": true,
                                "properties": {
                                  "password": {
                                    "anyOf": [
                                      {
                                        "additionalProperties": true,
                                        "properties": {
                                          "id": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "id"
                                        ],
                                        "type": "object"
                                      },
                                      {
                                        "type": "string"
                                      }
                                    ]
                                  },
                                  "ssl": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "key": {
                                        "anyOf": [
                                          {
                                            "additionalProperties": true,
                                            "properties": {
                                              "id": {
                                                "type": "string"
                                              }
                                            },
                                            "required": [
                                              "id"
                                            ],
                                            "type": "object"
                                          },
                                          {
                                            "type": "string"
                                          }
                                        ]
                                      }
                                    },
                                    "required": [
                                      "key"
                                    ],
                                    "type": "object"
                                  }
                                },
                                "type": "object"
                              },
                              "shipper": {
                                "additionalProperties": true,
                                "nullable": true,
                                "properties": {
                                  "compression_level": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "disk_queue_compression_enabled": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_enabled": {
                                    "default": false,
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_encryption_enabled": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "disk_queue_max_size": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "disk_queue_path": {
                                    "nullable": true,
                                    "type": "string"
                                  },
                                  "loadbalance": {
                                    "nullable": true,
                                    "type": "boolean"
                                  },
                                  "max_batch_bytes": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "mem_queue_events": {
                                    "nullable": true,
                                    "type": "number"
                                  },
                                  "queue_flush_timeout": {
                                    "nullable": true,
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "disk_queue_path",
                                  "disk_queue_max_size",
                                  "disk_queue_encryption_enabled",
                                  "disk_queue_compression_enabled",
                                  "compression_level",
                                  "loadbalance",
                                  "mem_queue_events",
                                  "queue_flush_timeout",
                                  "max_batch_bytes"
                                ],
                                "type": "object"
                              },
                              "ssl": {
                                "additionalProperties": true,
                                "nullable": true,
                                "properties": {
                                  "certificate": {
                                    "type": "string"
                                  },
                                  "certificate_authorities": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "key": {
                                    "type": "string"
                                  },
                                  "verification_mode": {
                                    "enum": [
                                      "full",
                                      "none",
                                      "certificate",
                                      "strict"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "timeout": {
                                "type": "number"
                              },
                              "topic": {
                                "type": "string"
                              },
                              "topics": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "topic": {
                                      "type": "string"
                                    },
                                    "when": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "condition": {
                                          "type": "string"
                                        },
                                        "type": {
                                          "enum": [
                                            "equals",
                                            "contains",
                                            "regexp"
                                          ],
                                          "type": "string"
                                        }
                                      },
                                      "type": "object"
                                    }
                                  },
                                  "required": [
                                    "topic"
                                  ],
                                  "type": "object"
                                },
                                "minItems": 1,
                                "type": "array"
                              },
                              "type": {
                                "enum": [
                                  "kafka"
                                ],
                                "type": "string"
                              },
                              "username": {
                                "anyOf": [
                                  {
                                    "items": {},
                                    "type": "array"
                                  },
                                  {
                                    "type": "boolean"
                                  },
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "type": "object"
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "nullable": true,
                                "oneOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "not": {}
                                  }
                                ]
                              },
                              "version": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "type",
                              "hosts",
                              "compression_level",
                              "auth_type",
                              "connection_type",
                              "username",
                              "password"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total",
                    "page",
                    "perPage"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet outputs"
        ]
      },
      "post": {
        "description": "Create output",
        "operationId": "%2Fapi%2Ffleet%2Foutputs#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "allow_edit": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "ca_sha256": {
                        "nullable": true,
                        "type": "string"
                      },
                      "ca_trusted_fingerprint": {
                        "nullable": true,
                        "type": "string"
                      },
                      "config_yaml": {
                        "nullable": true,
                        "type": "string"
                      },
                      "hosts": {
                        "items": {
                          "format": "uri",
                          "type": "string"
                        },
                        "minItems": 1,
                        "type": "array"
                      },
                      "id": {
                        "type": "string"
                      },
                      "is_default": {
                        "default": false,
                        "type": "boolean"
                      },
                      "is_default_monitoring": {
                        "default": false,
                        "type": "boolean"
                      },
                      "is_internal": {
                        "type": "boolean"
                      },
                      "is_preconfigured": {
                        "type": "boolean"
                      },
                      "name": {
                        "type": "string"
                      },
                      "preset": {
                        "enum": [
                          "balanced",
                          "custom",
                          "throughput",
                          "scale",
                          "latency"
                        ],
                        "type": "string"
                      },
                      "proxy_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "shipper": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "compression_level": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_compression_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_enabled": {
                            "default": false,
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_encryption_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_max_size": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_path": {
                            "nullable": true,
                            "type": "string"
                          },
                          "loadbalance": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "max_batch_bytes": {
                            "nullable": true,
                            "type": "number"
                          },
                          "mem_queue_events": {
                            "nullable": true,
                            "type": "number"
                          },
                          "queue_flush_timeout": {
                            "nullable": true,
                            "type": "number"
                          }
                        },
                        "required": [
                          "disk_queue_path",
                          "disk_queue_max_size",
                          "disk_queue_encryption_enabled",
                          "disk_queue_compression_enabled",
                          "compression_level",
                          "loadbalance",
                          "mem_queue_events",
                          "queue_flush_timeout",
                          "max_batch_bytes"
                        ],
                        "type": "object"
                      },
                      "ssl": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "certificate": {
                            "type": "string"
                          },
                          "certificate_authorities": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "key": {
                            "type": "string"
                          },
                          "verification_mode": {
                            "enum": [
                              "full",
                              "none",
                              "certificate",
                              "strict"
                            ],
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "type": {
                        "enum": [
                          "elasticsearch"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "name",
                      "type",
                      "hosts"
                    ],
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "allow_edit": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "ca_sha256": {
                        "nullable": true,
                        "type": "string"
                      },
                      "ca_trusted_fingerprint": {
                        "nullable": true,
                        "type": "string"
                      },
                      "config_yaml": {
                        "nullable": true,
                        "type": "string"
                      },
                      "hosts": {
                        "items": {
                          "format": "uri",
                          "type": "string"
                        },
                        "minItems": 1,
                        "type": "array"
                      },
                      "id": {
                        "type": "string"
                      },
                      "is_default": {
                        "default": false,
                        "type": "boolean"
                      },
                      "is_default_monitoring": {
                        "default": false,
                        "type": "boolean"
                      },
                      "is_internal": {
                        "type": "boolean"
                      },
                      "is_preconfigured": {
                        "type": "boolean"
                      },
                      "name": {
                        "type": "string"
                      },
                      "preset": {
                        "enum": [
                          "balanced",
                          "custom",
                          "throughput",
                          "scale",
                          "latency"
                        ],
                        "type": "string"
                      },
                      "proxy_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "secrets": {
                        "additionalProperties": false,
                        "properties": {
                          "service_token": {
                            "anyOf": [
                              {
                                "additionalProperties": false,
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id"
                                ],
                                "type": "object"
                              },
                              {
                                "type": "string"
                              }
                            ]
                          }
                        },
                        "type": "object"
                      },
                      "service_token": {
                        "nullable": true,
                        "type": "string"
                      },
                      "shipper": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "compression_level": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_compression_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_enabled": {
                            "default": false,
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_encryption_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_max_size": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_path": {
                            "nullable": true,
                            "type": "string"
                          },
                          "loadbalance": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "max_batch_bytes": {
                            "nullable": true,
                            "type": "number"
                          },
                          "mem_queue_events": {
                            "nullable": true,
                            "type": "number"
                          },
                          "queue_flush_timeout": {
                            "nullable": true,
                            "type": "number"
                          }
                        },
                        "required": [
                          "disk_queue_path",
                          "disk_queue_max_size",
                          "disk_queue_encryption_enabled",
                          "disk_queue_compression_enabled",
                          "compression_level",
                          "loadbalance",
                          "mem_queue_events",
                          "queue_flush_timeout",
                          "max_batch_bytes"
                        ],
                        "type": "object"
                      },
                      "ssl": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "certificate": {
                            "type": "string"
                          },
                          "certificate_authorities": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "key": {
                            "type": "string"
                          },
                          "verification_mode": {
                            "enum": [
                              "full",
                              "none",
                              "certificate",
                              "strict"
                            ],
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "type": {
                        "enum": [
                          "remote_elasticsearch"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "name",
                      "type",
                      "hosts"
                    ],
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "allow_edit": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "ca_sha256": {
                        "nullable": true,
                        "type": "string"
                      },
                      "ca_trusted_fingerprint": {
                        "nullable": true,
                        "type": "string"
                      },
                      "config_yaml": {
                        "nullable": true,
                        "type": "string"
                      },
                      "hosts": {
                        "items": {
                          "type": "string"
                        },
                        "minItems": 1,
                        "type": "array"
                      },
                      "id": {
                        "type": "string"
                      },
                      "is_default": {
                        "default": false,
                        "type": "boolean"
                      },
                      "is_default_monitoring": {
                        "default": false,
                        "type": "boolean"
                      },
                      "is_internal": {
                        "type": "boolean"
                      },
                      "is_preconfigured": {
                        "type": "boolean"
                      },
                      "name": {
                        "type": "string"
                      },
                      "proxy_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "secrets": {
                        "additionalProperties": false,
                        "properties": {
                          "ssl": {
                            "additionalProperties": false,
                            "properties": {
                              "key": {
                                "anyOf": [
                                  {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id"
                                    ],
                                    "type": "object"
                                  },
                                  {
                                    "type": "string"
                                  }
                                ]
                              }
                            },
                            "type": "object"
                          }
                        },
                        "type": "object"
                      },
                      "shipper": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "compression_level": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_compression_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_enabled": {
                            "default": false,
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_encryption_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_max_size": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_path": {
                            "nullable": true,
                            "type": "string"
                          },
                          "loadbalance": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "max_batch_bytes": {
                            "nullable": true,
                            "type": "number"
                          },
                          "mem_queue_events": {
                            "nullable": true,
                            "type": "number"
                          },
                          "queue_flush_timeout": {
                            "nullable": true,
                            "type": "number"
                          }
                        },
                        "required": [
                          "disk_queue_path",
                          "disk_queue_max_size",
                          "disk_queue_encryption_enabled",
                          "disk_queue_compression_enabled",
                          "compression_level",
                          "loadbalance",
                          "mem_queue_events",
                          "queue_flush_timeout",
                          "max_batch_bytes"
                        ],
                        "type": "object"
                      },
                      "ssl": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "certificate": {
                            "type": "string"
                          },
                          "certificate_authorities": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "key": {
                            "type": "string"
                          },
                          "verification_mode": {
                            "enum": [
                              "full",
                              "none",
                              "certificate",
                              "strict"
                            ],
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "type": {
                        "enum": [
                          "logstash"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "name",
                      "type",
                      "hosts"
                    ],
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "allow_edit": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "auth_type": {
                        "enum": [
                          "none",
                          "user_pass",
                          "ssl",
                          "kerberos"
                        ],
                        "type": "string"
                      },
                      "broker_timeout": {
                        "type": "number"
                      },
                      "ca_sha256": {
                        "nullable": true,
                        "type": "string"
                      },
                      "ca_trusted_fingerprint": {
                        "nullable": true,
                        "type": "string"
                      },
                      "client_id": {
                        "type": "string"
                      },
                      "compression": {
                        "enum": [
                          "gzip",
                          "snappy",
                          "lz4",
                          "none"
                        ],
                        "type": "string"
                      },
                      "compression_level": {
                        "anyOf": [
                          {
                            "items": {},
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "nullable": true,
                        "oneOf": [
                          {
                            "type": "number"
                          },
                          {
                            "not": {}
                          }
                        ]
                      },
                      "config_yaml": {
                        "nullable": true,
                        "type": "string"
                      },
                      "connection_type": {
                        "anyOf": [
                          {
                            "items": {},
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "nullable": true,
                        "oneOf": [
                          {
                            "enum": [
                              "plaintext",
                              "encryption"
                            ],
                            "type": "string"
                          },
                          {
                            "not": {}
                          }
                        ]
                      },
                      "hash": {
                        "additionalProperties": false,
                        "properties": {
                          "hash": {
                            "type": "string"
                          },
                          "random": {
                            "type": "boolean"
                          }
                        },
                        "type": "object"
                      },
                      "headers": {
                        "items": {
                          "additionalProperties": false,
                          "properties": {
                            "key": {
                              "type": "string"
                            },
                            "value": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "key",
                            "value"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "hosts": {
                        "items": {
                          "type": "string"
                        },
                        "minItems": 1,
                        "type": "array"
                      },
                      "id": {
                        "type": "string"
                      },
                      "is_default": {
                        "default": false,
                        "type": "boolean"
                      },
                      "is_default_monitoring": {
                        "default": false,
                        "type": "boolean"
                      },
                      "is_internal": {
                        "type": "boolean"
                      },
                      "is_preconfigured": {
                        "type": "boolean"
                      },
                      "key": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "partition": {
                        "enum": [
                          "random",
                          "round_robin",
                          "hash"
                        ],
                        "type": "string"
                      },
                      "password": {
                        "anyOf": [
                          {
                            "items": {},
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "nullable": true,
                        "oneOf": [
                          {
                            "not": {}
                          },
                          {
                            "anyOf": [
                              {
                                "items": {},
                                "type": "array"
                              },
                              {
                                "type": "boolean"
                              },
                              {
                                "type": "number"
                              },
                              {
                                "type": "object"
                              },
                              {
                                "type": "string"
                              }
                            ],
                            "nullable": true,
                            "oneOf": [
                              {
                                "type": "string"
                              },
                              {
                                "not": {}
                              }
                            ]
                          }
                        ]
                      },
                      "proxy_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "random": {
                        "additionalProperties": false,
                        "properties": {
                          "group_events": {
                            "type": "number"
                          }
                        },
                        "type": "object"
                      },
                      "required_acks": {
                        "enum": [
                          1,
                          0,
                          -1
                        ],
                        "type": "integer"
                      },
                      "round_robin": {
                        "additionalProperties": false,
                        "properties": {
                          "group_events": {
                            "type": "number"
                          }
                        },
                        "type": "object"
                      },
                      "sasl": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "mechanism": {
                            "enum": [
                              "PLAIN",
                              "SCRAM-SHA-256",
                              "SCRAM-SHA-512"
                            ],
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "secrets": {
                        "additionalProperties": false,
                        "properties": {
                          "password": {
                            "anyOf": [
                              {
                                "additionalProperties": false,
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id"
                                ],
                                "type": "object"
                              },
                              {
                                "type": "string"
                              }
                            ]
                          },
                          "ssl": {
                            "additionalProperties": false,
                            "properties": {
                              "key": {
                                "anyOf": [
                                  {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id"
                                    ],
                                    "type": "object"
                                  },
                                  {
                                    "type": "string"
                                  }
                                ]
                              }
                            },
                            "required": [
                              "key"
                            ],
                            "type": "object"
                          }
                        },
                        "type": "object"
                      },
                      "shipper": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "compression_level": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_compression_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_enabled": {
                            "default": false,
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_encryption_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_max_size": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_path": {
                            "nullable": true,
                            "type": "string"
                          },
                          "loadbalance": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "max_batch_bytes": {
                            "nullable": true,
                            "type": "number"
                          },
                          "mem_queue_events": {
                            "nullable": true,
                            "type": "number"
                          },
                          "queue_flush_timeout": {
                            "nullable": true,
                            "type": "number"
                          }
                        },
                        "required": [
                          "disk_queue_path",
                          "disk_queue_max_size",
                          "disk_queue_encryption_enabled",
                          "disk_queue_compression_enabled",
                          "compression_level",
                          "loadbalance",
                          "mem_queue_events",
                          "queue_flush_timeout",
                          "max_batch_bytes"
                        ],
                        "type": "object"
                      },
                      "ssl": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "certificate": {
                            "type": "string"
                          },
                          "certificate_authorities": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "key": {
                            "type": "string"
                          },
                          "verification_mode": {
                            "enum": [
                              "full",
                              "none",
                              "certificate",
                              "strict"
                            ],
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "timeout": {
                        "type": "number"
                      },
                      "topic": {
                        "type": "string"
                      },
                      "topics": {
                        "items": {
                          "additionalProperties": false,
                          "properties": {
                            "topic": {
                              "type": "string"
                            },
                            "when": {
                              "additionalProperties": false,
                              "properties": {
                                "condition": {
                                  "type": "string"
                                },
                                "type": {
                                  "enum": [
                                    "equals",
                                    "contains",
                                    "regexp"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "required": [
                            "topic"
                          ],
                          "type": "object"
                        },
                        "minItems": 1,
                        "type": "array"
                      },
                      "type": {
                        "enum": [
                          "kafka"
                        ],
                        "type": "string"
                      },
                      "username": {
                        "anyOf": [
                          {
                            "items": {},
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "nullable": true,
                        "oneOf": [
                          {
                            "type": "string"
                          },
                          {
                            "not": {}
                          }
                        ]
                      },
                      "version": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "name",
                      "type",
                      "hosts",
                      "compression_level",
                      "auth_type",
                      "connection_type",
                      "username",
                      "password"
                    ],
                    "type": "object"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "anyOf": [
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "hosts": {
                              "items": {
                                "format": "uri",
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string"
                            },
                            "preset": {
                              "enum": [
                                "balanced",
                                "custom",
                                "throughput",
                                "scale",
                                "latency"
                              ],
                              "type": "string"
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "type": {
                              "enum": [
                                "elasticsearch"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts"
                          ],
                          "type": "object"
                        },
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "hosts": {
                              "items": {
                                "format": "uri",
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string"
                            },
                            "preset": {
                              "enum": [
                                "balanced",
                                "custom",
                                "throughput",
                                "scale",
                                "latency"
                              ],
                              "type": "string"
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "secrets": {
                              "additionalProperties": true,
                              "properties": {
                                "service_token": {
                                  "anyOf": [
                                    {
                                      "additionalProperties": true,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ]
                                }
                              },
                              "type": "object"
                            },
                            "service_token": {
                              "nullable": true,
                              "type": "string"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "type": {
                              "enum": [
                                "remote_elasticsearch"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts"
                          ],
                          "type": "object"
                        },
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "hosts": {
                              "items": {
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string"
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "secrets": {
                              "additionalProperties": true,
                              "properties": {
                                "ssl": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "key": {
                                      "anyOf": [
                                        {
                                          "additionalProperties": true,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "id"
                                          ],
                                          "type": "object"
                                        },
                                        {
                                          "type": "string"
                                        }
                                      ]
                                    }
                                  },
                                  "type": "object"
                                }
                              },
                              "type": "object"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "type": {
                              "enum": [
                                "logstash"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts"
                          ],
                          "type": "object"
                        },
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "auth_type": {
                              "enum": [
                                "none",
                                "user_pass",
                                "ssl",
                                "kerberos"
                              ],
                              "type": "string"
                            },
                            "broker_timeout": {
                              "type": "number"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "client_id": {
                              "type": "string"
                            },
                            "compression": {
                              "enum": [
                                "gzip",
                                "snappy",
                                "lz4",
                                "none"
                              ],
                              "type": "string"
                            },
                            "compression_level": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "type": "number"
                                },
                                {
                                  "not": {}
                                }
                              ]
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "connection_type": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "enum": [
                                    "plaintext",
                                    "encryption"
                                  ],
                                  "type": "string"
                                },
                                {
                                  "not": {}
                                }
                              ]
                            },
                            "hash": {
                              "additionalProperties": true,
                              "properties": {
                                "hash": {
                                  "type": "string"
                                },
                                "random": {
                                  "type": "boolean"
                                }
                              },
                              "type": "object"
                            },
                            "headers": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "key": {
                                    "type": "string"
                                  },
                                  "value": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "key",
                                  "value"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "hosts": {
                              "items": {
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "key": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "partition": {
                              "enum": [
                                "random",
                                "round_robin",
                                "hash"
                              ],
                              "type": "string"
                            },
                            "password": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "not": {}
                                },
                                {
                                  "anyOf": [
                                    {
                                      "items": {},
                                      "type": "array"
                                    },
                                    {
                                      "type": "boolean"
                                    },
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "type": "object"
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ],
                                  "nullable": true,
                                  "oneOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "not": {}
                                    }
                                  ]
                                }
                              ]
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "random": {
                              "additionalProperties": true,
                              "properties": {
                                "group_events": {
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            },
                            "required_acks": {
                              "enum": [
                                1,
                                0,
                                -1
                              ],
                              "type": "integer"
                            },
                            "round_robin": {
                              "additionalProperties": true,
                              "properties": {
                                "group_events": {
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            },
                            "sasl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "mechanism": {
                                  "enum": [
                                    "PLAIN",
                                    "SCRAM-SHA-256",
                                    "SCRAM-SHA-512"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "secrets": {
                              "additionalProperties": true,
                              "properties": {
                                "password": {
                                  "anyOf": [
                                    {
                                      "additionalProperties": true,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ]
                                },
                                "ssl": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "key": {
                                      "anyOf": [
                                        {
                                          "additionalProperties": true,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "id"
                                          ],
                                          "type": "object"
                                        },
                                        {
                                          "type": "string"
                                        }
                                      ]
                                    }
                                  },
                                  "required": [
                                    "key"
                                  ],
                                  "type": "object"
                                }
                              },
                              "type": "object"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "timeout": {
                              "type": "number"
                            },
                            "topic": {
                              "type": "string"
                            },
                            "topics": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "topic": {
                                    "type": "string"
                                  },
                                  "when": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "condition": {
                                        "type": "string"
                                      },
                                      "type": {
                                        "enum": [
                                          "equals",
                                          "contains",
                                          "regexp"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "topic"
                                ],
                                "type": "object"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "type": {
                              "enum": [
                                "kafka"
                              ],
                              "type": "string"
                            },
                            "username": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "not": {}
                                }
                              ]
                            },
                            "version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts",
                            "compression_level",
                            "auth_type",
                            "connection_type",
                            "username",
                            "password"
                          ],
                          "type": "object"
                        }
                      ]
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet outputs"
        ]
      }
    },
    "/api/fleet/outputs/{outputId}": {
      "delete": {
        "description": "Delete output by ID",
        "operationId": "%2Fapi%2Ffleet%2Foutputs%2F%7BoutputId%7D#2",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "outputId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet outputs"
        ]
      },
      "get": {
        "description": "Get output by ID",
        "operationId": "%2Fapi%2Ffleet%2Foutputs%2F%7BoutputId%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "outputId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "anyOf": [
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "hosts": {
                              "items": {
                                "format": "uri",
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string"
                            },
                            "preset": {
                              "enum": [
                                "balanced",
                                "custom",
                                "throughput",
                                "scale",
                                "latency"
                              ],
                              "type": "string"
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "type": {
                              "enum": [
                                "elasticsearch"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts"
                          ],
                          "type": "object"
                        },
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "hosts": {
                              "items": {
                                "format": "uri",
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string"
                            },
                            "preset": {
                              "enum": [
                                "balanced",
                                "custom",
                                "throughput",
                                "scale",
                                "latency"
                              ],
                              "type": "string"
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "secrets": {
                              "additionalProperties": true,
                              "properties": {
                                "service_token": {
                                  "anyOf": [
                                    {
                                      "additionalProperties": true,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ]
                                }
                              },
                              "type": "object"
                            },
                            "service_token": {
                              "nullable": true,
                              "type": "string"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "type": {
                              "enum": [
                                "remote_elasticsearch"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts"
                          ],
                          "type": "object"
                        },
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "hosts": {
                              "items": {
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string"
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "secrets": {
                              "additionalProperties": true,
                              "properties": {
                                "ssl": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "key": {
                                      "anyOf": [
                                        {
                                          "additionalProperties": true,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "id"
                                          ],
                                          "type": "object"
                                        },
                                        {
                                          "type": "string"
                                        }
                                      ]
                                    }
                                  },
                                  "type": "object"
                                }
                              },
                              "type": "object"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "type": {
                              "enum": [
                                "logstash"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts"
                          ],
                          "type": "object"
                        },
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "auth_type": {
                              "enum": [
                                "none",
                                "user_pass",
                                "ssl",
                                "kerberos"
                              ],
                              "type": "string"
                            },
                            "broker_timeout": {
                              "type": "number"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "client_id": {
                              "type": "string"
                            },
                            "compression": {
                              "enum": [
                                "gzip",
                                "snappy",
                                "lz4",
                                "none"
                              ],
                              "type": "string"
                            },
                            "compression_level": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "type": "number"
                                },
                                {
                                  "not": {}
                                }
                              ]
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "connection_type": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "enum": [
                                    "plaintext",
                                    "encryption"
                                  ],
                                  "type": "string"
                                },
                                {
                                  "not": {}
                                }
                              ]
                            },
                            "hash": {
                              "additionalProperties": true,
                              "properties": {
                                "hash": {
                                  "type": "string"
                                },
                                "random": {
                                  "type": "boolean"
                                }
                              },
                              "type": "object"
                            },
                            "headers": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "key": {
                                    "type": "string"
                                  },
                                  "value": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "key",
                                  "value"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "hosts": {
                              "items": {
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "key": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "partition": {
                              "enum": [
                                "random",
                                "round_robin",
                                "hash"
                              ],
                              "type": "string"
                            },
                            "password": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "not": {}
                                },
                                {
                                  "anyOf": [
                                    {
                                      "items": {},
                                      "type": "array"
                                    },
                                    {
                                      "type": "boolean"
                                    },
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "type": "object"
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ],
                                  "nullable": true,
                                  "oneOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "not": {}
                                    }
                                  ]
                                }
                              ]
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "random": {
                              "additionalProperties": true,
                              "properties": {
                                "group_events": {
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            },
                            "required_acks": {
                              "enum": [
                                1,
                                0,
                                -1
                              ],
                              "type": "integer"
                            },
                            "round_robin": {
                              "additionalProperties": true,
                              "properties": {
                                "group_events": {
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            },
                            "sasl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "mechanism": {
                                  "enum": [
                                    "PLAIN",
                                    "SCRAM-SHA-256",
                                    "SCRAM-SHA-512"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "secrets": {
                              "additionalProperties": true,
                              "properties": {
                                "password": {
                                  "anyOf": [
                                    {
                                      "additionalProperties": true,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ]
                                },
                                "ssl": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "key": {
                                      "anyOf": [
                                        {
                                          "additionalProperties": true,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "id"
                                          ],
                                          "type": "object"
                                        },
                                        {
                                          "type": "string"
                                        }
                                      ]
                                    }
                                  },
                                  "required": [
                                    "key"
                                  ],
                                  "type": "object"
                                }
                              },
                              "type": "object"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "timeout": {
                              "type": "number"
                            },
                            "topic": {
                              "type": "string"
                            },
                            "topics": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "topic": {
                                    "type": "string"
                                  },
                                  "when": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "condition": {
                                        "type": "string"
                                      },
                                      "type": {
                                        "enum": [
                                          "equals",
                                          "contains",
                                          "regexp"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "topic"
                                ],
                                "type": "object"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "type": {
                              "enum": [
                                "kafka"
                              ],
                              "type": "string"
                            },
                            "username": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "not": {}
                                }
                              ]
                            },
                            "version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts",
                            "compression_level",
                            "auth_type",
                            "connection_type",
                            "username",
                            "password"
                          ],
                          "type": "object"
                        }
                      ]
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet outputs"
        ]
      },
      "put": {
        "description": "Update output by ID",
        "operationId": "%2Fapi%2Ffleet%2Foutputs%2F%7BoutputId%7D#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "outputId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "allow_edit": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "ca_sha256": {
                        "nullable": true,
                        "type": "string"
                      },
                      "ca_trusted_fingerprint": {
                        "nullable": true,
                        "type": "string"
                      },
                      "config_yaml": {
                        "nullable": true,
                        "type": "string"
                      },
                      "hosts": {
                        "items": {
                          "format": "uri",
                          "type": "string"
                        },
                        "minItems": 1,
                        "type": "array"
                      },
                      "id": {
                        "type": "string"
                      },
                      "is_default": {
                        "type": "boolean"
                      },
                      "is_default_monitoring": {
                        "type": "boolean"
                      },
                      "is_internal": {
                        "type": "boolean"
                      },
                      "is_preconfigured": {
                        "type": "boolean"
                      },
                      "name": {
                        "type": "string"
                      },
                      "preset": {
                        "enum": [
                          "balanced",
                          "custom",
                          "throughput",
                          "scale",
                          "latency"
                        ],
                        "type": "string"
                      },
                      "proxy_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "shipper": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "compression_level": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_compression_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_enabled": {
                            "default": false,
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_encryption_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_max_size": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_path": {
                            "nullable": true,
                            "type": "string"
                          },
                          "loadbalance": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "max_batch_bytes": {
                            "nullable": true,
                            "type": "number"
                          },
                          "mem_queue_events": {
                            "nullable": true,
                            "type": "number"
                          },
                          "queue_flush_timeout": {
                            "nullable": true,
                            "type": "number"
                          }
                        },
                        "required": [
                          "disk_queue_path",
                          "disk_queue_max_size",
                          "disk_queue_encryption_enabled",
                          "disk_queue_compression_enabled",
                          "compression_level",
                          "loadbalance",
                          "mem_queue_events",
                          "queue_flush_timeout",
                          "max_batch_bytes"
                        ],
                        "type": "object"
                      },
                      "ssl": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "certificate": {
                            "type": "string"
                          },
                          "certificate_authorities": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "key": {
                            "type": "string"
                          },
                          "verification_mode": {
                            "enum": [
                              "full",
                              "none",
                              "certificate",
                              "strict"
                            ],
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "type": {
                        "enum": [
                          "elasticsearch"
                        ],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "allow_edit": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "ca_sha256": {
                        "nullable": true,
                        "type": "string"
                      },
                      "ca_trusted_fingerprint": {
                        "nullable": true,
                        "type": "string"
                      },
                      "config_yaml": {
                        "nullable": true,
                        "type": "string"
                      },
                      "hosts": {
                        "items": {
                          "format": "uri",
                          "type": "string"
                        },
                        "minItems": 1,
                        "type": "array"
                      },
                      "id": {
                        "type": "string"
                      },
                      "is_default": {
                        "type": "boolean"
                      },
                      "is_default_monitoring": {
                        "type": "boolean"
                      },
                      "is_internal": {
                        "type": "boolean"
                      },
                      "is_preconfigured": {
                        "type": "boolean"
                      },
                      "name": {
                        "type": "string"
                      },
                      "preset": {
                        "enum": [
                          "balanced",
                          "custom",
                          "throughput",
                          "scale",
                          "latency"
                        ],
                        "type": "string"
                      },
                      "proxy_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "secrets": {
                        "additionalProperties": false,
                        "properties": {
                          "service_token": {
                            "anyOf": [
                              {
                                "additionalProperties": false,
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id"
                                ],
                                "type": "object"
                              },
                              {
                                "type": "string"
                              }
                            ]
                          }
                        },
                        "type": "object"
                      },
                      "service_token": {
                        "nullable": true,
                        "type": "string"
                      },
                      "shipper": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "compression_level": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_compression_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_enabled": {
                            "default": false,
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_encryption_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_max_size": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_path": {
                            "nullable": true,
                            "type": "string"
                          },
                          "loadbalance": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "max_batch_bytes": {
                            "nullable": true,
                            "type": "number"
                          },
                          "mem_queue_events": {
                            "nullable": true,
                            "type": "number"
                          },
                          "queue_flush_timeout": {
                            "nullable": true,
                            "type": "number"
                          }
                        },
                        "required": [
                          "disk_queue_path",
                          "disk_queue_max_size",
                          "disk_queue_encryption_enabled",
                          "disk_queue_compression_enabled",
                          "compression_level",
                          "loadbalance",
                          "mem_queue_events",
                          "queue_flush_timeout",
                          "max_batch_bytes"
                        ],
                        "type": "object"
                      },
                      "ssl": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "certificate": {
                            "type": "string"
                          },
                          "certificate_authorities": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "key": {
                            "type": "string"
                          },
                          "verification_mode": {
                            "enum": [
                              "full",
                              "none",
                              "certificate",
                              "strict"
                            ],
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "type": {
                        "enum": [
                          "remote_elasticsearch"
                        ],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "allow_edit": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "ca_sha256": {
                        "nullable": true,
                        "type": "string"
                      },
                      "ca_trusted_fingerprint": {
                        "nullable": true,
                        "type": "string"
                      },
                      "config_yaml": {
                        "nullable": true,
                        "type": "string"
                      },
                      "hosts": {
                        "items": {
                          "type": "string"
                        },
                        "minItems": 1,
                        "type": "array"
                      },
                      "id": {
                        "type": "string"
                      },
                      "is_default": {
                        "type": "boolean"
                      },
                      "is_default_monitoring": {
                        "type": "boolean"
                      },
                      "is_internal": {
                        "type": "boolean"
                      },
                      "is_preconfigured": {
                        "type": "boolean"
                      },
                      "name": {
                        "type": "string"
                      },
                      "proxy_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "secrets": {
                        "additionalProperties": false,
                        "properties": {
                          "ssl": {
                            "additionalProperties": false,
                            "properties": {
                              "key": {
                                "anyOf": [
                                  {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id"
                                    ],
                                    "type": "object"
                                  },
                                  {
                                    "type": "string"
                                  }
                                ]
                              }
                            },
                            "type": "object"
                          }
                        },
                        "type": "object"
                      },
                      "shipper": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "compression_level": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_compression_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_enabled": {
                            "default": false,
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_encryption_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_max_size": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_path": {
                            "nullable": true,
                            "type": "string"
                          },
                          "loadbalance": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "max_batch_bytes": {
                            "nullable": true,
                            "type": "number"
                          },
                          "mem_queue_events": {
                            "nullable": true,
                            "type": "number"
                          },
                          "queue_flush_timeout": {
                            "nullable": true,
                            "type": "number"
                          }
                        },
                        "required": [
                          "disk_queue_path",
                          "disk_queue_max_size",
                          "disk_queue_encryption_enabled",
                          "disk_queue_compression_enabled",
                          "compression_level",
                          "loadbalance",
                          "mem_queue_events",
                          "queue_flush_timeout",
                          "max_batch_bytes"
                        ],
                        "type": "object"
                      },
                      "ssl": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "certificate": {
                            "type": "string"
                          },
                          "certificate_authorities": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "key": {
                            "type": "string"
                          },
                          "verification_mode": {
                            "enum": [
                              "full",
                              "none",
                              "certificate",
                              "strict"
                            ],
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "type": {
                        "enum": [
                          "logstash"
                        ],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "allow_edit": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "auth_type": {
                        "enum": [
                          "none",
                          "user_pass",
                          "ssl",
                          "kerberos"
                        ],
                        "type": "string"
                      },
                      "broker_timeout": {
                        "type": "number"
                      },
                      "ca_sha256": {
                        "nullable": true,
                        "type": "string"
                      },
                      "ca_trusted_fingerprint": {
                        "nullable": true,
                        "type": "string"
                      },
                      "client_id": {
                        "type": "string"
                      },
                      "compression": {
                        "enum": [
                          "gzip",
                          "snappy",
                          "lz4",
                          "none"
                        ],
                        "type": "string"
                      },
                      "compression_level": {
                        "anyOf": [
                          {
                            "items": {},
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "nullable": true,
                        "oneOf": [
                          {
                            "type": "number"
                          },
                          {
                            "not": {}
                          }
                        ]
                      },
                      "config_yaml": {
                        "nullable": true,
                        "type": "string"
                      },
                      "connection_type": {
                        "anyOf": [
                          {
                            "items": {},
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "nullable": true,
                        "oneOf": [
                          {
                            "enum": [
                              "plaintext",
                              "encryption"
                            ],
                            "type": "string"
                          },
                          {
                            "not": {}
                          }
                        ]
                      },
                      "hash": {
                        "additionalProperties": false,
                        "properties": {
                          "hash": {
                            "type": "string"
                          },
                          "random": {
                            "type": "boolean"
                          }
                        },
                        "type": "object"
                      },
                      "headers": {
                        "items": {
                          "additionalProperties": false,
                          "properties": {
                            "key": {
                              "type": "string"
                            },
                            "value": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "key",
                            "value"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "hosts": {
                        "items": {
                          "type": "string"
                        },
                        "minItems": 1,
                        "type": "array"
                      },
                      "id": {
                        "type": "string"
                      },
                      "is_default": {
                        "default": false,
                        "type": "boolean"
                      },
                      "is_default_monitoring": {
                        "default": false,
                        "type": "boolean"
                      },
                      "is_internal": {
                        "type": "boolean"
                      },
                      "is_preconfigured": {
                        "type": "boolean"
                      },
                      "key": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "partition": {
                        "enum": [
                          "random",
                          "round_robin",
                          "hash"
                        ],
                        "type": "string"
                      },
                      "password": {
                        "anyOf": [
                          {
                            "items": {},
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "nullable": true,
                        "oneOf": [
                          {
                            "not": {}
                          },
                          {
                            "anyOf": [
                              {
                                "items": {},
                                "type": "array"
                              },
                              {
                                "type": "boolean"
                              },
                              {
                                "type": "number"
                              },
                              {
                                "type": "object"
                              },
                              {
                                "type": "string"
                              }
                            ],
                            "nullable": true,
                            "oneOf": [
                              {
                                "type": "string"
                              },
                              {
                                "not": {}
                              }
                            ]
                          }
                        ]
                      },
                      "proxy_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "random": {
                        "additionalProperties": false,
                        "properties": {
                          "group_events": {
                            "type": "number"
                          }
                        },
                        "type": "object"
                      },
                      "required_acks": {
                        "enum": [
                          1,
                          0,
                          -1
                        ],
                        "type": "integer"
                      },
                      "round_robin": {
                        "additionalProperties": false,
                        "properties": {
                          "group_events": {
                            "type": "number"
                          }
                        },
                        "type": "object"
                      },
                      "sasl": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "mechanism": {
                            "enum": [
                              "PLAIN",
                              "SCRAM-SHA-256",
                              "SCRAM-SHA-512"
                            ],
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "secrets": {
                        "additionalProperties": false,
                        "properties": {
                          "password": {
                            "anyOf": [
                              {
                                "additionalProperties": false,
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id"
                                ],
                                "type": "object"
                              },
                              {
                                "type": "string"
                              }
                            ]
                          },
                          "ssl": {
                            "additionalProperties": false,
                            "properties": {
                              "key": {
                                "anyOf": [
                                  {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id"
                                    ],
                                    "type": "object"
                                  },
                                  {
                                    "type": "string"
                                  }
                                ]
                              }
                            },
                            "required": [
                              "key"
                            ],
                            "type": "object"
                          }
                        },
                        "type": "object"
                      },
                      "shipper": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "compression_level": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_compression_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_enabled": {
                            "default": false,
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_encryption_enabled": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "disk_queue_max_size": {
                            "nullable": true,
                            "type": "number"
                          },
                          "disk_queue_path": {
                            "nullable": true,
                            "type": "string"
                          },
                          "loadbalance": {
                            "nullable": true,
                            "type": "boolean"
                          },
                          "max_batch_bytes": {
                            "nullable": true,
                            "type": "number"
                          },
                          "mem_queue_events": {
                            "nullable": true,
                            "type": "number"
                          },
                          "queue_flush_timeout": {
                            "nullable": true,
                            "type": "number"
                          }
                        },
                        "required": [
                          "disk_queue_path",
                          "disk_queue_max_size",
                          "disk_queue_encryption_enabled",
                          "disk_queue_compression_enabled",
                          "compression_level",
                          "loadbalance",
                          "mem_queue_events",
                          "queue_flush_timeout",
                          "max_batch_bytes"
                        ],
                        "type": "object"
                      },
                      "ssl": {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": {
                          "certificate": {
                            "type": "string"
                          },
                          "certificate_authorities": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "key": {
                            "type": "string"
                          },
                          "verification_mode": {
                            "enum": [
                              "full",
                              "none",
                              "certificate",
                              "strict"
                            ],
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "timeout": {
                        "type": "number"
                      },
                      "topic": {
                        "type": "string"
                      },
                      "topics": {
                        "items": {
                          "additionalProperties": false,
                          "properties": {
                            "topic": {
                              "type": "string"
                            },
                            "when": {
                              "additionalProperties": false,
                              "properties": {
                                "condition": {
                                  "type": "string"
                                },
                                "type": {
                                  "enum": [
                                    "equals",
                                    "contains",
                                    "regexp"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "required": [
                            "topic"
                          ],
                          "type": "object"
                        },
                        "minItems": 1,
                        "type": "array"
                      },
                      "type": {
                        "enum": [
                          "kafka"
                        ],
                        "type": "string"
                      },
                      "username": {
                        "anyOf": [
                          {
                            "items": {},
                            "type": "array"
                          },
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "object"
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "nullable": true,
                        "oneOf": [
                          {
                            "type": "string"
                          },
                          {
                            "not": {}
                          }
                        ]
                      },
                      "version": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "name",
                      "compression_level",
                      "connection_type",
                      "username",
                      "password"
                    ],
                    "type": "object"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "anyOf": [
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "hosts": {
                              "items": {
                                "format": "uri",
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string"
                            },
                            "preset": {
                              "enum": [
                                "balanced",
                                "custom",
                                "throughput",
                                "scale",
                                "latency"
                              ],
                              "type": "string"
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "type": {
                              "enum": [
                                "elasticsearch"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts"
                          ],
                          "type": "object"
                        },
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "hosts": {
                              "items": {
                                "format": "uri",
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string"
                            },
                            "preset": {
                              "enum": [
                                "balanced",
                                "custom",
                                "throughput",
                                "scale",
                                "latency"
                              ],
                              "type": "string"
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "secrets": {
                              "additionalProperties": true,
                              "properties": {
                                "service_token": {
                                  "anyOf": [
                                    {
                                      "additionalProperties": true,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ]
                                }
                              },
                              "type": "object"
                            },
                            "service_token": {
                              "nullable": true,
                              "type": "string"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "type": {
                              "enum": [
                                "remote_elasticsearch"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts"
                          ],
                          "type": "object"
                        },
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "hosts": {
                              "items": {
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string"
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "secrets": {
                              "additionalProperties": true,
                              "properties": {
                                "ssl": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "key": {
                                      "anyOf": [
                                        {
                                          "additionalProperties": true,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "id"
                                          ],
                                          "type": "object"
                                        },
                                        {
                                          "type": "string"
                                        }
                                      ]
                                    }
                                  },
                                  "type": "object"
                                }
                              },
                              "type": "object"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "type": {
                              "enum": [
                                "logstash"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts"
                          ],
                          "type": "object"
                        },
                        {
                          "additionalProperties": true,
                          "properties": {
                            "allow_edit": {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "auth_type": {
                              "enum": [
                                "none",
                                "user_pass",
                                "ssl",
                                "kerberos"
                              ],
                              "type": "string"
                            },
                            "broker_timeout": {
                              "type": "number"
                            },
                            "ca_sha256": {
                              "nullable": true,
                              "type": "string"
                            },
                            "ca_trusted_fingerprint": {
                              "nullable": true,
                              "type": "string"
                            },
                            "client_id": {
                              "type": "string"
                            },
                            "compression": {
                              "enum": [
                                "gzip",
                                "snappy",
                                "lz4",
                                "none"
                              ],
                              "type": "string"
                            },
                            "compression_level": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "type": "number"
                                },
                                {
                                  "not": {}
                                }
                              ]
                            },
                            "config_yaml": {
                              "nullable": true,
                              "type": "string"
                            },
                            "connection_type": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "enum": [
                                    "plaintext",
                                    "encryption"
                                  ],
                                  "type": "string"
                                },
                                {
                                  "not": {}
                                }
                              ]
                            },
                            "hash": {
                              "additionalProperties": true,
                              "properties": {
                                "hash": {
                                  "type": "string"
                                },
                                "random": {
                                  "type": "boolean"
                                }
                              },
                              "type": "object"
                            },
                            "headers": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "key": {
                                    "type": "string"
                                  },
                                  "value": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "key",
                                  "value"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "hosts": {
                              "items": {
                                "type": "string"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "id": {
                              "type": "string"
                            },
                            "is_default": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_default_monitoring": {
                              "default": false,
                              "type": "boolean"
                            },
                            "is_internal": {
                              "type": "boolean"
                            },
                            "is_preconfigured": {
                              "type": "boolean"
                            },
                            "key": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "partition": {
                              "enum": [
                                "random",
                                "round_robin",
                                "hash"
                              ],
                              "type": "string"
                            },
                            "password": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "not": {}
                                },
                                {
                                  "anyOf": [
                                    {
                                      "items": {},
                                      "type": "array"
                                    },
                                    {
                                      "type": "boolean"
                                    },
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "type": "object"
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ],
                                  "nullable": true,
                                  "oneOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "not": {}
                                    }
                                  ]
                                }
                              ]
                            },
                            "proxy_id": {
                              "nullable": true,
                              "type": "string"
                            },
                            "random": {
                              "additionalProperties": true,
                              "properties": {
                                "group_events": {
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            },
                            "required_acks": {
                              "enum": [
                                1,
                                0,
                                -1
                              ],
                              "type": "integer"
                            },
                            "round_robin": {
                              "additionalProperties": true,
                              "properties": {
                                "group_events": {
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            },
                            "sasl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "mechanism": {
                                  "enum": [
                                    "PLAIN",
                                    "SCRAM-SHA-256",
                                    "SCRAM-SHA-512"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "secrets": {
                              "additionalProperties": true,
                              "properties": {
                                "password": {
                                  "anyOf": [
                                    {
                                      "additionalProperties": true,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id"
                                      ],
                                      "type": "object"
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ]
                                },
                                "ssl": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "key": {
                                      "anyOf": [
                                        {
                                          "additionalProperties": true,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "id"
                                          ],
                                          "type": "object"
                                        },
                                        {
                                          "type": "string"
                                        }
                                      ]
                                    }
                                  },
                                  "required": [
                                    "key"
                                  ],
                                  "type": "object"
                                }
                              },
                              "type": "object"
                            },
                            "shipper": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "compression_level": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_compression_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_enabled": {
                                  "default": false,
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_encryption_enabled": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "disk_queue_max_size": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "disk_queue_path": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "loadbalance": {
                                  "nullable": true,
                                  "type": "boolean"
                                },
                                "max_batch_bytes": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "mem_queue_events": {
                                  "nullable": true,
                                  "type": "number"
                                },
                                "queue_flush_timeout": {
                                  "nullable": true,
                                  "type": "number"
                                }
                              },
                              "required": [
                                "disk_queue_path",
                                "disk_queue_max_size",
                                "disk_queue_encryption_enabled",
                                "disk_queue_compression_enabled",
                                "compression_level",
                                "loadbalance",
                                "mem_queue_events",
                                "queue_flush_timeout",
                                "max_batch_bytes"
                              ],
                              "type": "object"
                            },
                            "ssl": {
                              "additionalProperties": true,
                              "nullable": true,
                              "properties": {
                                "certificate": {
                                  "type": "string"
                                },
                                "certificate_authorities": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "verification_mode": {
                                  "enum": [
                                    "full",
                                    "none",
                                    "certificate",
                                    "strict"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "timeout": {
                              "type": "number"
                            },
                            "topic": {
                              "type": "string"
                            },
                            "topics": {
                              "items": {
                                "additionalProperties": true,
                                "properties": {
                                  "topic": {
                                    "type": "string"
                                  },
                                  "when": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "condition": {
                                        "type": "string"
                                      },
                                      "type": {
                                        "enum": [
                                          "equals",
                                          "contains",
                                          "regexp"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "topic"
                                ],
                                "type": "object"
                              },
                              "minItems": 1,
                              "type": "array"
                            },
                            "type": {
                              "enum": [
                                "kafka"
                              ],
                              "type": "string"
                            },
                            "username": {
                              "anyOf": [
                                {
                                  "items": {},
                                  "type": "array"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "object"
                                },
                                {
                                  "type": "string"
                                }
                              ],
                              "nullable": true,
                              "oneOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "not": {}
                                }
                              ]
                            },
                            "version": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "type",
                            "hosts",
                            "compression_level",
                            "auth_type",
                            "connection_type",
                            "username",
                            "password"
                          ],
                          "type": "object"
                        }
                      ]
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet outputs"
        ]
      }
    },
    "/api/fleet/outputs/{outputId}/health": {
      "get": {
        "description": "Get latest output health",
        "operationId": "%2Fapi%2Ffleet%2Foutputs%2F%7BoutputId%7D%2Fhealth#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "outputId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "message": {
                      "description": "long message if unhealthy",
                      "type": "string"
                    },
                    "state": {
                      "description": "state of output, HEALTHY or DEGRADED",
                      "type": "string"
                    },
                    "timestamp": {
                      "description": "timestamp of reported state",
                      "type": "string"
                    }
                  },
                  "required": [
                    "state",
                    "message",
                    "timestamp"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet outputs"
        ]
      }
    },
    "/api/fleet/package_policies": {
      "get": {
        "description": "List package policies",
        "operationId": "%2Fapi%2Ffleet%2Fpackage_policies#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "perPage",
            "required": false,
            "schema": {
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "sortField",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "sortOrder",
            "required": false,
            "schema": {
              "enum": [
                "desc",
                "asc"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "showUpgradeable",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "kuery",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "enum": [
                "simplified",
                "legacy"
              ],
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "withAgentCount",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "agents": {
                            "type": "number"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "created_by": {
                            "type": "string"
                          },
                          "description": {
                            "description": "Package policy description",
                            "type": "string"
                          },
                          "elasticsearch": {
                            "additionalProperties": true,
                            "properties": {
                              "privileges": {
                                "additionalProperties": true,
                                "properties": {
                                  "cluster": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  }
                                },
                                "type": "object"
                              }
                            },
                            "type": "object"
                          },
                          "enabled": {
                            "type": "boolean"
                          },
                          "id": {
                            "type": "string"
                          },
                          "inputs": {
                            "anyOf": [
                              {
                                "items": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "compiled_input": {},
                                    "config": {
                                      "additionalProperties": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "frozen": {
                                            "type": "boolean"
                                          },
                                          "type": {
                                            "type": "string"
                                          },
                                          "value": {}
                                        },
                                        "required": [
                                          "value"
                                        ],
                                        "type": "object"
                                      },
                                      "description": "Package variable (see integration documentation for more information)",
                                      "type": "object"
                                    },
                                    "enabled": {
                                      "type": "boolean"
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "keep_enabled": {
                                      "type": "boolean"
                                    },
                                    "policy_template": {
                                      "type": "string"
                                    },
                                    "streams": {
                                      "items": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "compiled_stream": {},
                                          "config": {
                                            "additionalProperties": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "frozen": {
                                                  "type": "boolean"
                                                },
                                                "type": {
                                                  "type": "string"
                                                },
                                                "value": {}
                                              },
                                              "required": [
                                                "value"
                                              ],
                                              "type": "object"
                                            },
                                            "description": "Package variable (see integration documentation for more information)",
                                            "type": "object"
                                          },
                                          "data_stream": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "dataset": {
                                                "type": "string"
                                              },
                                              "elasticsearch": {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "dynamic_dataset": {
                                                    "type": "boolean"
                                                  },
                                                  "dynamic_namespace": {
                                                    "type": "boolean"
                                                  },
                                                  "privileges": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "indices": {
                                                        "items": {
                                                          "type": "string"
                                                        },
                                                        "type": "array"
                                                      }
                                                    },
                                                    "type": "object"
                                                  }
                                                },
                                                "type": "object"
                                              },
                                              "type": {
                                                "type": "string"
                                              }
                                            },
                                            "required": [
                                              "dataset",
                                              "type"
                                            ],
                                            "type": "object"
                                          },
                                          "enabled": {
                                            "type": "boolean"
                                          },
                                          "id": {
                                            "type": "string"
                                          },
                                          "keep_enabled": {
                                            "type": "boolean"
                                          },
                                          "release": {
                                            "enum": [
                                              "ga",
                                              "beta",
                                              "experimental"
                                            ],
                                            "type": "string"
                                          },
                                          "vars": {
                                            "additionalProperties": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "frozen": {
                                                  "type": "boolean"
                                                },
                                                "type": {
                                                  "type": "string"
                                                },
                                                "value": {}
                                              },
                                              "required": [
                                                "value"
                                              ],
                                              "type": "object"
                                            },
                                            "description": "Package variable (see integration documentation for more information)",
                                            "type": "object"
                                          }
                                        },
                                        "required": [
                                          "enabled",
                                          "data_stream",
                                          "compiled_stream"
                                        ],
                                        "type": "object"
                                      },
                                      "type": "array"
                                    },
                                    "type": {
                                      "type": "string"
                                    },
                                    "vars": {
                                      "additionalProperties": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "frozen": {
                                            "type": "boolean"
                                          },
                                          "type": {
                                            "type": "string"
                                          },
                                          "value": {}
                                        },
                                        "required": [
                                          "value"
                                        ],
                                        "type": "object"
                                      },
                                      "description": "Package variable (see integration documentation for more information)",
                                      "type": "object"
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "enabled",
                                    "streams",
                                    "compiled_input"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              {
                                "additionalProperties": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "enabled": {
                                      "description": "enable or disable that input, (default to true)",
                                      "type": "boolean"
                                    },
                                    "streams": {
                                      "additionalProperties": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "enabled": {
                                            "description": "enable or disable that stream, (default to true)",
                                            "type": "boolean"
                                          },
                                          "vars": {
                                            "additionalProperties": {
                                              "anyOf": [
                                                {
                                                  "type": "boolean"
                                                },
                                                {
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "number"
                                                },
                                                {
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "type": "array"
                                                },
                                                {
                                                  "items": {
                                                    "type": "number"
                                                  },
                                                  "type": "array"
                                                },
                                                {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "id": {
                                                      "type": "string"
                                                    },
                                                    "isSecretRef": {
                                                      "type": "boolean"
                                                    }
                                                  },
                                                  "required": [
                                                    "id",
                                                    "isSecretRef"
                                                  ],
                                                  "type": "object"
                                                }
                                              ],
                                              "nullable": true
                                            },
                                            "description": "Input/stream level variable (see integration documentation for more information)",
                                            "type": "object"
                                          }
                                        },
                                        "type": "object"
                                      },
                                      "description": "Input streams (see integration documentation to know what streams are available)",
                                      "type": "object"
                                    },
                                    "vars": {
                                      "additionalProperties": {
                                        "anyOf": [
                                          {
                                            "type": "boolean"
                                          },
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "number"
                                          },
                                          {
                                            "items": {
                                              "type": "string"
                                            },
                                            "type": "array"
                                          },
                                          {
                                            "items": {
                                              "type": "number"
                                            },
                                            "type": "array"
                                          },
                                          {
                                            "additionalProperties": false,
                                            "properties": {
                                              "id": {
                                                "type": "string"
                                              },
                                              "isSecretRef": {
                                                "type": "boolean"
                                              }
                                            },
                                            "required": [
                                              "id",
                                              "isSecretRef"
                                            ],
                                            "type": "object"
                                          }
                                        ],
                                        "nullable": true
                                      },
                                      "description": "Input/stream level variable (see integration documentation for more information)",
                                      "type": "object"
                                    }
                                  },
                                  "type": "object"
                                },
                                "description": "Package policy inputs (see integration documentation to know what inputs are available)",
                                "type": "object",
                                "x-oas-optional": true
                              }
                            ]
                          },
                          "is_managed": {
                            "type": "boolean"
                          },
                          "name": {
                            "description": "Package policy name (should be unique)",
                            "type": "string"
                          },
                          "namespace": {
                            "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                            "type": "string"
                          },
                          "output_id": {
                            "nullable": true,
                            "type": "string"
                          },
                          "overrides": {
                            "additionalProperties": false,
                            "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                            "nullable": true,
                            "properties": {
                              "inputs": {
                                "additionalProperties": {},
                                "type": "object"
                              }
                            },
                            "type": "object"
                          },
                          "package": {
                            "additionalProperties": false,
                            "properties": {
                              "experimental_data_stream_features": {
                                "items": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "data_stream": {
                                      "type": "string"
                                    },
                                    "features": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "doc_value_only_numeric": {
                                          "type": "boolean"
                                        },
                                        "doc_value_only_other": {
                                          "type": "boolean"
                                        },
                                        "synthetic_source": {
                                          "type": "boolean"
                                        },
                                        "tsdb": {
                                          "type": "boolean"
                                        }
                                      },
                                      "type": "object"
                                    }
                                  },
                                  "required": [
                                    "data_stream",
                                    "features"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "name": {
                                "description": "Package name",
                                "type": "string"
                              },
                              "requires_root": {
                                "type": "boolean"
                              },
                              "title": {
                                "type": "string"
                              },
                              "version": {
                                "description": "Package version",
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "version"
                            ],
                            "type": "object"
                          },
                          "policy_id": {
                            "deprecated": true,
                            "description": "Agent policy ID where that package policy will be added",
                            "nullable": true,
                            "type": "string"
                          },
                          "policy_ids": {
                            "items": {
                              "description": "Agent policy IDs where that package policy will be added",
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "revision": {
                            "type": "number"
                          },
                          "secret_references": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "id": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "id"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "spaceIds": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "updated_at": {
                            "type": "string"
                          },
                          "updated_by": {
                            "type": "string"
                          },
                          "vars": {
                            "anyOf": [
                              {
                                "additionalProperties": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "frozen": {
                                      "type": "boolean"
                                    },
                                    "type": {
                                      "type": "string"
                                    },
                                    "value": {}
                                  },
                                  "required": [
                                    "value"
                                  ],
                                  "type": "object"
                                },
                                "description": "Package variable (see integration documentation for more information)",
                                "type": "object"
                              },
                              {
                                "additionalProperties": {
                                  "anyOf": [
                                    {
                                      "type": "boolean"
                                    },
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "items": {
                                        "type": "string"
                                      },
                                      "type": "array"
                                    },
                                    {
                                      "items": {
                                        "type": "number"
                                      },
                                      "type": "array"
                                    },
                                    {
                                      "additionalProperties": false,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        },
                                        "isSecretRef": {
                                          "type": "boolean"
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "isSecretRef"
                                      ],
                                      "type": "object"
                                    }
                                  ],
                                  "nullable": true
                                },
                                "description": "Input/stream level variable (see integration documentation for more information)",
                                "type": "object",
                                "x-oas-optional": true
                              }
                            ]
                          },
                          "version": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "enabled",
                          "inputs",
                          "id",
                          "revision",
                          "updated_at",
                          "updated_by",
                          "created_at",
                          "created_by"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total",
                    "page",
                    "perPage"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet package policies"
        ]
      },
      "post": {
        "description": "Create package policy",
        "operationId": "%2Fapi%2Ffleet%2Fpackage_policies#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "enum": [
                "simplified",
                "legacy"
              ],
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "description": {
                        "description": "Package policy description",
                        "type": "string"
                      },
                      "enabled": {
                        "type": "boolean"
                      },
                      "force": {
                        "description": "Force package policy creation even if package is not verified, or if the agent policy is managed.",
                        "type": "boolean"
                      },
                      "id": {
                        "description": "Package policy unique identifier",
                        "type": "string"
                      },
                      "inputs": {
                        "items": {
                          "additionalProperties": false,
                          "properties": {
                            "config": {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "frozen": {
                                    "type": "boolean"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "value": {}
                                },
                                "required": [
                                  "value"
                                ],
                                "type": "object"
                              },
                              "description": "Package variable (see integration documentation for more information)",
                              "type": "object"
                            },
                            "enabled": {
                              "type": "boolean"
                            },
                            "id": {
                              "type": "string"
                            },
                            "keep_enabled": {
                              "type": "boolean"
                            },
                            "policy_template": {
                              "type": "string"
                            },
                            "streams": {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "compiled_stream": {},
                                  "config": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  },
                                  "data_stream": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "dataset": {
                                        "type": "string"
                                      },
                                      "elasticsearch": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "dynamic_dataset": {
                                            "type": "boolean"
                                          },
                                          "dynamic_namespace": {
                                            "type": "boolean"
                                          },
                                          "privileges": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "indices": {
                                                "items": {
                                                  "type": "string"
                                                },
                                                "type": "array"
                                              }
                                            },
                                            "type": "object"
                                          }
                                        },
                                        "type": "object"
                                      },
                                      "type": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "dataset",
                                      "type"
                                    ],
                                    "type": "object"
                                  },
                                  "enabled": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "keep_enabled": {
                                    "type": "boolean"
                                  },
                                  "release": {
                                    "enum": [
                                      "ga",
                                      "beta",
                                      "experimental"
                                    ],
                                    "type": "string"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "enabled",
                                  "data_stream",
                                  "compiled_stream"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "type": {
                              "type": "string"
                            },
                            "vars": {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "frozen": {
                                    "type": "boolean"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "value": {}
                                },
                                "required": [
                                  "value"
                                ],
                                "type": "object"
                              },
                              "description": "Package variable (see integration documentation for more information)",
                              "type": "object"
                            }
                          },
                          "required": [
                            "type",
                            "enabled"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "is_managed": {
                        "type": "boolean"
                      },
                      "name": {
                        "description": "Package policy name (should be unique)",
                        "type": "string"
                      },
                      "namespace": {
                        "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                        "type": "string"
                      },
                      "output_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "overrides": {
                        "additionalProperties": false,
                        "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                        "nullable": true,
                        "properties": {
                          "inputs": {
                            "additionalProperties": {},
                            "type": "object"
                          }
                        },
                        "type": "object"
                      },
                      "package": {
                        "additionalProperties": false,
                        "properties": {
                          "experimental_data_stream_features": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "data_stream": {
                                  "type": "string"
                                },
                                "features": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "doc_value_only_numeric": {
                                      "type": "boolean"
                                    },
                                    "doc_value_only_other": {
                                      "type": "boolean"
                                    },
                                    "synthetic_source": {
                                      "type": "boolean"
                                    },
                                    "tsdb": {
                                      "type": "boolean"
                                    }
                                  },
                                  "type": "object"
                                }
                              },
                              "required": [
                                "data_stream",
                                "features"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "name": {
                            "description": "Package name",
                            "type": "string"
                          },
                          "requires_root": {
                            "type": "boolean"
                          },
                          "title": {
                            "type": "string"
                          },
                          "version": {
                            "description": "Package version",
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "version"
                        ],
                        "type": "object"
                      },
                      "policy_id": {
                        "deprecated": true,
                        "description": "Agent policy ID where that package policy will be added",
                        "nullable": true,
                        "type": "string"
                      },
                      "policy_ids": {
                        "items": {
                          "description": "Agent policy IDs where that package policy will be added",
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "vars": {
                        "additionalProperties": {
                          "additionalProperties": false,
                          "properties": {
                            "frozen": {
                              "type": "boolean"
                            },
                            "type": {
                              "type": "string"
                            },
                            "value": {}
                          },
                          "required": [
                            "value"
                          ],
                          "type": "object"
                        },
                        "description": "Package variable (see integration documentation for more information)",
                        "type": "object"
                      }
                    },
                    "required": [
                      "name",
                      "inputs"
                    ],
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "description": {
                        "type": "string"
                      },
                      "force": {
                        "type": "boolean"
                      },
                      "id": {
                        "type": "string"
                      },
                      "inputs": {
                        "additionalProperties": {
                          "additionalProperties": false,
                          "properties": {
                            "enabled": {
                              "description": "enable or disable that input, (default to true)",
                              "type": "boolean"
                            },
                            "streams": {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "enabled": {
                                    "description": "enable or disable that stream, (default to true)",
                                    "type": "boolean"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "anyOf": [
                                        {
                                          "type": "boolean"
                                        },
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "number"
                                        },
                                        {
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        },
                                        {
                                          "items": {
                                            "type": "number"
                                          },
                                          "type": "array"
                                        },
                                        {
                                          "additionalProperties": false,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "isSecretRef": {
                                              "type": "boolean"
                                            }
                                          },
                                          "required": [
                                            "id",
                                            "isSecretRef"
                                          ],
                                          "type": "object"
                                        }
                                      ],
                                      "nullable": true
                                    },
                                    "description": "Input/stream level variable (see integration documentation for more information)",
                                    "type": "object"
                                  }
                                },
                                "type": "object"
                              },
                              "description": "Input streams (see integration documentation to know what streams are available)",
                              "type": "object"
                            },
                            "vars": {
                              "additionalProperties": {
                                "anyOf": [
                                  {
                                    "type": "boolean"
                                  },
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  {
                                    "items": {
                                      "type": "number"
                                    },
                                    "type": "array"
                                  },
                                  {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "isSecretRef": {
                                        "type": "boolean"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "isSecretRef"
                                    ],
                                    "type": "object"
                                  }
                                ],
                                "nullable": true
                              },
                              "description": "Input/stream level variable (see integration documentation for more information)",
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "description": "Package policy inputs (see integration documentation to know what inputs are available)",
                        "type": "object"
                      },
                      "name": {
                        "type": "string"
                      },
                      "namespace": {
                        "type": "string"
                      },
                      "output_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "package": {
                        "additionalProperties": false,
                        "properties": {
                          "experimental_data_stream_features": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "data_stream": {
                                  "type": "string"
                                },
                                "features": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "doc_value_only_numeric": {
                                      "type": "boolean"
                                    },
                                    "doc_value_only_other": {
                                      "type": "boolean"
                                    },
                                    "synthetic_source": {
                                      "type": "boolean"
                                    },
                                    "tsdb": {
                                      "type": "boolean"
                                    }
                                  },
                                  "type": "object"
                                }
                              },
                              "required": [
                                "data_stream",
                                "features"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "name": {
                            "description": "Package name",
                            "type": "string"
                          },
                          "requires_root": {
                            "type": "boolean"
                          },
                          "title": {
                            "type": "string"
                          },
                          "version": {
                            "description": "Package version",
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "version"
                        ],
                        "type": "object"
                      },
                      "policy_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "policy_ids": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "vars": {
                        "additionalProperties": {
                          "anyOf": [
                            {
                              "type": "boolean"
                            },
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            {
                              "items": {
                                "type": "number"
                              },
                              "type": "array"
                            },
                            {
                              "additionalProperties": false,
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "isSecretRef": {
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "id",
                                "isSecretRef"
                              ],
                              "type": "object"
                            }
                          ],
                          "nullable": true
                        },
                        "description": "Input/stream level variable (see integration documentation for more information)",
                        "type": "object"
                      }
                    },
                    "required": [
                      "name",
                      "package"
                    ],
                    "type": "object"
                  }
                ],
                "description": "You should use inputs as an object and not use the deprecated inputs array."
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "agents": {
                          "type": "number"
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "created_by": {
                          "type": "string"
                        },
                        "description": {
                          "description": "Package policy description",
                          "type": "string"
                        },
                        "elasticsearch": {
                          "additionalProperties": true,
                          "properties": {
                            "privileges": {
                              "additionalProperties": true,
                              "properties": {
                                "cluster": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "enabled": {
                          "type": "boolean"
                        },
                        "id": {
                          "type": "string"
                        },
                        "inputs": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "compiled_input": {},
                                  "config": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  },
                                  "enabled": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "keep_enabled": {
                                    "type": "boolean"
                                  },
                                  "policy_template": {
                                    "type": "string"
                                  },
                                  "streams": {
                                    "items": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "compiled_stream": {},
                                        "config": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        },
                                        "data_stream": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "dataset": {
                                              "type": "string"
                                            },
                                            "elasticsearch": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "dynamic_dataset": {
                                                  "type": "boolean"
                                                },
                                                "dynamic_namespace": {
                                                  "type": "boolean"
                                                },
                                                "privileges": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "indices": {
                                                      "items": {
                                                        "type": "string"
                                                      },
                                                      "type": "array"
                                                    }
                                                  },
                                                  "type": "object"
                                                }
                                              },
                                              "type": "object"
                                            },
                                            "type": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "dataset",
                                            "type"
                                          ],
                                          "type": "object"
                                        },
                                        "enabled": {
                                          "type": "boolean"
                                        },
                                        "id": {
                                          "type": "string"
                                        },
                                        "keep_enabled": {
                                          "type": "boolean"
                                        },
                                        "release": {
                                          "enum": [
                                            "ga",
                                            "beta",
                                            "experimental"
                                          ],
                                          "type": "string"
                                        },
                                        "vars": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        }
                                      },
                                      "required": [
                                        "enabled",
                                        "data_stream",
                                        "compiled_stream"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "type",
                                  "enabled",
                                  "streams",
                                  "compiled_input"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "enabled": {
                                    "description": "enable or disable that input, (default to true)",
                                    "type": "boolean"
                                  },
                                  "streams": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "enabled": {
                                          "description": "enable or disable that stream, (default to true)",
                                          "type": "boolean"
                                        },
                                        "vars": {
                                          "additionalProperties": {
                                            "anyOf": [
                                              {
                                                "type": "boolean"
                                              },
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "number"
                                              },
                                              {
                                                "items": {
                                                  "type": "string"
                                                },
                                                "type": "array"
                                              },
                                              {
                                                "items": {
                                                  "type": "number"
                                                },
                                                "type": "array"
                                              },
                                              {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "id": {
                                                    "type": "string"
                                                  },
                                                  "isSecretRef": {
                                                    "type": "boolean"
                                                  }
                                                },
                                                "required": [
                                                  "id",
                                                  "isSecretRef"
                                                ],
                                                "type": "object"
                                              }
                                            ],
                                            "nullable": true
                                          },
                                          "description": "Input/stream level variable (see integration documentation for more information)",
                                          "type": "object"
                                        }
                                      },
                                      "type": "object"
                                    },
                                    "description": "Input streams (see integration documentation to know what streams are available)",
                                    "type": "object"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "anyOf": [
                                        {
                                          "type": "boolean"
                                        },
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "number"
                                        },
                                        {
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        },
                                        {
                                          "items": {
                                            "type": "number"
                                          },
                                          "type": "array"
                                        },
                                        {
                                          "additionalProperties": false,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "isSecretRef": {
                                              "type": "boolean"
                                            }
                                          },
                                          "required": [
                                            "id",
                                            "isSecretRef"
                                          ],
                                          "type": "object"
                                        }
                                      ],
                                      "nullable": true
                                    },
                                    "description": "Input/stream level variable (see integration documentation for more information)",
                                    "type": "object"
                                  }
                                },
                                "type": "object"
                              },
                              "description": "Package policy inputs (see integration documentation to know what inputs are available)",
                              "type": "object",
                              "x-oas-optional": true
                            }
                          ]
                        },
                        "is_managed": {
                          "type": "boolean"
                        },
                        "name": {
                          "description": "Package policy name (should be unique)",
                          "type": "string"
                        },
                        "namespace": {
                          "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                          "type": "string"
                        },
                        "output_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "overrides": {
                          "additionalProperties": false,
                          "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                          "nullable": true,
                          "properties": {
                            "inputs": {
                              "additionalProperties": {},
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "package": {
                          "additionalProperties": false,
                          "properties": {
                            "experimental_data_stream_features": {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "data_stream": {
                                    "type": "string"
                                  },
                                  "features": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "doc_value_only_numeric": {
                                        "type": "boolean"
                                      },
                                      "doc_value_only_other": {
                                        "type": "boolean"
                                      },
                                      "synthetic_source": {
                                        "type": "boolean"
                                      },
                                      "tsdb": {
                                        "type": "boolean"
                                      }
                                    },
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "data_stream",
                                  "features"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "name": {
                              "description": "Package name",
                              "type": "string"
                            },
                            "requires_root": {
                              "type": "boolean"
                            },
                            "title": {
                              "type": "string"
                            },
                            "version": {
                              "description": "Package version",
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "version"
                          ],
                          "type": "object"
                        },
                        "policy_id": {
                          "deprecated": true,
                          "description": "Agent policy ID where that package policy will be added",
                          "nullable": true,
                          "type": "string"
                        },
                        "policy_ids": {
                          "items": {
                            "description": "Agent policy IDs where that package policy will be added",
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "revision": {
                          "type": "number"
                        },
                        "secret_references": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "spaceIds": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "updated_at": {
                          "type": "string"
                        },
                        "updated_by": {
                          "type": "string"
                        },
                        "vars": {
                          "anyOf": [
                            {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "frozen": {
                                    "type": "boolean"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "value": {}
                                },
                                "required": [
                                  "value"
                                ],
                                "type": "object"
                              },
                              "description": "Package variable (see integration documentation for more information)",
                              "type": "object"
                            },
                            {
                              "additionalProperties": {
                                "anyOf": [
                                  {
                                    "type": "boolean"
                                  },
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  {
                                    "items": {
                                      "type": "number"
                                    },
                                    "type": "array"
                                  },
                                  {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "isSecretRef": {
                                        "type": "boolean"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "isSecretRef"
                                    ],
                                    "type": "object"
                                  }
                                ],
                                "nullable": true
                              },
                              "description": "Input/stream level variable (see integration documentation for more information)",
                              "type": "object",
                              "x-oas-optional": true
                            }
                          ]
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "name",
                        "enabled",
                        "inputs",
                        "id",
                        "revision",
                        "updated_at",
                        "updated_by",
                        "created_at",
                        "created_by"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "409": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet package policies"
        ]
      }
    },
    "/api/fleet/package_policies/_bulk_get": {
      "post": {
        "description": "Bulk get package policies",
        "operationId": "%2Fapi%2Ffleet%2Fpackage_policies%2F_bulk_get#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "enum": [
                "simplified",
                "legacy"
              ],
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "ids": {
                    "description": "list of package policy ids",
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "ignoreMissing": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "ids"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "agents": {
                            "type": "number"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "created_by": {
                            "type": "string"
                          },
                          "description": {
                            "description": "Package policy description",
                            "type": "string"
                          },
                          "elasticsearch": {
                            "additionalProperties": true,
                            "properties": {
                              "privileges": {
                                "additionalProperties": true,
                                "properties": {
                                  "cluster": {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  }
                                },
                                "type": "object"
                              }
                            },
                            "type": "object"
                          },
                          "enabled": {
                            "type": "boolean"
                          },
                          "id": {
                            "type": "string"
                          },
                          "inputs": {
                            "anyOf": [
                              {
                                "items": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "compiled_input": {},
                                    "config": {
                                      "additionalProperties": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "frozen": {
                                            "type": "boolean"
                                          },
                                          "type": {
                                            "type": "string"
                                          },
                                          "value": {}
                                        },
                                        "required": [
                                          "value"
                                        ],
                                        "type": "object"
                                      },
                                      "description": "Package variable (see integration documentation for more information)",
                                      "type": "object"
                                    },
                                    "enabled": {
                                      "type": "boolean"
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "keep_enabled": {
                                      "type": "boolean"
                                    },
                                    "policy_template": {
                                      "type": "string"
                                    },
                                    "streams": {
                                      "items": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "compiled_stream": {},
                                          "config": {
                                            "additionalProperties": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "frozen": {
                                                  "type": "boolean"
                                                },
                                                "type": {
                                                  "type": "string"
                                                },
                                                "value": {}
                                              },
                                              "required": [
                                                "value"
                                              ],
                                              "type": "object"
                                            },
                                            "description": "Package variable (see integration documentation for more information)",
                                            "type": "object"
                                          },
                                          "data_stream": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "dataset": {
                                                "type": "string"
                                              },
                                              "elasticsearch": {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "dynamic_dataset": {
                                                    "type": "boolean"
                                                  },
                                                  "dynamic_namespace": {
                                                    "type": "boolean"
                                                  },
                                                  "privileges": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "indices": {
                                                        "items": {
                                                          "type": "string"
                                                        },
                                                        "type": "array"
                                                      }
                                                    },
                                                    "type": "object"
                                                  }
                                                },
                                                "type": "object"
                                              },
                                              "type": {
                                                "type": "string"
                                              }
                                            },
                                            "required": [
                                              "dataset",
                                              "type"
                                            ],
                                            "type": "object"
                                          },
                                          "enabled": {
                                            "type": "boolean"
                                          },
                                          "id": {
                                            "type": "string"
                                          },
                                          "keep_enabled": {
                                            "type": "boolean"
                                          },
                                          "release": {
                                            "enum": [
                                              "ga",
                                              "beta",
                                              "experimental"
                                            ],
                                            "type": "string"
                                          },
                                          "vars": {
                                            "additionalProperties": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "frozen": {
                                                  "type": "boolean"
                                                },
                                                "type": {
                                                  "type": "string"
                                                },
                                                "value": {}
                                              },
                                              "required": [
                                                "value"
                                              ],
                                              "type": "object"
                                            },
                                            "description": "Package variable (see integration documentation for more information)",
                                            "type": "object"
                                          }
                                        },
                                        "required": [
                                          "enabled",
                                          "data_stream",
                                          "compiled_stream"
                                        ],
                                        "type": "object"
                                      },
                                      "type": "array"
                                    },
                                    "type": {
                                      "type": "string"
                                    },
                                    "vars": {
                                      "additionalProperties": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "frozen": {
                                            "type": "boolean"
                                          },
                                          "type": {
                                            "type": "string"
                                          },
                                          "value": {}
                                        },
                                        "required": [
                                          "value"
                                        ],
                                        "type": "object"
                                      },
                                      "description": "Package variable (see integration documentation for more information)",
                                      "type": "object"
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "enabled",
                                    "streams",
                                    "compiled_input"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              {
                                "additionalProperties": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "enabled": {
                                      "description": "enable or disable that input, (default to true)",
                                      "type": "boolean"
                                    },
                                    "streams": {
                                      "additionalProperties": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "enabled": {
                                            "description": "enable or disable that stream, (default to true)",
                                            "type": "boolean"
                                          },
                                          "vars": {
                                            "additionalProperties": {
                                              "anyOf": [
                                                {
                                                  "type": "boolean"
                                                },
                                                {
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "number"
                                                },
                                                {
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "type": "array"
                                                },
                                                {
                                                  "items": {
                                                    "type": "number"
                                                  },
                                                  "type": "array"
                                                },
                                                {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "id": {
                                                      "type": "string"
                                                    },
                                                    "isSecretRef": {
                                                      "type": "boolean"
                                                    }
                                                  },
                                                  "required": [
                                                    "id",
                                                    "isSecretRef"
                                                  ],
                                                  "type": "object"
                                                }
                                              ],
                                              "nullable": true
                                            },
                                            "description": "Input/stream level variable (see integration documentation for more information)",
                                            "type": "object"
                                          }
                                        },
                                        "type": "object"
                                      },
                                      "description": "Input streams (see integration documentation to know what streams are available)",
                                      "type": "object"
                                    },
                                    "vars": {
                                      "additionalProperties": {
                                        "anyOf": [
                                          {
                                            "type": "boolean"
                                          },
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "number"
                                          },
                                          {
                                            "items": {
                                              "type": "string"
                                            },
                                            "type": "array"
                                          },
                                          {
                                            "items": {
                                              "type": "number"
                                            },
                                            "type": "array"
                                          },
                                          {
                                            "additionalProperties": false,
                                            "properties": {
                                              "id": {
                                                "type": "string"
                                              },
                                              "isSecretRef": {
                                                "type": "boolean"
                                              }
                                            },
                                            "required": [
                                              "id",
                                              "isSecretRef"
                                            ],
                                            "type": "object"
                                          }
                                        ],
                                        "nullable": true
                                      },
                                      "description": "Input/stream level variable (see integration documentation for more information)",
                                      "type": "object"
                                    }
                                  },
                                  "type": "object"
                                },
                                "description": "Package policy inputs (see integration documentation to know what inputs are available)",
                                "type": "object",
                                "x-oas-optional": true
                              }
                            ]
                          },
                          "is_managed": {
                            "type": "boolean"
                          },
                          "name": {
                            "description": "Package policy name (should be unique)",
                            "type": "string"
                          },
                          "namespace": {
                            "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                            "type": "string"
                          },
                          "output_id": {
                            "nullable": true,
                            "type": "string"
                          },
                          "overrides": {
                            "additionalProperties": false,
                            "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                            "nullable": true,
                            "properties": {
                              "inputs": {
                                "additionalProperties": {},
                                "type": "object"
                              }
                            },
                            "type": "object"
                          },
                          "package": {
                            "additionalProperties": false,
                            "properties": {
                              "experimental_data_stream_features": {
                                "items": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "data_stream": {
                                      "type": "string"
                                    },
                                    "features": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "doc_value_only_numeric": {
                                          "type": "boolean"
                                        },
                                        "doc_value_only_other": {
                                          "type": "boolean"
                                        },
                                        "synthetic_source": {
                                          "type": "boolean"
                                        },
                                        "tsdb": {
                                          "type": "boolean"
                                        }
                                      },
                                      "type": "object"
                                    }
                                  },
                                  "required": [
                                    "data_stream",
                                    "features"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "name": {
                                "description": "Package name",
                                "type": "string"
                              },
                              "requires_root": {
                                "type": "boolean"
                              },
                              "title": {
                                "type": "string"
                              },
                              "version": {
                                "description": "Package version",
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "version"
                            ],
                            "type": "object"
                          },
                          "policy_id": {
                            "deprecated": true,
                            "description": "Agent policy ID where that package policy will be added",
                            "nullable": true,
                            "type": "string"
                          },
                          "policy_ids": {
                            "items": {
                              "description": "Agent policy IDs where that package policy will be added",
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "revision": {
                            "type": "number"
                          },
                          "secret_references": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "id": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "id"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "spaceIds": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "updated_at": {
                            "type": "string"
                          },
                          "updated_by": {
                            "type": "string"
                          },
                          "vars": {
                            "anyOf": [
                              {
                                "additionalProperties": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "frozen": {
                                      "type": "boolean"
                                    },
                                    "type": {
                                      "type": "string"
                                    },
                                    "value": {}
                                  },
                                  "required": [
                                    "value"
                                  ],
                                  "type": "object"
                                },
                                "description": "Package variable (see integration documentation for more information)",
                                "type": "object"
                              },
                              {
                                "additionalProperties": {
                                  "anyOf": [
                                    {
                                      "type": "boolean"
                                    },
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "items": {
                                        "type": "string"
                                      },
                                      "type": "array"
                                    },
                                    {
                                      "items": {
                                        "type": "number"
                                      },
                                      "type": "array"
                                    },
                                    {
                                      "additionalProperties": false,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        },
                                        "isSecretRef": {
                                          "type": "boolean"
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "isSecretRef"
                                      ],
                                      "type": "object"
                                    }
                                  ],
                                  "nullable": true
                                },
                                "description": "Input/stream level variable (see integration documentation for more information)",
                                "type": "object",
                                "x-oas-optional": true
                              }
                            ]
                          },
                          "version": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "enabled",
                          "inputs",
                          "id",
                          "revision",
                          "updated_at",
                          "updated_by",
                          "created_at",
                          "created_by"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "items"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet package policies"
        ]
      }
    },
    "/api/fleet/package_policies/delete": {
      "post": {
        "description": "Bulk delete package policies",
        "operationId": "%2Fapi%2Ffleet%2Fpackage_policies%2Fdelete#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "force": {
                    "type": "boolean"
                  },
                  "packagePolicyIds": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  }
                },
                "required": [
                  "packagePolicyIds"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "items": {
                    "additionalProperties": false,
                    "properties": {
                      "body": {
                        "additionalProperties": false,
                        "properties": {
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "message"
                        ],
                        "type": "object"
                      },
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "output_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "package": {
                        "additionalProperties": false,
                        "properties": {
                          "experimental_data_stream_features": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "data_stream": {
                                  "type": "string"
                                },
                                "features": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "doc_value_only_numeric": {
                                      "type": "boolean"
                                    },
                                    "doc_value_only_other": {
                                      "type": "boolean"
                                    },
                                    "synthetic_source": {
                                      "type": "boolean"
                                    },
                                    "tsdb": {
                                      "type": "boolean"
                                    }
                                  },
                                  "type": "object"
                                }
                              },
                              "required": [
                                "data_stream",
                                "features"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "name": {
                            "description": "Package name",
                            "type": "string"
                          },
                          "requires_root": {
                            "type": "boolean"
                          },
                          "title": {
                            "type": "string"
                          },
                          "version": {
                            "description": "Package version",
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "version"
                        ],
                        "type": "object"
                      },
                      "policy_id": {
                        "deprecated": true,
                        "description": "Use `policy_ids` instead",
                        "nullable": true,
                        "type": "string"
                      },
                      "policy_ids": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "statusCode": {
                        "type": "number"
                      },
                      "success": {
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "id",
                      "success",
                      "policy_ids",
                      "package"
                    ],
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet package policies"
        ]
      }
    },
    "/api/fleet/package_policies/upgrade": {
      "post": {
        "description": "Upgrade package policy to a newer package version",
        "operationId": "%2Fapi%2Ffleet%2Fpackage_policies%2Fupgrade#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "packagePolicyIds": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  }
                },
                "required": [
                  "packagePolicyIds"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "items": {
                    "additionalProperties": false,
                    "properties": {
                      "body": {
                        "additionalProperties": false,
                        "properties": {
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "message"
                        ],
                        "type": "object"
                      },
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "statusCode": {
                        "type": "number"
                      },
                      "success": {
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "id",
                      "success"
                    ],
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet package policies"
        ]
      }
    },
    "/api/fleet/package_policies/upgrade/dryrun": {
      "post": {
        "description": "Dry run package policy upgrade",
        "operationId": "%2Fapi%2Ffleet%2Fpackage_policies%2Fupgrade%2Fdryrun#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "packagePolicyIds": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "packageVersion": {
                    "type": "string"
                  }
                },
                "required": [
                  "packagePolicyIds"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "items": {
                    "additionalProperties": false,
                    "properties": {
                      "agent_diff": {
                        "items": {
                          "items": {
                            "additionalProperties": true,
                            "properties": {
                              "data_stream": {
                                "additionalProperties": true,
                                "properties": {
                                  "namespace": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "namespace"
                                ],
                                "type": "object"
                              },
                              "id": {
                                "type": "string"
                              },
                              "meta": {
                                "additionalProperties": true,
                                "properties": {
                                  "package": {
                                    "additionalProperties": true,
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      },
                                      "version": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "version"
                                    ],
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "package"
                                ],
                                "type": "object"
                              },
                              "name": {
                                "type": "string"
                              },
                              "package_policy_id": {
                                "type": "string"
                              },
                              "processors": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "add_fields": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "fields": {
                                          "additionalProperties": {
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "number"
                                              }
                                            ]
                                          },
                                          "type": "object"
                                        },
                                        "target": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "target",
                                        "fields"
                                      ],
                                      "type": "object"
                                    }
                                  },
                                  "required": [
                                    "add_fields"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "revision": {
                                "type": "number"
                              },
                              "streams": {
                                "items": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "data_stream": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "dataset": {
                                          "type": "string"
                                        },
                                        "type": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "dataset"
                                      ],
                                      "type": "object"
                                    },
                                    "id": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "data_stream"
                                  ],
                                  "type": "object"
                                },
                                "type": "array"
                              },
                              "type": {
                                "type": "string"
                              },
                              "use_output": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "name",
                              "revision",
                              "type",
                              "data_stream",
                              "use_output",
                              "package_policy_id"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "type": "array"
                      },
                      "body": {
                        "additionalProperties": false,
                        "properties": {
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "message"
                        ],
                        "type": "object"
                      },
                      "diff": {
                        "items": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "agents": {
                                  "type": "number"
                                },
                                "created_at": {
                                  "type": "string"
                                },
                                "created_by": {
                                  "type": "string"
                                },
                                "description": {
                                  "description": "Package policy description",
                                  "type": "string"
                                },
                                "elasticsearch": {
                                  "additionalProperties": true,
                                  "properties": {
                                    "privileges": {
                                      "additionalProperties": true,
                                      "properties": {
                                        "cluster": {
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        }
                                      },
                                      "type": "object"
                                    }
                                  },
                                  "type": "object"
                                },
                                "enabled": {
                                  "type": "boolean"
                                },
                                "id": {
                                  "type": "string"
                                },
                                "inputs": {
                                  "anyOf": [
                                    {
                                      "items": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "compiled_input": {},
                                          "config": {
                                            "additionalProperties": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "frozen": {
                                                  "type": "boolean"
                                                },
                                                "type": {
                                                  "type": "string"
                                                },
                                                "value": {}
                                              },
                                              "required": [
                                                "value"
                                              ],
                                              "type": "object"
                                            },
                                            "description": "Package variable (see integration documentation for more information)",
                                            "type": "object"
                                          },
                                          "enabled": {
                                            "type": "boolean"
                                          },
                                          "id": {
                                            "type": "string"
                                          },
                                          "keep_enabled": {
                                            "type": "boolean"
                                          },
                                          "policy_template": {
                                            "type": "string"
                                          },
                                          "streams": {
                                            "items": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "compiled_stream": {},
                                                "config": {
                                                  "additionalProperties": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "frozen": {
                                                        "type": "boolean"
                                                      },
                                                      "type": {
                                                        "type": "string"
                                                      },
                                                      "value": {}
                                                    },
                                                    "required": [
                                                      "value"
                                                    ],
                                                    "type": "object"
                                                  },
                                                  "description": "Package variable (see integration documentation for more information)",
                                                  "type": "object"
                                                },
                                                "data_stream": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "dataset": {
                                                      "type": "string"
                                                    },
                                                    "elasticsearch": {
                                                      "additionalProperties": false,
                                                      "properties": {
                                                        "dynamic_dataset": {
                                                          "type": "boolean"
                                                        },
                                                        "dynamic_namespace": {
                                                          "type": "boolean"
                                                        },
                                                        "privileges": {
                                                          "additionalProperties": false,
                                                          "properties": {
                                                            "indices": {
                                                              "items": {
                                                                "type": "string"
                                                              },
                                                              "type": "array"
                                                            }
                                                          },
                                                          "type": "object"
                                                        }
                                                      },
                                                      "type": "object"
                                                    },
                                                    "type": {
                                                      "type": "string"
                                                    }
                                                  },
                                                  "required": [
                                                    "dataset",
                                                    "type"
                                                  ],
                                                  "type": "object"
                                                },
                                                "enabled": {
                                                  "type": "boolean"
                                                },
                                                "id": {
                                                  "type": "string"
                                                },
                                                "keep_enabled": {
                                                  "type": "boolean"
                                                },
                                                "release": {
                                                  "enum": [
                                                    "ga",
                                                    "beta",
                                                    "experimental"
                                                  ],
                                                  "type": "string"
                                                },
                                                "vars": {
                                                  "additionalProperties": {
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "frozen": {
                                                        "type": "boolean"
                                                      },
                                                      "type": {
                                                        "type": "string"
                                                      },
                                                      "value": {}
                                                    },
                                                    "required": [
                                                      "value"
                                                    ],
                                                    "type": "object"
                                                  },
                                                  "description": "Package variable (see integration documentation for more information)",
                                                  "type": "object"
                                                }
                                              },
                                              "required": [
                                                "enabled",
                                                "data_stream",
                                                "compiled_stream"
                                              ],
                                              "type": "object"
                                            },
                                            "type": "array"
                                          },
                                          "type": {
                                            "type": "string"
                                          },
                                          "vars": {
                                            "additionalProperties": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "frozen": {
                                                  "type": "boolean"
                                                },
                                                "type": {
                                                  "type": "string"
                                                },
                                                "value": {}
                                              },
                                              "required": [
                                                "value"
                                              ],
                                              "type": "object"
                                            },
                                            "description": "Package variable (see integration documentation for more information)",
                                            "type": "object"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "enabled",
                                          "streams",
                                          "compiled_input"
                                        ],
                                        "type": "object"
                                      },
                                      "type": "array"
                                    },
                                    {
                                      "additionalProperties": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "enabled": {
                                            "description": "enable or disable that input, (default to true)",
                                            "type": "boolean"
                                          },
                                          "streams": {
                                            "additionalProperties": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "enabled": {
                                                  "description": "enable or disable that stream, (default to true)",
                                                  "type": "boolean"
                                                },
                                                "vars": {
                                                  "additionalProperties": {
                                                    "anyOf": [
                                                      {
                                                        "type": "boolean"
                                                      },
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "number"
                                                      },
                                                      {
                                                        "items": {
                                                          "type": "string"
                                                        },
                                                        "type": "array"
                                                      },
                                                      {
                                                        "items": {
                                                          "type": "number"
                                                        },
                                                        "type": "array"
                                                      },
                                                      {
                                                        "additionalProperties": false,
                                                        "properties": {
                                                          "id": {
                                                            "type": "string"
                                                          },
                                                          "isSecretRef": {
                                                            "type": "boolean"
                                                          }
                                                        },
                                                        "required": [
                                                          "id",
                                                          "isSecretRef"
                                                        ],
                                                        "type": "object"
                                                      }
                                                    ],
                                                    "nullable": true
                                                  },
                                                  "description": "Input/stream level variable (see integration documentation for more information)",
                                                  "type": "object"
                                                }
                                              },
                                              "type": "object"
                                            },
                                            "description": "Input streams (see integration documentation to know what streams are available)",
                                            "type": "object"
                                          },
                                          "vars": {
                                            "additionalProperties": {
                                              "anyOf": [
                                                {
                                                  "type": "boolean"
                                                },
                                                {
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "number"
                                                },
                                                {
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "type": "array"
                                                },
                                                {
                                                  "items": {
                                                    "type": "number"
                                                  },
                                                  "type": "array"
                                                },
                                                {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "id": {
                                                      "type": "string"
                                                    },
                                                    "isSecretRef": {
                                                      "type": "boolean"
                                                    }
                                                  },
                                                  "required": [
                                                    "id",
                                                    "isSecretRef"
                                                  ],
                                                  "type": "object"
                                                }
                                              ],
                                              "nullable": true
                                            },
                                            "description": "Input/stream level variable (see integration documentation for more information)",
                                            "type": "object"
                                          }
                                        },
                                        "type": "object"
                                      },
                                      "description": "Package policy inputs (see integration documentation to know what inputs are available)",
                                      "type": "object",
                                      "x-oas-optional": true
                                    }
                                  ]
                                },
                                "is_managed": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "description": "Package policy name (should be unique)",
                                  "type": "string"
                                },
                                "namespace": {
                                  "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                                  "type": "string"
                                },
                                "output_id": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "overrides": {
                                  "additionalProperties": false,
                                  "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                                  "nullable": true,
                                  "properties": {
                                    "inputs": {
                                      "additionalProperties": {},
                                      "type": "object"
                                    }
                                  },
                                  "type": "object"
                                },
                                "package": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "experimental_data_stream_features": {
                                      "items": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "data_stream": {
                                            "type": "string"
                                          },
                                          "features": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "doc_value_only_numeric": {
                                                "type": "boolean"
                                              },
                                              "doc_value_only_other": {
                                                "type": "boolean"
                                              },
                                              "synthetic_source": {
                                                "type": "boolean"
                                              },
                                              "tsdb": {
                                                "type": "boolean"
                                              }
                                            },
                                            "type": "object"
                                          }
                                        },
                                        "required": [
                                          "data_stream",
                                          "features"
                                        ],
                                        "type": "object"
                                      },
                                      "type": "array"
                                    },
                                    "name": {
                                      "description": "Package name",
                                      "type": "string"
                                    },
                                    "requires_root": {
                                      "type": "boolean"
                                    },
                                    "title": {
                                      "type": "string"
                                    },
                                    "version": {
                                      "description": "Package version",
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "name",
                                    "version"
                                  ],
                                  "type": "object"
                                },
                                "policy_id": {
                                  "deprecated": true,
                                  "description": "Agent policy ID where that package policy will be added",
                                  "nullable": true,
                                  "type": "string"
                                },
                                "policy_ids": {
                                  "items": {
                                    "description": "Agent policy IDs where that package policy will be added",
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "revision": {
                                  "type": "number"
                                },
                                "secret_references": {
                                  "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id"
                                    ],
                                    "type": "object"
                                  },
                                  "type": "array"
                                },
                                "spaceIds": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "updated_at": {
                                  "type": "string"
                                },
                                "updated_by": {
                                  "type": "string"
                                },
                                "vars": {
                                  "anyOf": [
                                    {
                                      "additionalProperties": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "frozen": {
                                            "type": "boolean"
                                          },
                                          "type": {
                                            "type": "string"
                                          },
                                          "value": {}
                                        },
                                        "required": [
                                          "value"
                                        ],
                                        "type": "object"
                                      },
                                      "description": "Package variable (see integration documentation for more information)",
                                      "type": "object"
                                    },
                                    {
                                      "additionalProperties": {
                                        "anyOf": [
                                          {
                                            "type": "boolean"
                                          },
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "number"
                                          },
                                          {
                                            "items": {
                                              "type": "string"
                                            },
                                            "type": "array"
                                          },
                                          {
                                            "items": {
                                              "type": "number"
                                            },
                                            "type": "array"
                                          },
                                          {
                                            "additionalProperties": false,
                                            "properties": {
                                              "id": {
                                                "type": "string"
                                              },
                                              "isSecretRef": {
                                                "type": "boolean"
                                              }
                                            },
                                            "required": [
                                              "id",
                                              "isSecretRef"
                                            ],
                                            "type": "object"
                                          }
                                        ],
                                        "nullable": true
                                      },
                                      "description": "Input/stream level variable (see integration documentation for more information)",
                                      "type": "object",
                                      "x-oas-optional": true
                                    }
                                  ]
                                },
                                "version": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "name",
                                "enabled",
                                "inputs",
                                "revision",
                                "updated_at",
                                "updated_by",
                                "created_at",
                                "created_by"
                              ],
                              "type": "object"
                            },
                            {
                              "additionalProperties": false,
                              "properties": {
                                "description": {
                                  "description": "Package policy description",
                                  "type": "string"
                                },
                                "enabled": {
                                  "type": "boolean"
                                },
                                "errors": {
                                  "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "key": {
                                        "type": "string"
                                      },
                                      "message": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "message"
                                    ],
                                    "type": "object"
                                  },
                                  "type": "array"
                                },
                                "force": {
                                  "type": "boolean"
                                },
                                "id": {
                                  "type": "string"
                                },
                                "inputs": {
                                  "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "config": {
                                        "additionalProperties": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "frozen": {
                                              "type": "boolean"
                                            },
                                            "type": {
                                              "type": "string"
                                            },
                                            "value": {}
                                          },
                                          "required": [
                                            "value"
                                          ],
                                          "type": "object"
                                        },
                                        "description": "Package variable (see integration documentation for more information)",
                                        "type": "object"
                                      },
                                      "enabled": {
                                        "type": "boolean"
                                      },
                                      "id": {
                                        "type": "string"
                                      },
                                      "keep_enabled": {
                                        "type": "boolean"
                                      },
                                      "policy_template": {
                                        "type": "string"
                                      },
                                      "streams": {
                                        "items": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "compiled_stream": {},
                                            "config": {
                                              "additionalProperties": {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "frozen": {
                                                    "type": "boolean"
                                                  },
                                                  "type": {
                                                    "type": "string"
                                                  },
                                                  "value": {}
                                                },
                                                "required": [
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              "description": "Package variable (see integration documentation for more information)",
                                              "type": "object"
                                            },
                                            "data_stream": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "dataset": {
                                                  "type": "string"
                                                },
                                                "elasticsearch": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "dynamic_dataset": {
                                                      "type": "boolean"
                                                    },
                                                    "dynamic_namespace": {
                                                      "type": "boolean"
                                                    },
                                                    "privileges": {
                                                      "additionalProperties": false,
                                                      "properties": {
                                                        "indices": {
                                                          "items": {
                                                            "type": "string"
                                                          },
                                                          "type": "array"
                                                        }
                                                      },
                                                      "type": "object"
                                                    }
                                                  },
                                                  "type": "object"
                                                },
                                                "type": {
                                                  "type": "string"
                                                }
                                              },
                                              "required": [
                                                "dataset",
                                                "type"
                                              ],
                                              "type": "object"
                                            },
                                            "enabled": {
                                              "type": "boolean"
                                            },
                                            "id": {
                                              "type": "string"
                                            },
                                            "keep_enabled": {
                                              "type": "boolean"
                                            },
                                            "release": {
                                              "enum": [
                                                "ga",
                                                "beta",
                                                "experimental"
                                              ],
                                              "type": "string"
                                            },
                                            "vars": {
                                              "additionalProperties": {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "frozen": {
                                                    "type": "boolean"
                                                  },
                                                  "type": {
                                                    "type": "string"
                                                  },
                                                  "value": {}
                                                },
                                                "required": [
                                                  "value"
                                                ],
                                                "type": "object"
                                              },
                                              "description": "Package variable (see integration documentation for more information)",
                                              "type": "object"
                                            }
                                          },
                                          "required": [
                                            "enabled",
                                            "data_stream",
                                            "compiled_stream"
                                          ],
                                          "type": "object"
                                        },
                                        "type": "array"
                                      },
                                      "type": {
                                        "type": "string"
                                      },
                                      "vars": {
                                        "additionalProperties": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "frozen": {
                                              "type": "boolean"
                                            },
                                            "type": {
                                              "type": "string"
                                            },
                                            "value": {}
                                          },
                                          "required": [
                                            "value"
                                          ],
                                          "type": "object"
                                        },
                                        "description": "Package variable (see integration documentation for more information)",
                                        "type": "object"
                                      }
                                    },
                                    "required": [
                                      "type",
                                      "enabled",
                                      "streams"
                                    ],
                                    "type": "object"
                                  },
                                  "type": "array"
                                },
                                "is_managed": {
                                  "type": "boolean"
                                },
                                "missingVars": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "name": {
                                  "description": "Package policy name (should be unique)",
                                  "type": "string"
                                },
                                "namespace": {
                                  "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                                  "type": "string"
                                },
                                "output_id": {
                                  "nullable": true,
                                  "type": "string"
                                },
                                "overrides": {
                                  "additionalProperties": false,
                                  "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                                  "nullable": true,
                                  "properties": {
                                    "inputs": {
                                      "additionalProperties": {},
                                      "type": "object"
                                    }
                                  },
                                  "type": "object"
                                },
                                "package": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "experimental_data_stream_features": {
                                      "items": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "data_stream": {
                                            "type": "string"
                                          },
                                          "features": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "doc_value_only_numeric": {
                                                "type": "boolean"
                                              },
                                              "doc_value_only_other": {
                                                "type": "boolean"
                                              },
                                              "synthetic_source": {
                                                "type": "boolean"
                                              },
                                              "tsdb": {
                                                "type": "boolean"
                                              }
                                            },
                                            "type": "object"
                                          }
                                        },
                                        "required": [
                                          "data_stream",
                                          "features"
                                        ],
                                        "type": "object"
                                      },
                                      "type": "array"
                                    },
                                    "name": {
                                      "description": "Package name",
                                      "type": "string"
                                    },
                                    "requires_root": {
                                      "type": "boolean"
                                    },
                                    "title": {
                                      "type": "string"
                                    },
                                    "version": {
                                      "description": "Package version",
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "name",
                                    "version"
                                  ],
                                  "type": "object"
                                },
                                "policy_id": {
                                  "deprecated": true,
                                  "description": "Agent policy ID where that package policy will be added",
                                  "nullable": true,
                                  "type": "string"
                                },
                                "policy_ids": {
                                  "items": {
                                    "description": "Agent policy IDs where that package policy will be added",
                                    "type": "string"
                                  },
                                  "type": "array"
                                },
                                "vars": {
                                  "additionalProperties": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "frozen": {
                                        "type": "boolean"
                                      },
                                      "type": {
                                        "type": "string"
                                      },
                                      "value": {}
                                    },
                                    "required": [
                                      "value"
                                    ],
                                    "type": "object"
                                  },
                                  "description": "Package variable (see integration documentation for more information)",
                                  "type": "object"
                                }
                              },
                              "required": [
                                "name",
                                "enabled",
                                "inputs"
                              ],
                              "type": "object"
                            }
                          ]
                        },
                        "type": "array"
                      },
                      "hasErrors": {
                        "type": "boolean"
                      },
                      "name": {
                        "type": "string"
                      },
                      "statusCode": {
                        "type": "number"
                      }
                    },
                    "required": [
                      "hasErrors"
                    ],
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet package policies"
        ]
      }
    },
    "/api/fleet/package_policies/{packagePolicyId}": {
      "delete": {
        "description": "Delete package policy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fpackage_policies%2F%7BpackagePolicyId%7D#2",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "packagePolicyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "force",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet package policies"
        ]
      },
      "get": {
        "description": "Get package policy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fpackage_policies%2F%7BpackagePolicyId%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "packagePolicyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "enum": [
                "simplified",
                "legacy"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "agents": {
                          "type": "number"
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "created_by": {
                          "type": "string"
                        },
                        "description": {
                          "description": "Package policy description",
                          "type": "string"
                        },
                        "elasticsearch": {
                          "additionalProperties": true,
                          "properties": {
                            "privileges": {
                              "additionalProperties": true,
                              "properties": {
                                "cluster": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "enabled": {
                          "type": "boolean"
                        },
                        "id": {
                          "type": "string"
                        },
                        "inputs": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "compiled_input": {},
                                  "config": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  },
                                  "enabled": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "keep_enabled": {
                                    "type": "boolean"
                                  },
                                  "policy_template": {
                                    "type": "string"
                                  },
                                  "streams": {
                                    "items": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "compiled_stream": {},
                                        "config": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        },
                                        "data_stream": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "dataset": {
                                              "type": "string"
                                            },
                                            "elasticsearch": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "dynamic_dataset": {
                                                  "type": "boolean"
                                                },
                                                "dynamic_namespace": {
                                                  "type": "boolean"
                                                },
                                                "privileges": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "indices": {
                                                      "items": {
                                                        "type": "string"
                                                      },
                                                      "type": "array"
                                                    }
                                                  },
                                                  "type": "object"
                                                }
                                              },
                                              "type": "object"
                                            },
                                            "type": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "dataset",
                                            "type"
                                          ],
                                          "type": "object"
                                        },
                                        "enabled": {
                                          "type": "boolean"
                                        },
                                        "id": {
                                          "type": "string"
                                        },
                                        "keep_enabled": {
                                          "type": "boolean"
                                        },
                                        "release": {
                                          "enum": [
                                            "ga",
                                            "beta",
                                            "experimental"
                                          ],
                                          "type": "string"
                                        },
                                        "vars": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        }
                                      },
                                      "required": [
                                        "enabled",
                                        "data_stream",
                                        "compiled_stream"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "type",
                                  "enabled",
                                  "streams",
                                  "compiled_input"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "enabled": {
                                    "description": "enable or disable that input, (default to true)",
                                    "type": "boolean"
                                  },
                                  "streams": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "enabled": {
                                          "description": "enable or disable that stream, (default to true)",
                                          "type": "boolean"
                                        },
                                        "vars": {
                                          "additionalProperties": {
                                            "anyOf": [
                                              {
                                                "type": "boolean"
                                              },
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "number"
                                              },
                                              {
                                                "items": {
                                                  "type": "string"
                                                },
                                                "type": "array"
                                              },
                                              {
                                                "items": {
                                                  "type": "number"
                                                },
                                                "type": "array"
                                              },
                                              {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "id": {
                                                    "type": "string"
                                                  },
                                                  "isSecretRef": {
                                                    "type": "boolean"
                                                  }
                                                },
                                                "required": [
                                                  "id",
                                                  "isSecretRef"
                                                ],
                                                "type": "object"
                                              }
                                            ],
                                            "nullable": true
                                          },
                                          "description": "Input/stream level variable (see integration documentation for more information)",
                                          "type": "object"
                                        }
                                      },
                                      "type": "object"
                                    },
                                    "description": "Input streams (see integration documentation to know what streams are available)",
                                    "type": "object"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "anyOf": [
                                        {
                                          "type": "boolean"
                                        },
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "number"
                                        },
                                        {
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        },
                                        {
                                          "items": {
                                            "type": "number"
                                          },
                                          "type": "array"
                                        },
                                        {
                                          "additionalProperties": false,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "isSecretRef": {
                                              "type": "boolean"
                                            }
                                          },
                                          "required": [
                                            "id",
                                            "isSecretRef"
                                          ],
                                          "type": "object"
                                        }
                                      ],
                                      "nullable": true
                                    },
                                    "description": "Input/stream level variable (see integration documentation for more information)",
                                    "type": "object"
                                  }
                                },
                                "type": "object"
                              },
                              "description": "Package policy inputs (see integration documentation to know what inputs are available)",
                              "type": "object",
                              "x-oas-optional": true
                            }
                          ]
                        },
                        "is_managed": {
                          "type": "boolean"
                        },
                        "name": {
                          "description": "Package policy name (should be unique)",
                          "type": "string"
                        },
                        "namespace": {
                          "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                          "type": "string"
                        },
                        "output_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "overrides": {
                          "additionalProperties": false,
                          "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                          "nullable": true,
                          "properties": {
                            "inputs": {
                              "additionalProperties": {},
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "package": {
                          "additionalProperties": false,
                          "properties": {
                            "experimental_data_stream_features": {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "data_stream": {
                                    "type": "string"
                                  },
                                  "features": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "doc_value_only_numeric": {
                                        "type": "boolean"
                                      },
                                      "doc_value_only_other": {
                                        "type": "boolean"
                                      },
                                      "synthetic_source": {
                                        "type": "boolean"
                                      },
                                      "tsdb": {
                                        "type": "boolean"
                                      }
                                    },
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "data_stream",
                                  "features"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "name": {
                              "description": "Package name",
                              "type": "string"
                            },
                            "requires_root": {
                              "type": "boolean"
                            },
                            "title": {
                              "type": "string"
                            },
                            "version": {
                              "description": "Package version",
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "version"
                          ],
                          "type": "object"
                        },
                        "policy_id": {
                          "deprecated": true,
                          "description": "Agent policy ID where that package policy will be added",
                          "nullable": true,
                          "type": "string"
                        },
                        "policy_ids": {
                          "items": {
                            "description": "Agent policy IDs where that package policy will be added",
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "revision": {
                          "type": "number"
                        },
                        "secret_references": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "spaceIds": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "updated_at": {
                          "type": "string"
                        },
                        "updated_by": {
                          "type": "string"
                        },
                        "vars": {
                          "anyOf": [
                            {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "frozen": {
                                    "type": "boolean"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "value": {}
                                },
                                "required": [
                                  "value"
                                ],
                                "type": "object"
                              },
                              "description": "Package variable (see integration documentation for more information)",
                              "type": "object"
                            },
                            {
                              "additionalProperties": {
                                "anyOf": [
                                  {
                                    "type": "boolean"
                                  },
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  {
                                    "items": {
                                      "type": "number"
                                    },
                                    "type": "array"
                                  },
                                  {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "isSecretRef": {
                                        "type": "boolean"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "isSecretRef"
                                    ],
                                    "type": "object"
                                  }
                                ],
                                "nullable": true
                              },
                              "description": "Input/stream level variable (see integration documentation for more information)",
                              "type": "object",
                              "x-oas-optional": true
                            }
                          ]
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "name",
                        "enabled",
                        "inputs",
                        "id",
                        "revision",
                        "updated_at",
                        "updated_by",
                        "created_at",
                        "created_by"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet package policies"
        ]
      },
      "put": {
        "description": "Update package policy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fpackage_policies%2F%7BpackagePolicyId%7D#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "packagePolicyId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "enum": [
                "simplified",
                "legacy"
              ],
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "description": {
                        "description": "Package policy description",
                        "type": "string"
                      },
                      "enabled": {
                        "type": "boolean"
                      },
                      "force": {
                        "type": "boolean"
                      },
                      "inputs": {
                        "items": {
                          "additionalProperties": false,
                          "properties": {
                            "config": {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "frozen": {
                                    "type": "boolean"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "value": {}
                                },
                                "required": [
                                  "value"
                                ],
                                "type": "object"
                              },
                              "description": "Package variable (see integration documentation for more information)",
                              "type": "object"
                            },
                            "enabled": {
                              "type": "boolean"
                            },
                            "id": {
                              "type": "string"
                            },
                            "keep_enabled": {
                              "type": "boolean"
                            },
                            "policy_template": {
                              "type": "string"
                            },
                            "streams": {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "compiled_stream": {},
                                  "config": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  },
                                  "data_stream": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "dataset": {
                                        "type": "string"
                                      },
                                      "elasticsearch": {
                                        "additionalProperties": false,
                                        "properties": {
                                          "dynamic_dataset": {
                                            "type": "boolean"
                                          },
                                          "dynamic_namespace": {
                                            "type": "boolean"
                                          },
                                          "privileges": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "indices": {
                                                "items": {
                                                  "type": "string"
                                                },
                                                "type": "array"
                                              }
                                            },
                                            "type": "object"
                                          }
                                        },
                                        "type": "object"
                                      },
                                      "type": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "dataset",
                                      "type"
                                    ],
                                    "type": "object"
                                  },
                                  "enabled": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "keep_enabled": {
                                    "type": "boolean"
                                  },
                                  "release": {
                                    "enum": [
                                      "ga",
                                      "beta",
                                      "experimental"
                                    ],
                                    "type": "string"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "enabled",
                                  "data_stream",
                                  "compiled_stream"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "type": {
                              "type": "string"
                            },
                            "vars": {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "frozen": {
                                    "type": "boolean"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "value": {}
                                },
                                "required": [
                                  "value"
                                ],
                                "type": "object"
                              },
                              "description": "Package variable (see integration documentation for more information)",
                              "type": "object"
                            }
                          },
                          "required": [
                            "type",
                            "enabled"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "is_managed": {
                        "type": "boolean"
                      },
                      "name": {
                        "type": "string"
                      },
                      "namespace": {
                        "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                        "type": "string"
                      },
                      "output_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "overrides": {
                        "additionalProperties": false,
                        "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                        "nullable": true,
                        "properties": {
                          "inputs": {
                            "additionalProperties": {},
                            "type": "object"
                          }
                        },
                        "type": "object"
                      },
                      "package": {
                        "additionalProperties": false,
                        "properties": {
                          "experimental_data_stream_features": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "data_stream": {
                                  "type": "string"
                                },
                                "features": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "doc_value_only_numeric": {
                                      "type": "boolean"
                                    },
                                    "doc_value_only_other": {
                                      "type": "boolean"
                                    },
                                    "synthetic_source": {
                                      "type": "boolean"
                                    },
                                    "tsdb": {
                                      "type": "boolean"
                                    }
                                  },
                                  "type": "object"
                                }
                              },
                              "required": [
                                "data_stream",
                                "features"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "name": {
                            "description": "Package name",
                            "type": "string"
                          },
                          "requires_root": {
                            "type": "boolean"
                          },
                          "title": {
                            "type": "string"
                          },
                          "version": {
                            "description": "Package version",
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "version"
                        ],
                        "type": "object"
                      },
                      "policy_id": {
                        "deprecated": true,
                        "description": "Agent policy ID where that package policy will be added",
                        "nullable": true,
                        "type": "string"
                      },
                      "policy_ids": {
                        "items": {
                          "description": "Agent policy IDs where that package policy will be added",
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "vars": {
                        "additionalProperties": {
                          "additionalProperties": false,
                          "properties": {
                            "frozen": {
                              "type": "boolean"
                            },
                            "type": {
                              "type": "string"
                            },
                            "value": {}
                          },
                          "required": [
                            "value"
                          ],
                          "type": "object"
                        },
                        "description": "Package variable (see integration documentation for more information)",
                        "type": "object"
                      },
                      "version": {
                        "type": "string"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "description": {
                        "type": "string"
                      },
                      "force": {
                        "type": "boolean"
                      },
                      "id": {
                        "type": "string"
                      },
                      "inputs": {
                        "additionalProperties": {
                          "additionalProperties": false,
                          "properties": {
                            "enabled": {
                              "description": "enable or disable that input, (default to true)",
                              "type": "boolean"
                            },
                            "streams": {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "enabled": {
                                    "description": "enable or disable that stream, (default to true)",
                                    "type": "boolean"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "anyOf": [
                                        {
                                          "type": "boolean"
                                        },
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "number"
                                        },
                                        {
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        },
                                        {
                                          "items": {
                                            "type": "number"
                                          },
                                          "type": "array"
                                        },
                                        {
                                          "additionalProperties": false,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "isSecretRef": {
                                              "type": "boolean"
                                            }
                                          },
                                          "required": [
                                            "id",
                                            "isSecretRef"
                                          ],
                                          "type": "object"
                                        }
                                      ],
                                      "nullable": true
                                    },
                                    "description": "Input/stream level variable (see integration documentation for more information)",
                                    "type": "object"
                                  }
                                },
                                "type": "object"
                              },
                              "description": "Input streams (see integration documentation to know what streams are available)",
                              "type": "object"
                            },
                            "vars": {
                              "additionalProperties": {
                                "anyOf": [
                                  {
                                    "type": "boolean"
                                  },
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  {
                                    "items": {
                                      "type": "number"
                                    },
                                    "type": "array"
                                  },
                                  {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "isSecretRef": {
                                        "type": "boolean"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "isSecretRef"
                                    ],
                                    "type": "object"
                                  }
                                ],
                                "nullable": true
                              },
                              "description": "Input/stream level variable (see integration documentation for more information)",
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "description": "Package policy inputs (see integration documentation to know what inputs are available)",
                        "type": "object"
                      },
                      "name": {
                        "type": "string"
                      },
                      "namespace": {
                        "type": "string"
                      },
                      "output_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "package": {
                        "additionalProperties": false,
                        "properties": {
                          "experimental_data_stream_features": {
                            "items": {
                              "additionalProperties": false,
                              "properties": {
                                "data_stream": {
                                  "type": "string"
                                },
                                "features": {
                                  "additionalProperties": false,
                                  "properties": {
                                    "doc_value_only_numeric": {
                                      "type": "boolean"
                                    },
                                    "doc_value_only_other": {
                                      "type": "boolean"
                                    },
                                    "synthetic_source": {
                                      "type": "boolean"
                                    },
                                    "tsdb": {
                                      "type": "boolean"
                                    }
                                  },
                                  "type": "object"
                                }
                              },
                              "required": [
                                "data_stream",
                                "features"
                              ],
                              "type": "object"
                            },
                            "type": "array"
                          },
                          "name": {
                            "description": "Package name",
                            "type": "string"
                          },
                          "requires_root": {
                            "type": "boolean"
                          },
                          "title": {
                            "type": "string"
                          },
                          "version": {
                            "description": "Package version",
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "version"
                        ],
                        "type": "object"
                      },
                      "policy_id": {
                        "nullable": true,
                        "type": "string"
                      },
                      "policy_ids": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "vars": {
                        "additionalProperties": {
                          "anyOf": [
                            {
                              "type": "boolean"
                            },
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            {
                              "items": {
                                "type": "number"
                              },
                              "type": "array"
                            },
                            {
                              "additionalProperties": false,
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "isSecretRef": {
                                  "type": "boolean"
                                }
                              },
                              "required": [
                                "id",
                                "isSecretRef"
                              ],
                              "type": "object"
                            }
                          ],
                          "nullable": true
                        },
                        "description": "Input/stream level variable (see integration documentation for more information)",
                        "type": "object"
                      }
                    },
                    "required": [
                      "name",
                      "package"
                    ],
                    "type": "object"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "agents": {
                          "type": "number"
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "created_by": {
                          "type": "string"
                        },
                        "description": {
                          "description": "Package policy description",
                          "type": "string"
                        },
                        "elasticsearch": {
                          "additionalProperties": true,
                          "properties": {
                            "privileges": {
                              "additionalProperties": true,
                              "properties": {
                                "cluster": {
                                  "items": {
                                    "type": "string"
                                  },
                                  "type": "array"
                                }
                              },
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "enabled": {
                          "type": "boolean"
                        },
                        "id": {
                          "type": "string"
                        },
                        "inputs": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "compiled_input": {},
                                  "config": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  },
                                  "enabled": {
                                    "type": "boolean"
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "keep_enabled": {
                                    "type": "boolean"
                                  },
                                  "policy_template": {
                                    "type": "string"
                                  },
                                  "streams": {
                                    "items": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "compiled_stream": {},
                                        "config": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        },
                                        "data_stream": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "dataset": {
                                              "type": "string"
                                            },
                                            "elasticsearch": {
                                              "additionalProperties": false,
                                              "properties": {
                                                "dynamic_dataset": {
                                                  "type": "boolean"
                                                },
                                                "dynamic_namespace": {
                                                  "type": "boolean"
                                                },
                                                "privileges": {
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "indices": {
                                                      "items": {
                                                        "type": "string"
                                                      },
                                                      "type": "array"
                                                    }
                                                  },
                                                  "type": "object"
                                                }
                                              },
                                              "type": "object"
                                            },
                                            "type": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "dataset",
                                            "type"
                                          ],
                                          "type": "object"
                                        },
                                        "enabled": {
                                          "type": "boolean"
                                        },
                                        "id": {
                                          "type": "string"
                                        },
                                        "keep_enabled": {
                                          "type": "boolean"
                                        },
                                        "release": {
                                          "enum": [
                                            "ga",
                                            "beta",
                                            "experimental"
                                          ],
                                          "type": "string"
                                        },
                                        "vars": {
                                          "additionalProperties": {
                                            "additionalProperties": false,
                                            "properties": {
                                              "frozen": {
                                                "type": "boolean"
                                              },
                                              "type": {
                                                "type": "string"
                                              },
                                              "value": {}
                                            },
                                            "required": [
                                              "value"
                                            ],
                                            "type": "object"
                                          },
                                          "description": "Package variable (see integration documentation for more information)",
                                          "type": "object"
                                        }
                                      },
                                      "required": [
                                        "enabled",
                                        "data_stream",
                                        "compiled_stream"
                                      ],
                                      "type": "object"
                                    },
                                    "type": "array"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "frozen": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string"
                                        },
                                        "value": {}
                                      },
                                      "required": [
                                        "value"
                                      ],
                                      "type": "object"
                                    },
                                    "description": "Package variable (see integration documentation for more information)",
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "type",
                                  "enabled",
                                  "streams",
                                  "compiled_input"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "enabled": {
                                    "description": "enable or disable that input, (default to true)",
                                    "type": "boolean"
                                  },
                                  "streams": {
                                    "additionalProperties": {
                                      "additionalProperties": false,
                                      "properties": {
                                        "enabled": {
                                          "description": "enable or disable that stream, (default to true)",
                                          "type": "boolean"
                                        },
                                        "vars": {
                                          "additionalProperties": {
                                            "anyOf": [
                                              {
                                                "type": "boolean"
                                              },
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "number"
                                              },
                                              {
                                                "items": {
                                                  "type": "string"
                                                },
                                                "type": "array"
                                              },
                                              {
                                                "items": {
                                                  "type": "number"
                                                },
                                                "type": "array"
                                              },
                                              {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "id": {
                                                    "type": "string"
                                                  },
                                                  "isSecretRef": {
                                                    "type": "boolean"
                                                  }
                                                },
                                                "required": [
                                                  "id",
                                                  "isSecretRef"
                                                ],
                                                "type": "object"
                                              }
                                            ],
                                            "nullable": true
                                          },
                                          "description": "Input/stream level variable (see integration documentation for more information)",
                                          "type": "object"
                                        }
                                      },
                                      "type": "object"
                                    },
                                    "description": "Input streams (see integration documentation to know what streams are available)",
                                    "type": "object"
                                  },
                                  "vars": {
                                    "additionalProperties": {
                                      "anyOf": [
                                        {
                                          "type": "boolean"
                                        },
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "number"
                                        },
                                        {
                                          "items": {
                                            "type": "string"
                                          },
                                          "type": "array"
                                        },
                                        {
                                          "items": {
                                            "type": "number"
                                          },
                                          "type": "array"
                                        },
                                        {
                                          "additionalProperties": false,
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "isSecretRef": {
                                              "type": "boolean"
                                            }
                                          },
                                          "required": [
                                            "id",
                                            "isSecretRef"
                                          ],
                                          "type": "object"
                                        }
                                      ],
                                      "nullable": true
                                    },
                                    "description": "Input/stream level variable (see integration documentation for more information)",
                                    "type": "object"
                                  }
                                },
                                "type": "object"
                              },
                              "description": "Package policy inputs (see integration documentation to know what inputs are available)",
                              "type": "object",
                              "x-oas-optional": true
                            }
                          ]
                        },
                        "is_managed": {
                          "type": "boolean"
                        },
                        "name": {
                          "description": "Package policy name (should be unique)",
                          "type": "string"
                        },
                        "namespace": {
                          "description": "The package policy namespace. Leave blank to inherit the agent policy's namespace.",
                          "type": "string"
                        },
                        "output_id": {
                          "nullable": true,
                          "type": "string"
                        },
                        "overrides": {
                          "additionalProperties": false,
                          "description": "Override settings that are defined in the package policy. The override option should be used only in unusual circumstances and not as a routine procedure.",
                          "nullable": true,
                          "properties": {
                            "inputs": {
                              "additionalProperties": {},
                              "type": "object"
                            }
                          },
                          "type": "object"
                        },
                        "package": {
                          "additionalProperties": false,
                          "properties": {
                            "experimental_data_stream_features": {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "data_stream": {
                                    "type": "string"
                                  },
                                  "features": {
                                    "additionalProperties": false,
                                    "properties": {
                                      "doc_value_only_numeric": {
                                        "type": "boolean"
                                      },
                                      "doc_value_only_other": {
                                        "type": "boolean"
                                      },
                                      "synthetic_source": {
                                        "type": "boolean"
                                      },
                                      "tsdb": {
                                        "type": "boolean"
                                      }
                                    },
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "data_stream",
                                  "features"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "name": {
                              "description": "Package name",
                              "type": "string"
                            },
                            "requires_root": {
                              "type": "boolean"
                            },
                            "title": {
                              "type": "string"
                            },
                            "version": {
                              "description": "Package version",
                              "type": "string"
                            }
                          },
                          "required": [
                            "name",
                            "version"
                          ],
                          "type": "object"
                        },
                        "policy_id": {
                          "deprecated": true,
                          "description": "Agent policy ID where that package policy will be added",
                          "nullable": true,
                          "type": "string"
                        },
                        "policy_ids": {
                          "items": {
                            "description": "Agent policy IDs where that package policy will be added",
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "revision": {
                          "type": "number"
                        },
                        "secret_references": {
                          "items": {
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "spaceIds": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "updated_at": {
                          "type": "string"
                        },
                        "updated_by": {
                          "type": "string"
                        },
                        "vars": {
                          "anyOf": [
                            {
                              "additionalProperties": {
                                "additionalProperties": false,
                                "properties": {
                                  "frozen": {
                                    "type": "boolean"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "value": {}
                                },
                                "required": [
                                  "value"
                                ],
                                "type": "object"
                              },
                              "description": "Package variable (see integration documentation for more information)",
                              "type": "object"
                            },
                            {
                              "additionalProperties": {
                                "anyOf": [
                                  {
                                    "type": "boolean"
                                  },
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  {
                                    "items": {
                                      "type": "number"
                                    },
                                    "type": "array"
                                  },
                                  {
                                    "additionalProperties": false,
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "isSecretRef": {
                                        "type": "boolean"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "isSecretRef"
                                    ],
                                    "type": "object"
                                  }
                                ],
                                "nullable": true
                              },
                              "description": "Input/stream level variable (see integration documentation for more information)",
                              "type": "object",
                              "x-oas-optional": true
                            }
                          ]
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "name",
                        "enabled",
                        "inputs",
                        "id",
                        "revision",
                        "updated_at",
                        "updated_by",
                        "created_at",
                        "created_by"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet package policies"
        ]
      }
    },
    "/api/fleet/proxies": {
      "get": {
        "description": "List proxies",
        "operationId": "%2Fapi%2Ffleet%2Fproxies#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "certificate": {
                            "nullable": true,
                            "type": "string"
                          },
                          "certificate_authorities": {
                            "nullable": true,
                            "type": "string"
                          },
                          "certificate_key": {
                            "nullable": true,
                            "type": "string"
                          },
                          "id": {
                            "type": "string"
                          },
                          "is_preconfigured": {
                            "default": false,
                            "type": "boolean"
                          },
                          "name": {
                            "type": "string"
                          },
                          "proxy_headers": {
                            "additionalProperties": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "number"
                                }
                              ]
                            },
                            "nullable": true,
                            "type": "object"
                          },
                          "url": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "url",
                          "name"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total",
                    "page",
                    "perPage"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet proxies"
        ]
      },
      "post": {
        "description": "Create proxy",
        "operationId": "%2Fapi%2Ffleet%2Fproxies#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "certificate": {
                    "nullable": true,
                    "type": "string"
                  },
                  "certificate_authorities": {
                    "nullable": true,
                    "type": "string"
                  },
                  "certificate_key": {
                    "nullable": true,
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "is_preconfigured": {
                    "default": false,
                    "type": "boolean"
                  },
                  "name": {
                    "type": "string"
                  },
                  "proxy_headers": {
                    "additionalProperties": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "boolean"
                        },
                        {
                          "type": "number"
                        }
                      ]
                    },
                    "nullable": true,
                    "type": "object"
                  },
                  "url": {
                    "type": "string"
                  }
                },
                "required": [
                  "url",
                  "name"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "certificate": {
                          "nullable": true,
                          "type": "string"
                        },
                        "certificate_authorities": {
                          "nullable": true,
                          "type": "string"
                        },
                        "certificate_key": {
                          "nullable": true,
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "is_preconfigured": {
                          "default": false,
                          "type": "boolean"
                        },
                        "name": {
                          "type": "string"
                        },
                        "proxy_headers": {
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "boolean"
                              },
                              {
                                "type": "number"
                              }
                            ]
                          },
                          "nullable": true,
                          "type": "object"
                        },
                        "url": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "url",
                        "name"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet proxies"
        ]
      }
    },
    "/api/fleet/proxies/{itemId}": {
      "delete": {
        "description": "Delete proxy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fproxies%2F%7BitemId%7D#2",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "itemId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet proxies"
        ]
      },
      "get": {
        "description": "Get proxy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fproxies%2F%7BitemId%7D#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "itemId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "certificate": {
                          "nullable": true,
                          "type": "string"
                        },
                        "certificate_authorities": {
                          "nullable": true,
                          "type": "string"
                        },
                        "certificate_key": {
                          "nullable": true,
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "is_preconfigured": {
                          "default": false,
                          "type": "boolean"
                        },
                        "name": {
                          "type": "string"
                        },
                        "proxy_headers": {
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "boolean"
                              },
                              {
                                "type": "number"
                              }
                            ]
                          },
                          "nullable": true,
                          "type": "object"
                        },
                        "url": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "url",
                        "name"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet proxies"
        ]
      },
      "put": {
        "description": "Update proxy by ID",
        "operationId": "%2Fapi%2Ffleet%2Fproxies%2F%7BitemId%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "itemId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "certificate": {
                    "nullable": true,
                    "type": "string"
                  },
                  "certificate_authorities": {
                    "nullable": true,
                    "type": "string"
                  },
                  "certificate_key": {
                    "nullable": true,
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "proxy_headers": {
                    "additionalProperties": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "boolean"
                        },
                        {
                          "type": "number"
                        }
                      ]
                    },
                    "nullable": true,
                    "type": "object"
                  },
                  "url": {
                    "type": "string"
                  }
                },
                "required": [
                  "proxy_headers",
                  "certificate_authorities",
                  "certificate",
                  "certificate_key"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "certificate": {
                          "nullable": true,
                          "type": "string"
                        },
                        "certificate_authorities": {
                          "nullable": true,
                          "type": "string"
                        },
                        "certificate_key": {
                          "nullable": true,
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "is_preconfigured": {
                          "default": false,
                          "type": "boolean"
                        },
                        "name": {
                          "type": "string"
                        },
                        "proxy_headers": {
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "boolean"
                              },
                              {
                                "type": "number"
                              }
                            ]
                          },
                          "nullable": true,
                          "type": "object"
                        },
                        "url": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "url",
                        "name"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet proxies"
        ]
      }
    },
    "/api/fleet/service-tokens": {
      "post": {
        "deprecated": true,
        "description": "Create a service token",
        "operationId": "%2Fapi%2Ffleet%2Fservice-tokens#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "responses": {},
        "summary": "",
        "tags": []
      }
    },
    "/api/fleet/service_tokens": {
      "post": {
        "description": "Create a service token",
        "operationId": "%2Fapi%2Ffleet%2Fservice_tokens#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {}
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "name",
                    "value"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet service tokens"
        ]
      }
    },
    "/api/fleet/settings": {
      "get": {
        "description": "Get settings",
        "operationId": "%2Fapi%2Ffleet%2Fsettings#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "fleet_server_hosts": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "has_seen_add_data_notice": {
                          "type": "boolean"
                        },
                        "id": {
                          "type": "string"
                        },
                        "output_secret_storage_requirements_met": {
                          "type": "boolean"
                        },
                        "preconfigured_fields": {
                          "items": {
                            "enum": [
                              "fleet_server_hosts"
                            ],
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "prerelease_integrations_enabled": {
                          "type": "boolean"
                        },
                        "secret_storage_requirements_met": {
                          "type": "boolean"
                        },
                        "use_space_awareness_migration_started_at": {
                          "type": "string"
                        },
                        "use_space_awareness_migration_status": {
                          "enum": [
                            "pending",
                            "success",
                            "error"
                          ],
                          "type": "string"
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "prerelease_integrations_enabled",
                        "id"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet internals"
        ]
      },
      "put": {
        "description": "Update settings",
        "operationId": "%2Fapi%2Ffleet%2Fsettings#1",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json; Elastic-Api-Version=2023-10-31": {
              "schema": {
                "additionalProperties": false,
                "properties": {
                  "additional_yaml_config": {
                    "type": "string"
                  },
                  "fleet_server_hosts": {
                    "items": {
                      "format": "uri",
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "has_seen_add_data_notice": {
                    "type": "boolean"
                  },
                  "kibana_ca_sha256": {
                    "type": "string"
                  },
                  "kibana_urls": {
                    "items": {
                      "format": "uri",
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "prerelease_integrations_enabled": {
                    "type": "boolean"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "fleet_server_hosts": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "has_seen_add_data_notice": {
                          "type": "boolean"
                        },
                        "id": {
                          "type": "string"
                        },
                        "output_secret_storage_requirements_met": {
                          "type": "boolean"
                        },
                        "preconfigured_fields": {
                          "items": {
                            "enum": [
                              "fleet_server_hosts"
                            ],
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "prerelease_integrations_enabled": {
                          "type": "boolean"
                        },
                        "secret_storage_requirements_met": {
                          "type": "boolean"
                        },
                        "use_space_awareness_migration_started_at": {
                          "type": "string"
                        },
                        "use_space_awareness_migration_status": {
                          "enum": [
                            "pending",
                            "success",
                            "error"
                          ],
                          "type": "string"
                        },
                        "version": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "prerelease_integrations_enabled",
                        "id"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet internals"
        ]
      }
    },
    "/api/fleet/setup": {
      "post": {
        "description": "Initiate Fleet setup",
        "operationId": "%2Fapi%2Ffleet%2Fsetup#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "A required header to protect against CSRF attacks",
            "in": "header",
            "name": "kbn-xsrf",
            "required": true,
            "schema": {
              "example": "true",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "A summary of the result of Fleet's `setup` lifecycle. If `isInitialized` is true, Fleet is ready to accept agent enrollment. `nonFatalErrors` may include useful insight into non-blocking issues with Fleet setup.",
                  "properties": {
                    "isInitialized": {
                      "type": "boolean"
                    },
                    "nonFatalErrors": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "message": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "message"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "isInitialized",
                    "nonFatalErrors"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "500": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Internal Server Error",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet internals"
        ]
      }
    },
    "/api/fleet/uninstall_tokens": {
      "get": {
        "description": "List metadata for latest uninstall tokens per agent policy",
        "operationId": "%2Fapi%2Ffleet%2Funinstall_tokens#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "description": "Partial match filtering for policy IDs",
            "in": "query",
            "name": "policyId",
            "required": false,
            "schema": {
              "maxLength": 50,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "search",
            "required": false,
            "schema": {
              "maxLength": 50,
              "type": "string"
            }
          },
          {
            "description": "The number of items to return",
            "in": "query",
            "name": "perPage",
            "required": false,
            "schema": {
              "minimum": 5,
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "items": {
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "created_at": {
                            "type": "string"
                          },
                          "id": {
                            "type": "string"
                          },
                          "namespaces": {
                            "items": {
                              "type": "string"
                            },
                            "type": "array"
                          },
                          "policy_id": {
                            "type": "string"
                          },
                          "policy_name": {
                            "nullable": true,
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "policy_id",
                          "created_at"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total",
                    "page",
                    "perPage"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet uninstall tokens"
        ]
      }
    },
    "/api/fleet/uninstall_tokens/{uninstallTokenId}": {
      "get": {
        "description": "Get one decrypted uninstall token by its ID",
        "operationId": "%2Fapi%2Ffleet%2Funinstall_tokens%2F%7BuninstallTokenId%7D#0",
        "parameters": [
          {
            "description": "The version of the API to use",
            "in": "header",
            "name": "elastic-api-version",
            "schema": {
              "default": "2023-10-31",
              "enum": [
                "2023-10-31"
              ],
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "uninstallTokenId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "item": {
                      "additionalProperties": false,
                      "properties": {
                        "created_at": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "namespaces": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "policy_id": {
                          "type": "string"
                        },
                        "policy_name": {
                          "nullable": true,
                          "type": "string"
                        },
                        "token": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "policy_id",
                        "created_at",
                        "token"
                      ],
                      "type": "object"
                    }
                  },
                  "required": [
                    "item"
                  ],
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json; Elastic-Api-Version=2023-10-31": {
                "schema": {
                  "additionalProperties": false,
                  "description": "Generic Error",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": [
          "Fleet uninstall tokens"
        ]
      }
    }
  },
  "security": [
    {
      "basicAuth": []
    }
  ],
  "servers": [
    {
      "url": "http://localhost:5622"
    }
  ],
  "tags": [
    {
      "name": "Data streams"
    },
    {
      "name": "Elastic Agent actions"
    },
    {
      "name": "Elastic Agent binary download sources"
    },
    {
      "name": "Elastic Agent policies"
    },
    {
      "name": "Elastic Agent status"
    },
    {
      "name": "Elastic Agents"
    },
    {
      "name": "Elastic Package Manager (EPM)"
    },
    {
      "name": "Fleet enrollment API keys"
    },
    {
      "name": "Fleet internals"
    },
    {
      "name": "Fleet outputs"
    },
    {
      "name": "Fleet package policies"
    },
    {
      "name": "Fleet proxies"
    },
    {
      "name": "Fleet Server hosts"
    },
    {
      "name": "Fleet service tokens"
    },
    {
      "name": "Fleet uninstall tokens"
    }
  ]
}