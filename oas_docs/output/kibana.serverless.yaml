openapi: 3.0.3
info:
  contact:
    name: Kibana Team
  description: >
    **Technical preview**  

    This functionality is in technical preview and may be changed or removed in
    a future release.

    Elastic will work to fix any issues, but features in technical preview are
    not subject to the support SLA of official GA features.


    The Kibana REST APIs for Elastic serverless enable you to manage resources

    such as connectors, data views, and saved objects. The API calls are

    stateless. Each request that you make happens in isolation from other calls

    and must include all of the necessary information for Kibana to fulfill the

    request. API requests return JSON output, which is a format that is

    machine-readable and works well for automation.


    To interact with Kibana APIs, use the following operations:


    - GET: Fetches the information.

    - POST: Adds new information.

    - PUT: Updates the existing information.

    - DELETE: Removes the information.


    You can prepend any Kibana API endpoint with `kbn:` and run the request in

    **Dev Tools â†’ Console**. For example:


    ```

    GET kbn:/api/data_views

    ```


    ## Documentation source and versions


    This documentation is derived from the `main` branch of the
    [kibana](https://github.com/elastic/kibana) repository.

    It is provided under license [Attribution-NonCommercial-NoDerivatives 4.0
    International](https://creativecommons.org/licenses/by-nc-nd/4.0/).
  title: Kibana Serverless APIs
  version: 1.0.2
  x-doc-license:
    name: Attribution-NonCommercial-NoDerivatives 4.0 International
    url: https://creativecommons.org/licenses/by-nc-nd/4.0/
  x-feedbackLink:
    label: Feedback
    url: >-
      https://github.com/elastic/docs-content/issues/new?assignees=&labels=feedback%2Ccommunity&projects=&template=api-feedback.yaml&title=%5BFeedback%5D%3A+
servers:
  - url: http://{kibana_host}:{port}
    variables:
      kibana_host:
        default: localhost
      port:
        default: '5601'
  - url: http://localhost:5622
  - url: https://{kibana_url}
    variables:
      kibana_url:
        default: localhost:5601
  - url: /
  - description: local
    url: http://localhost:5601
paths:
  /api/actions:
    get:
      deprecated: true
      operationId: '%2Fapi%2Factions#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses: {}
      summary: Get all connectors
      tags:
        - connectors
  /api/actions/action:
    post:
      deprecated: true
      operationId: '%2Fapi%2Factions%2Faction#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                actionTypeId:
                  description: The connector type identifier.
                  type: string
                config:
                  additionalProperties: {}
                  default: {}
                  type: object
                name:
                  description: The display name for the connector.
                  type: string
                secrets:
                  additionalProperties: {}
                  default: {}
                  type: object
              required:
                - name
                - actionTypeId
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  config:
                    additionalProperties: {}
                    type: object
                  connector_type_id:
                    description: The connector type identifier.
                    type: string
                  id:
                    description: The identifier for the connector.
                    type: string
                  is_deprecated:
                    description: Indicates whether the connector is deprecated.
                    type: boolean
                  is_missing_secrets:
                    description: Indicates whether the connector is missing secrets.
                    type: boolean
                  is_preconfigured:
                    description: >-
                      Indicates whether the connector is preconfigured. If true,
                      the `config` and `is_missing_secrets` properties are
                      omitted from the response. 
                    type: boolean
                  is_system_action:
                    description: >-
                      Indicates whether the connector is used for system
                      actions.
                    type: boolean
                  name:
                    description: ' The name of the rule.'
                    type: string
                required:
                  - id
                  - name
                  - connector_type_id
                  - is_preconfigured
                  - is_deprecated
                  - is_system_action
          description: Indicates a successful call.
      summary: Create a connector
      tags:
        - connectors
  /api/actions/action/{id}:
    delete:
      deprecated: true
      description: 'WARNING: When you delete a connector, it cannot be recovered.'
      operationId: '%2Fapi%2Factions%2Faction%2F%7Bid%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: An identifier for the connector.
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Indicates a successful call.
      summary: Delete a connector
      tags:
        - connectors
    get:
      deprecated: true
      operationId: '%2Fapi%2Factions%2Faction%2F%7Bid%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: An identifier for the connector.
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  config:
                    additionalProperties: {}
                    type: object
                  connector_type_id:
                    description: The connector type identifier.
                    type: string
                  id:
                    description: The identifier for the connector.
                    type: string
                  is_deprecated:
                    description: Indicates whether the connector is deprecated.
                    type: boolean
                  is_missing_secrets:
                    description: Indicates whether the connector is missing secrets.
                    type: boolean
                  is_preconfigured:
                    description: >-
                      Indicates whether the connector is preconfigured. If true,
                      the `config` and `is_missing_secrets` properties are
                      omitted from the response. 
                    type: boolean
                  is_system_action:
                    description: >-
                      Indicates whether the connector is used for system
                      actions.
                    type: boolean
                  name:
                    description: ' The name of the rule.'
                    type: string
                required:
                  - id
                  - name
                  - connector_type_id
                  - is_preconfigured
                  - is_deprecated
                  - is_system_action
          description: Indicates a successful call.
      summary: Get connector information
      tags:
        - connectors
    put:
      deprecated: true
      operationId: '%2Fapi%2Factions%2Faction%2F%7Bid%7D#2'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: An identifier for the connector.
          in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                config:
                  additionalProperties: {}
                  default: {}
                  type: object
                name:
                  type: string
                secrets:
                  additionalProperties: {}
                  default: {}
                  type: object
              required:
                - name
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  config:
                    additionalProperties: {}
                    type: object
                  connector_type_id:
                    description: The connector type identifier.
                    type: string
                  id:
                    description: The identifier for the connector.
                    type: string
                  is_deprecated:
                    description: Indicates whether the connector is deprecated.
                    type: boolean
                  is_missing_secrets:
                    description: Indicates whether the connector is missing secrets.
                    type: boolean
                  is_preconfigured:
                    description: >-
                      Indicates whether the connector is preconfigured. If true,
                      the `config` and `is_missing_secrets` properties are
                      omitted from the response. 
                    type: boolean
                  is_system_action:
                    description: >-
                      Indicates whether the connector is used for system
                      actions.
                    type: boolean
                  name:
                    description: ' The name of the rule.'
                    type: string
                required:
                  - id
                  - name
                  - connector_type_id
                  - is_preconfigured
                  - is_deprecated
                  - is_system_action
          description: Indicates a successful call.
      summary: Update a connector
      tags:
        - connectors
  /api/actions/action/{id}/_execute:
    post:
      deprecated: true
      operationId: '%2Fapi%2Factions%2Faction%2F%7Bid%7D%2F_execute#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: An identifier for the connector.
          in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                params:
                  additionalProperties: {}
                  type: object
              required:
                - params
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  config:
                    additionalProperties: {}
                    type: object
                  connector_type_id:
                    description: The connector type identifier.
                    type: string
                  id:
                    description: The identifier for the connector.
                    type: string
                  is_deprecated:
                    description: Indicates whether the connector is deprecated.
                    type: boolean
                  is_missing_secrets:
                    description: Indicates whether the connector is missing secrets.
                    type: boolean
                  is_preconfigured:
                    description: >-
                      Indicates whether the connector is preconfigured. If true,
                      the `config` and `is_missing_secrets` properties are
                      omitted from the response. 
                    type: boolean
                  is_system_action:
                    description: >-
                      Indicates whether the connector is used for system
                      actions.
                    type: boolean
                  name:
                    description: ' The name of the rule.'
                    type: string
                required:
                  - id
                  - name
                  - connector_type_id
                  - is_preconfigured
                  - is_deprecated
                  - is_system_action
          description: Indicates a successful call.
      summary: Run a connector
      tags:
        - connectors
  /api/actions/connector_types:
    get:
      description: You do not need any Kibana feature privileges to run this API.
      operationId: '%2Fapi%2Factions%2Fconnector_types#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: >-
            A filter to limit the retrieved connector types to those that
            support a specific feature (such as alerting or cases).
          in: query
          name: feature_id
          required: false
          schema:
            type: string
      responses: {}
      summary: Get connector types
      tags:
        - connectors
  /api/actions/connector/{id}:
    delete:
      description: 'WARNING: When you delete a connector, it cannot be recovered.'
      operationId: '%2Fapi%2Factions%2Fconnector%2F%7Bid%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: An identifier for the connector.
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Indicates a successful call.
      summary: Delete a connector
      tags:
        - connectors
    get:
      operationId: '%2Fapi%2Factions%2Fconnector%2F%7Bid%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: An identifier for the connector.
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  config:
                    additionalProperties: {}
                    type: object
                  connector_type_id:
                    description: The connector type identifier.
                    type: string
                  id:
                    description: The identifier for the connector.
                    type: string
                  is_deprecated:
                    description: Indicates whether the connector is deprecated.
                    type: boolean
                  is_missing_secrets:
                    description: Indicates whether the connector is missing secrets.
                    type: boolean
                  is_preconfigured:
                    description: >-
                      Indicates whether the connector is preconfigured. If true,
                      the `config` and `is_missing_secrets` properties are
                      omitted from the response. 
                    type: boolean
                  is_system_action:
                    description: >-
                      Indicates whether the connector is used for system
                      actions.
                    type: boolean
                  name:
                    description: ' The name of the rule.'
                    type: string
                required:
                  - id
                  - name
                  - connector_type_id
                  - is_preconfigured
                  - is_deprecated
                  - is_system_action
          description: Indicates a successful call.
      summary: Get connector information
      tags:
        - connectors
    post:
      operationId: '%2Fapi%2Factions%2Fconnector%2F%7Bid%3F%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: An identifier for the connector.
          in: path
          name: id
          required: false
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                config:
                  additionalProperties: {}
                  default: {}
                  type: object
                connector_type_id:
                  description: The type of connector.
                  type: string
                name:
                  description: The display name for the connector.
                  type: string
                secrets:
                  additionalProperties: {}
                  default: {}
                  type: object
              required:
                - name
                - connector_type_id
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  config:
                    additionalProperties: {}
                    type: object
                  connector_type_id:
                    description: The connector type identifier.
                    type: string
                  id:
                    description: The identifier for the connector.
                    type: string
                  is_deprecated:
                    description: Indicates whether the connector is deprecated.
                    type: boolean
                  is_missing_secrets:
                    description: Indicates whether the connector is missing secrets.
                    type: boolean
                  is_preconfigured:
                    description: >-
                      Indicates whether the connector is preconfigured. If true,
                      the `config` and `is_missing_secrets` properties are
                      omitted from the response. 
                    type: boolean
                  is_system_action:
                    description: >-
                      Indicates whether the connector is used for system
                      actions.
                    type: boolean
                  name:
                    description: ' The name of the rule.'
                    type: string
                required:
                  - id
                  - name
                  - connector_type_id
                  - is_preconfigured
                  - is_deprecated
                  - is_system_action
          description: Indicates a successful call.
      summary: Create a connector
      tags:
        - connectors
    put:
      operationId: '%2Fapi%2Factions%2Fconnector%2F%7Bid%7D#2'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: An identifier for the connector.
          in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                config:
                  additionalProperties: {}
                  default: {}
                  type: object
                name:
                  description: The display name for the connector.
                  type: string
                secrets:
                  additionalProperties: {}
                  default: {}
                  type: object
              required:
                - name
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  config:
                    additionalProperties: {}
                    type: object
                  connector_type_id:
                    description: The connector type identifier.
                    type: string
                  id:
                    description: The identifier for the connector.
                    type: string
                  is_deprecated:
                    description: Indicates whether the connector is deprecated.
                    type: boolean
                  is_missing_secrets:
                    description: Indicates whether the connector is missing secrets.
                    type: boolean
                  is_preconfigured:
                    description: >-
                      Indicates whether the connector is preconfigured. If true,
                      the `config` and `is_missing_secrets` properties are
                      omitted from the response. 
                    type: boolean
                  is_system_action:
                    description: >-
                      Indicates whether the connector is used for system
                      actions.
                    type: boolean
                  name:
                    description: ' The name of the rule.'
                    type: string
                required:
                  - id
                  - name
                  - connector_type_id
                  - is_preconfigured
                  - is_deprecated
                  - is_system_action
          description: Indicates a successful call.
      summary: Update a connector
      tags:
        - connectors
  /api/actions/connector/{id}/_execute:
    post:
      description: >-
        You can use this API to test an action that involves interaction with
        Kibana services or integrations with third-party systems.
      operationId: '%2Fapi%2Factions%2Fconnector%2F%7Bid%7D%2F_execute#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: An identifier for the connector.
          in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                params:
                  additionalProperties: {}
                  type: object
              required:
                - params
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  config:
                    additionalProperties: {}
                    type: object
                  connector_type_id:
                    description: The connector type identifier.
                    type: string
                  id:
                    description: The identifier for the connector.
                    type: string
                  is_deprecated:
                    description: Indicates whether the connector is deprecated.
                    type: boolean
                  is_missing_secrets:
                    description: Indicates whether the connector is missing secrets.
                    type: boolean
                  is_preconfigured:
                    description: >-
                      Indicates whether the connector is preconfigured. If true,
                      the `config` and `is_missing_secrets` properties are
                      omitted from the response. 
                    type: boolean
                  is_system_action:
                    description: >-
                      Indicates whether the connector is used for system
                      actions.
                    type: boolean
                  name:
                    description: ' The name of the rule.'
                    type: string
                required:
                  - id
                  - name
                  - connector_type_id
                  - is_preconfigured
                  - is_deprecated
                  - is_system_action
          description: Indicates a successful call.
      summary: Run a connector
      tags:
        - connectors
  /api/actions/connectors:
    get:
      operationId: '%2Fapi%2Factions%2Fconnectors#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses: {}
      summary: Get all connectors
      tags:
        - connectors
  /api/actions/list_action_types:
    get:
      deprecated: true
      operationId: '%2Fapi%2Factions%2Flist_action_types#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses: {}
      summary: Get connector types
      tags:
        - connectors
  /api/alerting/rule/{id}:
    delete:
      operationId: '%2Fapi%2Falerting%2Frule%2F%7Bid%7D#2'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: The identifier for the rule.
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Indicates a successful call.
        '400':
          description: Indicates an invalid schema or parameters.
        '403':
          description: Indicates that this call is forbidden.
        '404':
          description: Indicates a rule with the given ID does not exist.
      summary: Delete a rule
      tags:
        - alerting
    get:
      operationId: '%2Fapi%2Falerting%2Frule%2F%7Bid%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: The identifier for the rule.
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  actions:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        alerts_filter:
                          additionalProperties: false
                          description: >-
                            Defines a period that limits whether the action
                            runs.
                          type: object
                          properties:
                            query:
                              additionalProperties: false
                              type: object
                              properties:
                                dsl:
                                  description: >-
                                    A filter written in Elasticsearch Query
                                    Domain Specific Language (DSL).
                                  type: string
                                filters:
                                  description: >-
                                    A filter written in Elasticsearch Query
                                    Domain Specific Language (DSL) as defined in
                                    the `kbn-es-query` package.
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      $state:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          store:
                                            description: >-
                                              A filter can be either specific to an
                                              application context or applied globally.
                                            enum:
                                              - appState
                                              - globalState
                                            type: string
                                        required:
                                          - store
                                      meta:
                                        additionalProperties: {}
                                        type: object
                                      query:
                                        additionalProperties: {}
                                        type: object
                                    required:
                                      - meta
                                  type: array
                                kql:
                                  description: >-
                                    A filter written in Kibana Query Language
                                    (KQL).
                                  type: string
                              required:
                                - kql
                                - filters
                            timeframe:
                              additionalProperties: false
                              type: object
                              properties:
                                days:
                                  description: >-
                                    Defines the days of the week that the action
                                    can run, represented as an array of numbers.
                                    For example, `1` represents Monday. An empty
                                    array is equivalent to specifying all the
                                    days of the week.
                                  items:
                                    enum:
                                      - 1
                                      - 2
                                      - 3
                                      - 4
                                      - 5
                                      - 6
                                      - 7
                                    type: integer
                                  type: array
                                hours:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    end:
                                      description: >-
                                        The end of the time frame in 24-hour
                                        notation (`hh:mm`).
                                      type: string
                                    start:
                                      description: >-
                                        The start of the time frame in 24-hour
                                        notation (`hh:mm`).
                                      type: string
                                  required:
                                    - start
                                    - end
                                timezone:
                                  description: >-
                                    The ISO time zone for the `hours` values.
                                    Values such as `UTC` and `UTC+1` also work
                                    but lack built-in daylight savings time
                                    support and are not recommended.
                                  type: string
                              required:
                                - days
                                - hours
                                - timezone
                        connector_type_id:
                          description: >-
                            The type of connector. This property appears in
                            responses but cannot be set in requests.
                          type: string
                        frequency:
                          additionalProperties: false
                          type: object
                          properties:
                            notify_when:
                              description: >-
                                Indicates how often alerts generate actions.
                                Valid values include: `onActionGroupChange`:
                                Actions run when the alert status changes;
                                `onActiveAlert`: Actions run when the alert
                                becomes active and at each check interval while
                                the rule conditions are met;
                                `onThrottleInterval`: Actions run when the alert
                                becomes active and at the interval specified in
                                the throttle property while the rule conditions
                                are met. NOTE: You cannot specify `notify_when`
                                at both the rule and action level. The
                                recommended method is to set it for each action.
                                If you set it at the rule level then update the
                                rule in Kibana, it is automatically changed to
                                use action-specific values.
                              enum:
                                - onActionGroupChange
                                - onActiveAlert
                                - onThrottleInterval
                              type: string
                            summary:
                              description: Indicates whether the action is a summary.
                              type: boolean
                            throttle:
                              description: >-
                                The throttle interval, which defines how often
                                an alert generates repeated actions. It is
                                specified in seconds, minutes, hours, or days
                                and is applicable only if 'notify_when' is set
                                to 'onThrottleInterval'. NOTE: You cannot
                                specify the throttle interval at both the rule
                                and action level. The recommended method is to
                                set it for each action. If you set it at the
                                rule level then update the rule in Kibana, it is
                                automatically changed to use action-specific
                                values.
                              nullable: true
                              type: string
                          required:
                            - summary
                            - notify_when
                            - throttle
                        group:
                          description: >-
                            The group name, which affects when the action runs
                            (for example, when the threshold is met or when the
                            alert is recovered). Each rule type has a list of
                            valid action group names. If you don't need to group
                            actions, set to `default`.
                          type: string
                        id:
                          description: The identifier for the connector saved object.
                          type: string
                        params:
                          additionalProperties: {}
                          description: >-
                            The parameters for the action, which are sent to the
                            connector. The `params` are handled as Mustache
                            templates and passed a default set of context.
                          type: object
                        use_alert_data_for_template:
                          description: Indicates whether to use alert data as a template.
                          type: boolean
                        uuid:
                          description: >-
                            A universally unique identifier (UUID) for the
                            action.
                          type: string
                      required:
                        - id
                        - connector_type_id
                        - params
                    type: array
                  active_snoozes:
                    items:
                      description: List of active snoozes for the rule.
                      type: string
                    type: array
                  alert_delay:
                    additionalProperties: false
                    description: >-
                      Indicates that an alert occurs only when the specified
                      number of consecutive runs met the rule conditions.
                    type: object
                    properties:
                      active:
                        description: >-
                          The number of consecutive runs that must meet the rule
                          conditions.
                        type: number
                    required:
                      - active
                  api_key_created_by_user:
                    description: >-
                      Indicates whether the API key that is associated with the
                      rule was created by the user.
                    nullable: true
                    type: boolean
                  api_key_owner:
                    description: >-
                      The owner of the API key that is associated with the rule
                      and used to run background tasks.
                    nullable: true
                    type: string
                  consumer:
                    description: >-
                      The name of the application or feature that owns the rule.
                      For example: `alerts`, `apm`, `discover`,
                      `infrastructure`, `logs`, `metrics`, `ml`, `monitoring`,
                      `securitySolution`, `siem`, `stackAlerts`, or `uptime`.
                    type: string
                  created_at:
                    description: The date and time that the rule was created.
                    type: string
                  created_by:
                    description: The identifier for the user that created the rule.
                    nullable: true
                    type: string
                  enabled:
                    description: >-
                      Indicates whether you want to run the rule on an interval
                      basis after it is created.
                    type: boolean
                  execution_status:
                    additionalProperties: false
                    type: object
                    properties:
                      error:
                        additionalProperties: false
                        type: object
                        properties:
                          message:
                            description: Error message.
                            type: string
                          reason:
                            description: Reason for error.
                            enum:
                              - read
                              - decrypt
                              - execute
                              - unknown
                              - license
                              - timeout
                              - disabled
                              - validate
                            type: string
                        required:
                          - reason
                          - message
                      last_duration:
                        description: Duration of last execution of the rule.
                        type: number
                      last_execution_date:
                        description: The date and time when rule was executed last.
                        type: string
                      status:
                        description: Status of rule execution.
                        enum:
                          - ok
                          - active
                          - error
                          - warning
                          - pending
                          - unknown
                        type: string
                      warning:
                        additionalProperties: false
                        type: object
                        properties:
                          message:
                            description: Warning message.
                            type: string
                          reason:
                            description: Reason for warning.
                            enum:
                              - maxExecutableActions
                              - maxAlerts
                              - maxQueuedActions
                              - ruleExecution
                            type: string
                        required:
                          - reason
                          - message
                    required:
                      - status
                      - last_execution_date
                  id:
                    description: The identifier for the rule.
                    type: string
                  is_snoozed_until:
                    description: The date when the rule will no longer be snoozed.
                    nullable: true
                    type: string
                  last_run:
                    additionalProperties: false
                    nullable: true
                    type: object
                    properties:
                      alerts_count:
                        additionalProperties: false
                        type: object
                        properties:
                          active:
                            description: Number of active alerts during last run.
                            nullable: true
                            type: number
                          ignored:
                            description: Number of ignored alerts during last run.
                            nullable: true
                            type: number
                          new:
                            description: Number of new alerts during last run.
                            nullable: true
                            type: number
                          recovered:
                            description: Number of recovered alerts during last run.
                            nullable: true
                            type: number
                      outcome:
                        description: >-
                          Outcome of last run of the rule. Value could be
                          succeeded, warning or failed.
                        enum:
                          - succeeded
                          - warning
                          - failed
                        type: string
                      outcome_msg:
                        items:
                          description: Outcome message generated during last rule run.
                          type: string
                        nullable: true
                        type: array
                      outcome_order:
                        description: Order of the outcome.
                        type: number
                      warning:
                        description: Warning of last rule execution.
                        enum:
                          - read
                          - decrypt
                          - execute
                          - unknown
                          - license
                          - timeout
                          - disabled
                          - validate
                          - maxExecutableActions
                          - maxAlerts
                          - maxQueuedActions
                          - ruleExecution
                        nullable: true
                        type: string
                    required:
                      - outcome
                      - alerts_count
                  mapped_params:
                    additionalProperties: {}
                    type: object
                  monitoring:
                    additionalProperties: false
                    description: Monitoring details of the rule.
                    type: object
                    properties:
                      run:
                        additionalProperties: false
                        description: Rule run details.
                        type: object
                        properties:
                          calculated_metrics:
                            additionalProperties: false
                            description: >-
                              Calculation of different percentiles and success
                              ratio.
                            type: object
                            properties:
                              p50:
                                type: number
                              p95:
                                type: number
                              p99:
                                type: number
                              success_ratio:
                                type: number
                            required:
                              - success_ratio
                          history:
                            description: History of the rule run.
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                duration:
                                  description: Duration of the rule run.
                                  type: number
                                outcome:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    alerts_count:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        active:
                                          description: Number of active alerts during last run.
                                          nullable: true
                                          type: number
                                        ignored:
                                          description: >-
                                            Number of ignored alerts during last
                                            run.
                                          nullable: true
                                          type: number
                                        new:
                                          description: Number of new alerts during last run.
                                          nullable: true
                                          type: number
                                        recovered:
                                          description: >-
                                            Number of recovered alerts during last
                                            run.
                                          nullable: true
                                          type: number
                                    outcome:
                                      description: >-
                                        Outcome of last run of the rule. Value
                                        could be succeeded, warning or failed.
                                      enum:
                                        - succeeded
                                        - warning
                                        - failed
                                      type: string
                                    outcome_msg:
                                      items:
                                        description: >-
                                          Outcome message generated during last
                                          rule run.
                                        type: string
                                      nullable: true
                                      type: array
                                    outcome_order:
                                      description: Order of the outcome.
                                      type: number
                                    warning:
                                      description: Warning of last rule execution.
                                      enum:
                                        - read
                                        - decrypt
                                        - execute
                                        - unknown
                                        - license
                                        - timeout
                                        - disabled
                                        - validate
                                        - maxExecutableActions
                                        - maxAlerts
                                        - maxQueuedActions
                                        - ruleExecution
                                      nullable: true
                                      type: string
                                  required:
                                    - outcome
                                    - alerts_count
                                success:
                                  description: >-
                                    Indicates whether the rule run was
                                    successful.
                                  type: boolean
                                timestamp:
                                  description: Time of rule run.
                                  type: number
                              required:
                                - success
                                - timestamp
                            type: array
                          last_run:
                            additionalProperties: false
                            type: object
                            properties:
                              metrics:
                                additionalProperties: false
                                type: object
                                properties:
                                  duration:
                                    description: Duration of most recent rule run.
                                    type: number
                                  gap_duration_s:
                                    description: Duration in seconds of rule run gap.
                                    nullable: true
                                    type: number
                                  total_alerts_created:
                                    description: >-
                                      Total number of alerts created during last
                                      rule run.
                                    nullable: true
                                    type: number
                                  total_alerts_detected:
                                    description: >-
                                      Total number of alerts detected during
                                      last rule run.
                                    nullable: true
                                    type: number
                                  total_indexing_duration_ms:
                                    description: >-
                                      Total time spent indexing documents during
                                      last rule run in milliseconds.
                                    nullable: true
                                    type: number
                                  total_search_duration_ms:
                                    description: >-
                                      Total time spent performing Elasticsearch
                                      searches as measured by Kibana; includes
                                      network latency and time spent serializing
                                      or deserializing the request and response.
                                    nullable: true
                                    type: number
                              timestamp:
                                description: Time of the most recent rule run.
                                type: string
                            required:
                              - timestamp
                              - metrics
                        required:
                          - history
                          - calculated_metrics
                          - last_run
                    required:
                      - run
                  mute_all:
                    description: Indicates whether all alerts are muted.
                    type: boolean
                  muted_alert_ids:
                    items:
                      description: 'List of identifiers of muted alerts. '
                      type: string
                    type: array
                  name:
                    description: ' The name of the rule.'
                    type: string
                  next_run:
                    description: Date and time of the next run of the rule.
                    nullable: true
                    type: string
                  notify_when:
                    description: >-
                      Indicates how often alerts generate actions. Valid values
                      include: `onActionGroupChange`: Actions run when the alert
                      status changes; `onActiveAlert`: Actions run when the
                      alert becomes active and at each check interval while the
                      rule conditions are met; `onThrottleInterval`: Actions run
                      when the alert becomes active and at the interval
                      specified in the throttle property while the rule
                      conditions are met. NOTE: You cannot specify `notify_when`
                      at both the rule and action level. The recommended method
                      is to set it for each action. If you set it at the rule
                      level then update the rule in Kibana, it is automatically
                      changed to use action-specific values.
                    enum:
                      - onActionGroupChange
                      - onActiveAlert
                      - onThrottleInterval
                    nullable: true
                    type: string
                  params:
                    additionalProperties: {}
                    description: The parameters for the rule.
                    type: object
                  revision:
                    description: The rule revision number.
                    type: number
                  rule_type_id:
                    description: The rule type identifier.
                    type: string
                  running:
                    description: Indicates whether the rule is running.
                    nullable: true
                    type: boolean
                  schedule:
                    additionalProperties: false
                    type: object
                    properties:
                      interval:
                        description: >-
                          The interval is specified in seconds, minutes, hours,
                          or days.
                        type: string
                    required:
                      - interval
                  scheduled_task_id:
                    description: Identifier of the scheduled task.
                    type: string
                  snooze_schedule:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        duration:
                          description: Duration of the rule snooze schedule.
                          type: number
                        id:
                          description: Identifier of the rule snooze schedule.
                          type: string
                        rRule:
                          additionalProperties: false
                          type: object
                          properties:
                            byhour:
                              items:
                                description: Indicates hours of the day to recur.
                                type: number
                              type: array
                            byminute:
                              items:
                                description: Indicates minutes of the hour to recur.
                                type: number
                              type: array
                            bymonth:
                              items:
                                description: >-
                                  Indicates months of the year that this rule
                                  should recur.
                                type: number
                              type: array
                            bymonthday:
                              items:
                                description: Indicates the days of the month to recur.
                                type: number
                              type: array
                            bysecond:
                              items:
                                description: Indicates seconds of the day to recur.
                                type: number
                              type: array
                            bysetpos:
                              items:
                                description: >-
                                  A positive or negative integer affecting the
                                  nth day of the month. For example, -2 combined
                                  with `byweekday` of FR is 2nd to last Friday
                                  of the month. It is recommended to not set
                                  this manually and just use `byweekday`.
                                type: number
                              type: array
                            byweekday:
                              items:
                                anyOf:
                                  - type: string
                                  - type: number
                                description: >-
                                  Indicates the days of the week to recur or
                                  else nth-day-of-month strings. For example,
                                  "+2TU" second Tuesday of month, "-1FR" last
                                  Friday of the month, which are internally
                                  converted to a `byweekday/bysetpos`
                                  combination.
                              type: array
                            byweekno:
                              items:
                                description: Indicates number of the week hours to recur.
                                type: number
                              type: array
                            byyearday:
                              items:
                                description: >-
                                  Indicates the days of the year that this rule
                                  should recur.
                                type: number
                              type: array
                            count:
                              description: >-
                                Number of times the rule should recur until it
                                stops.
                              type: number
                            dtstart:
                              description: >-
                                Rule start date in Coordinated Universal Time
                                (UTC).
                              type: string
                            freq:
                              description: >-
                                Indicates frequency of the rule. Options are
                                YEARLY, MONTHLY, WEEKLY, DAILY.
                              enum:
                                - 0
                                - 1
                                - 2
                                - 3
                                - 4
                                - 5
                                - 6
                              type: integer
                            interval:
                              description: >-
                                Indicates the interval of frequency. For
                                example, 1 and YEARLY is every 1 year, 2 and
                                WEEKLY is every 2 weeks.
                              type: number
                            tzid:
                              description: Indicates timezone abbreviation.
                              type: string
                            until:
                              description: Recur the rule until this date.
                              type: string
                            wkst:
                              description: Indicates the start of week, defaults to Monday.
                              enum:
                                - MO
                                - TU
                                - WE
                                - TH
                                - FR
                                - SA
                                - SU
                              type: string
                          required:
                            - dtstart
                            - tzid
                        skipRecurrences:
                          items:
                            description: Skips recurrence of rule on this date.
                            type: string
                          type: array
                      required:
                        - duration
                        - rRule
                    type: array
                  tags:
                    items:
                      description: The tags for the rule.
                      type: string
                    type: array
                  throttle:
                    deprecated: true
                    description: >-
                      Deprecated in 8.13.0. Use the `throttle` property in the
                      action `frequency` object instead. The throttle interval,
                      which defines how often an alert generates repeated
                      actions. NOTE: You cannot specify the throttle interval at
                      both the rule and action level. If you set it at the rule
                      level then update the rule in Kibana, it is automatically
                      changed to use action-specific values.
                    nullable: true
                    type: string
                  updated_at:
                    description: The date and time that the rule was updated most recently.
                    type: string
                  updated_by:
                    description: >-
                      The identifier for the user that updated this rule most
                      recently.
                    nullable: true
                    type: string
                  view_in_app_relative_url:
                    description: Relative URL to view rule in the app.
                    nullable: true
                    type: string
                required:
                  - id
                  - enabled
                  - name
                  - tags
                  - rule_type_id
                  - consumer
                  - schedule
                  - actions
                  - params
                  - created_by
                  - updated_by
                  - created_at
                  - updated_at
                  - api_key_owner
                  - mute_all
                  - muted_alert_ids
                  - execution_status
                  - revision
          description: Indicates a successful call.
        '400':
          description: Indicates an invalid schema or parameters.
        '403':
          description: Indicates that this call is forbidden.
        '404':
          description: Indicates a rule with the given ID does not exist.
      summary: Get rule details
      tags:
        - alerting
    post:
      operationId: '%2Fapi%2Falerting%2Frule%2F%7Bid%3F%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: >-
            The identifier for the rule. If it is omitted, an ID is randomly
            generated.
          in: path
          name: id
          required: false
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                actions:
                  default: []
                  items:
                    additionalProperties: false
                    description: An action that runs under defined conditions.
                    type: object
                    properties:
                      alerts_filter:
                        additionalProperties: false
                        description: >-
                          Conditions that affect whether the action runs. If you
                          specify multiple conditions, all conditions must be
                          met for the action to run. For example, if an alert
                          occurs within the specified time frame and matches the
                          query, the action runs.
                        type: object
                        properties:
                          query:
                            additionalProperties: false
                            type: object
                            properties:
                              dsl:
                                description: >-
                                  A filter written in Elasticsearch Query Domain
                                  Specific Language (DSL).
                                type: string
                              filters:
                                description: >-
                                  A filter written in Elasticsearch Query Domain
                                  Specific Language (DSL) as defined in the
                                  `kbn-es-query` package.
                                items:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    $state:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        store:
                                          description: >-
                                            A filter can be either specific to an
                                            application context or applied globally.
                                          enum:
                                            - appState
                                            - globalState
                                          type: string
                                      required:
                                        - store
                                    meta:
                                      additionalProperties: {}
                                      type: object
                                    query:
                                      additionalProperties: {}
                                      type: object
                                  required:
                                    - meta
                                type: array
                              kql:
                                description: >-
                                  A filter written in Kibana Query Language
                                  (KQL).
                                type: string
                            required:
                              - kql
                              - filters
                          timeframe:
                            additionalProperties: false
                            description: >-
                              Defines a period that limits whether the action
                              runs.
                            type: object
                            properties:
                              days:
                                description: >-
                                  Defines the days of the week that the action
                                  can run, represented as an array of numbers.
                                  For example, `1` represents Monday. An empty
                                  array is equivalent to specifying all the days
                                  of the week.
                                items:
                                  enum:
                                    - 1
                                    - 2
                                    - 3
                                    - 4
                                    - 5
                                    - 6
                                    - 7
                                  type: integer
                                type: array
                              hours:
                                additionalProperties: false
                                description: >-
                                  Defines the range of time in a day that the
                                  action can run. If the `start` value is
                                  `00:00` and the `end` value is `24:00`,
                                  actions be generated all day.
                                type: object
                                properties:
                                  end:
                                    description: >-
                                      The end of the time frame in 24-hour
                                      notation (`hh:mm`).
                                    type: string
                                  start:
                                    description: >-
                                      The start of the time frame in 24-hour
                                      notation (`hh:mm`).
                                    type: string
                                required:
                                  - start
                                  - end
                              timezone:
                                description: >-
                                  The ISO time zone for the `hours` values.
                                  Values such as `UTC` and `UTC+1` also work but
                                  lack built-in daylight savings time support
                                  and are not recommended.
                                type: string
                            required:
                              - days
                              - hours
                              - timezone
                      frequency:
                        additionalProperties: false
                        type: object
                        properties:
                          notify_when:
                            description: >-
                              Indicates how often alerts generate actions. Valid
                              values include: `onActionGroupChange`: Actions run
                              when the alert status changes; `onActiveAlert`:
                              Actions run when the alert becomes active and at
                              each check interval while the rule conditions are
                              met; `onThrottleInterval`: Actions run when the
                              alert becomes active and at the interval specified
                              in the throttle property while the rule conditions
                              are met. NOTE: You cannot specify `notify_when` at
                              both the rule and action level. The recommended
                              method is to set it for each action. If you set it
                              at the rule level then update the rule in Kibana,
                              it is automatically changed to use action-specific
                              values.
                            enum:
                              - onActionGroupChange
                              - onActiveAlert
                              - onThrottleInterval
                            type: string
                          summary:
                            description: Indicates whether the action is a summary.
                            type: boolean
                          throttle:
                            description: >-
                              The throttle interval, which defines how often an
                              alert generates repeated actions. It is specified
                              in seconds, minutes, hours, or days and is
                              applicable only if `notify_when` is set to
                              `onThrottleInterval`. NOTE: You cannot specify the
                              throttle interval at both the rule and action
                              level. The recommended method is to set it for
                              each action. If you set it at the rule level then
                              update the rule in Kibana, it is automatically
                              changed to use action-specific values.
                            nullable: true
                            type: string
                        required:
                          - summary
                          - notify_when
                          - throttle
                      group:
                        description: >-
                          The group name, which affects when the action runs
                          (for example, when the threshold is met or when the
                          alert is recovered). Each rule type has a list of
                          valid action group names. If you don't need to group
                          actions, set to `default`.
                        type: string
                      id:
                        description: The identifier for the connector saved object.
                        type: string
                      params:
                        additionalProperties: {}
                        default: {}
                        description: >-
                          The parameters for the action, which are sent to the
                          connector. The `params` are handled as Mustache
                          templates and passed a default set of context.
                        type: object
                      use_alert_data_for_template:
                        description: Indicates whether to use alert data as a template.
                        type: boolean
                      uuid:
                        description: A universally unique identifier (UUID) for the action.
                        type: string
                    required:
                      - id
                  type: array
                alert_delay:
                  additionalProperties: false
                  description: >-
                    Indicates that an alert occurs only when the specified
                    number of consecutive runs met the rule conditions.
                  type: object
                  properties:
                    active:
                      description: >-
                        The number of consecutive runs that must meet the rule
                        conditions.
                      type: number
                  required:
                    - active
                consumer:
                  description: >-
                    The name of the application or feature that owns the rule.
                    For example: `alerts`, `apm`, `discover`, `infrastructure`,
                    `logs`, `metrics`, `ml`, `monitoring`, `securitySolution`,
                    `siem`, `stackAlerts`, or `uptime`.
                  type: string
                enabled:
                  default: true
                  description: >-
                    Indicates whether you want to run the rule on an interval
                    basis after it is created.
                  type: boolean
                name:
                  description: >-
                    The name of the rule. While this name does not have to be
                    unique, a distinctive name can help you identify a rule.
                  type: string
                notify_when:
                  description: >-
                    Indicates how often alerts generate actions. Valid values
                    include: `onActionGroupChange`: Actions run when the alert
                    status changes; `onActiveAlert`: Actions run when the alert
                    becomes active and at each check interval while the rule
                    conditions are met; `onThrottleInterval`: Actions run when
                    the alert becomes active and at the interval specified in
                    the throttle property while the rule conditions are met.
                    NOTE: You cannot specify `notify_when` at both the rule and
                    action level. The recommended method is to set it for each
                    action. If you set it at the rule level then update the rule
                    in Kibana, it is automatically changed to use
                    action-specific values.
                  enum:
                    - onActionGroupChange
                    - onActiveAlert
                    - onThrottleInterval
                  nullable: true
                  type: string
                params:
                  additionalProperties: {}
                  default: {}
                  description: The parameters for the rule.
                  type: object
                rule_type_id:
                  description: The rule type identifier.
                  type: string
                schedule:
                  additionalProperties: false
                  description: >-
                    The check interval, which specifies how frequently the rule
                    conditions are checked.
                  type: object
                  properties:
                    interval:
                      description: >-
                        The interval is specified in seconds, minutes, hours, or
                        days.
                      type: string
                  required:
                    - interval
                tags:
                  default: []
                  description: The tags for the rule.
                  items:
                    type: string
                  type: array
                throttle:
                  description: >-
                    Use the `throttle` property in the action `frequency` object
                    instead. The throttle interval, which defines how often an
                    alert generates repeated actions. NOTE: You cannot specify
                    the throttle interval at both the rule and action level. If
                    you set it at the rule level then update the rule in Kibana,
                    it is automatically changed to use action-specific values.
                  nullable: true
                  type: string
              required:
                - name
                - rule_type_id
                - consumer
                - schedule
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  actions:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        alerts_filter:
                          additionalProperties: false
                          description: >-
                            Defines a period that limits whether the action
                            runs.
                          type: object
                          properties:
                            query:
                              additionalProperties: false
                              type: object
                              properties:
                                dsl:
                                  description: >-
                                    A filter written in Elasticsearch Query
                                    Domain Specific Language (DSL).
                                  type: string
                                filters:
                                  description: >-
                                    A filter written in Elasticsearch Query
                                    Domain Specific Language (DSL) as defined in
                                    the `kbn-es-query` package.
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      $state:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          store:
                                            description: >-
                                              A filter can be either specific to an
                                              application context or applied globally.
                                            enum:
                                              - appState
                                              - globalState
                                            type: string
                                        required:
                                          - store
                                      meta:
                                        additionalProperties: {}
                                        type: object
                                      query:
                                        additionalProperties: {}
                                        type: object
                                    required:
                                      - meta
                                  type: array
                                kql:
                                  description: >-
                                    A filter written in Kibana Query Language
                                    (KQL).
                                  type: string
                              required:
                                - kql
                                - filters
                            timeframe:
                              additionalProperties: false
                              type: object
                              properties:
                                days:
                                  description: >-
                                    Defines the days of the week that the action
                                    can run, represented as an array of numbers.
                                    For example, `1` represents Monday. An empty
                                    array is equivalent to specifying all the
                                    days of the week.
                                  items:
                                    enum:
                                      - 1
                                      - 2
                                      - 3
                                      - 4
                                      - 5
                                      - 6
                                      - 7
                                    type: integer
                                  type: array
                                hours:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    end:
                                      description: >-
                                        The end of the time frame in 24-hour
                                        notation (`hh:mm`).
                                      type: string
                                    start:
                                      description: >-
                                        The start of the time frame in 24-hour
                                        notation (`hh:mm`).
                                      type: string
                                  required:
                                    - start
                                    - end
                                timezone:
                                  description: >-
                                    The ISO time zone for the `hours` values.
                                    Values such as `UTC` and `UTC+1` also work
                                    but lack built-in daylight savings time
                                    support and are not recommended.
                                  type: string
                              required:
                                - days
                                - hours
                                - timezone
                        connector_type_id:
                          description: >-
                            The type of connector. This property appears in
                            responses but cannot be set in requests.
                          type: string
                        frequency:
                          additionalProperties: false
                          type: object
                          properties:
                            notify_when:
                              description: >-
                                Indicates how often alerts generate actions.
                                Valid values include: `onActionGroupChange`:
                                Actions run when the alert status changes;
                                `onActiveAlert`: Actions run when the alert
                                becomes active and at each check interval while
                                the rule conditions are met;
                                `onThrottleInterval`: Actions run when the alert
                                becomes active and at the interval specified in
                                the throttle property while the rule conditions
                                are met. NOTE: You cannot specify `notify_when`
                                at both the rule and action level. The
                                recommended method is to set it for each action.
                                If you set it at the rule level then update the
                                rule in Kibana, it is automatically changed to
                                use action-specific values.
                              enum:
                                - onActionGroupChange
                                - onActiveAlert
                                - onThrottleInterval
                              type: string
                            summary:
                              description: Indicates whether the action is a summary.
                              type: boolean
                            throttle:
                              description: >-
                                The throttle interval, which defines how often
                                an alert generates repeated actions. It is
                                specified in seconds, minutes, hours, or days
                                and is applicable only if 'notify_when' is set
                                to 'onThrottleInterval'. NOTE: You cannot
                                specify the throttle interval at both the rule
                                and action level. The recommended method is to
                                set it for each action. If you set it at the
                                rule level then update the rule in Kibana, it is
                                automatically changed to use action-specific
                                values.
                              nullable: true
                              type: string
                          required:
                            - summary
                            - notify_when
                            - throttle
                        group:
                          description: >-
                            The group name, which affects when the action runs
                            (for example, when the threshold is met or when the
                            alert is recovered). Each rule type has a list of
                            valid action group names. If you don't need to group
                            actions, set to `default`.
                          type: string
                        id:
                          description: The identifier for the connector saved object.
                          type: string
                        params:
                          additionalProperties: {}
                          description: >-
                            The parameters for the action, which are sent to the
                            connector. The `params` are handled as Mustache
                            templates and passed a default set of context.
                          type: object
                        use_alert_data_for_template:
                          description: Indicates whether to use alert data as a template.
                          type: boolean
                        uuid:
                          description: >-
                            A universally unique identifier (UUID) for the
                            action.
                          type: string
                      required:
                        - id
                        - connector_type_id
                        - params
                    type: array
                  active_snoozes:
                    items:
                      description: List of active snoozes for the rule.
                      type: string
                    type: array
                  alert_delay:
                    additionalProperties: false
                    description: >-
                      Indicates that an alert occurs only when the specified
                      number of consecutive runs met the rule conditions.
                    type: object
                    properties:
                      active:
                        description: >-
                          The number of consecutive runs that must meet the rule
                          conditions.
                        type: number
                    required:
                      - active
                  api_key_created_by_user:
                    description: >-
                      Indicates whether the API key that is associated with the
                      rule was created by the user.
                    nullable: true
                    type: boolean
                  api_key_owner:
                    description: >-
                      The owner of the API key that is associated with the rule
                      and used to run background tasks.
                    nullable: true
                    type: string
                  consumer:
                    description: >-
                      The name of the application or feature that owns the rule.
                      For example: `alerts`, `apm`, `discover`,
                      `infrastructure`, `logs`, `metrics`, `ml`, `monitoring`,
                      `securitySolution`, `siem`, `stackAlerts`, or `uptime`.
                    type: string
                  created_at:
                    description: The date and time that the rule was created.
                    type: string
                  created_by:
                    description: The identifier for the user that created the rule.
                    nullable: true
                    type: string
                  enabled:
                    description: >-
                      Indicates whether you want to run the rule on an interval
                      basis after it is created.
                    type: boolean
                  execution_status:
                    additionalProperties: false
                    type: object
                    properties:
                      error:
                        additionalProperties: false
                        type: object
                        properties:
                          message:
                            description: Error message.
                            type: string
                          reason:
                            description: Reason for error.
                            enum:
                              - read
                              - decrypt
                              - execute
                              - unknown
                              - license
                              - timeout
                              - disabled
                              - validate
                            type: string
                        required:
                          - reason
                          - message
                      last_duration:
                        description: Duration of last execution of the rule.
                        type: number
                      last_execution_date:
                        description: The date and time when rule was executed last.
                        type: string
                      status:
                        description: Status of rule execution.
                        enum:
                          - ok
                          - active
                          - error
                          - warning
                          - pending
                          - unknown
                        type: string
                      warning:
                        additionalProperties: false
                        type: object
                        properties:
                          message:
                            description: Warning message.
                            type: string
                          reason:
                            description: Reason for warning.
                            enum:
                              - maxExecutableActions
                              - maxAlerts
                              - maxQueuedActions
                              - ruleExecution
                            type: string
                        required:
                          - reason
                          - message
                    required:
                      - status
                      - last_execution_date
                  id:
                    description: The identifier for the rule.
                    type: string
                  is_snoozed_until:
                    description: The date when the rule will no longer be snoozed.
                    nullable: true
                    type: string
                  last_run:
                    additionalProperties: false
                    nullable: true
                    type: object
                    properties:
                      alerts_count:
                        additionalProperties: false
                        type: object
                        properties:
                          active:
                            description: Number of active alerts during last run.
                            nullable: true
                            type: number
                          ignored:
                            description: Number of ignored alerts during last run.
                            nullable: true
                            type: number
                          new:
                            description: Number of new alerts during last run.
                            nullable: true
                            type: number
                          recovered:
                            description: Number of recovered alerts during last run.
                            nullable: true
                            type: number
                      outcome:
                        description: >-
                          Outcome of last run of the rule. Value could be
                          succeeded, warning or failed.
                        enum:
                          - succeeded
                          - warning
                          - failed
                        type: string
                      outcome_msg:
                        items:
                          description: Outcome message generated during last rule run.
                          type: string
                        nullable: true
                        type: array
                      outcome_order:
                        description: Order of the outcome.
                        type: number
                      warning:
                        description: Warning of last rule execution.
                        enum:
                          - read
                          - decrypt
                          - execute
                          - unknown
                          - license
                          - timeout
                          - disabled
                          - validate
                          - maxExecutableActions
                          - maxAlerts
                          - maxQueuedActions
                          - ruleExecution
                        nullable: true
                        type: string
                    required:
                      - outcome
                      - alerts_count
                  mapped_params:
                    additionalProperties: {}
                    type: object
                  monitoring:
                    additionalProperties: false
                    description: Monitoring details of the rule.
                    type: object
                    properties:
                      run:
                        additionalProperties: false
                        description: Rule run details.
                        type: object
                        properties:
                          calculated_metrics:
                            additionalProperties: false
                            description: >-
                              Calculation of different percentiles and success
                              ratio.
                            type: object
                            properties:
                              p50:
                                type: number
                              p95:
                                type: number
                              p99:
                                type: number
                              success_ratio:
                                type: number
                            required:
                              - success_ratio
                          history:
                            description: History of the rule run.
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                duration:
                                  description: Duration of the rule run.
                                  type: number
                                outcome:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    alerts_count:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        active:
                                          description: Number of active alerts during last run.
                                          nullable: true
                                          type: number
                                        ignored:
                                          description: >-
                                            Number of ignored alerts during last
                                            run.
                                          nullable: true
                                          type: number
                                        new:
                                          description: Number of new alerts during last run.
                                          nullable: true
                                          type: number
                                        recovered:
                                          description: >-
                                            Number of recovered alerts during last
                                            run.
                                          nullable: true
                                          type: number
                                    outcome:
                                      description: >-
                                        Outcome of last run of the rule. Value
                                        could be succeeded, warning or failed.
                                      enum:
                                        - succeeded
                                        - warning
                                        - failed
                                      type: string
                                    outcome_msg:
                                      items:
                                        description: >-
                                          Outcome message generated during last
                                          rule run.
                                        type: string
                                      nullable: true
                                      type: array
                                    outcome_order:
                                      description: Order of the outcome.
                                      type: number
                                    warning:
                                      description: Warning of last rule execution.
                                      enum:
                                        - read
                                        - decrypt
                                        - execute
                                        - unknown
                                        - license
                                        - timeout
                                        - disabled
                                        - validate
                                        - maxExecutableActions
                                        - maxAlerts
                                        - maxQueuedActions
                                        - ruleExecution
                                      nullable: true
                                      type: string
                                  required:
                                    - outcome
                                    - alerts_count
                                success:
                                  description: >-
                                    Indicates whether the rule run was
                                    successful.
                                  type: boolean
                                timestamp:
                                  description: Time of rule run.
                                  type: number
                              required:
                                - success
                                - timestamp
                            type: array
                          last_run:
                            additionalProperties: false
                            type: object
                            properties:
                              metrics:
                                additionalProperties: false
                                type: object
                                properties:
                                  duration:
                                    description: Duration of most recent rule run.
                                    type: number
                                  gap_duration_s:
                                    description: Duration in seconds of rule run gap.
                                    nullable: true
                                    type: number
                                  total_alerts_created:
                                    description: >-
                                      Total number of alerts created during last
                                      rule run.
                                    nullable: true
                                    type: number
                                  total_alerts_detected:
                                    description: >-
                                      Total number of alerts detected during
                                      last rule run.
                                    nullable: true
                                    type: number
                                  total_indexing_duration_ms:
                                    description: >-
                                      Total time spent indexing documents during
                                      last rule run in milliseconds.
                                    nullable: true
                                    type: number
                                  total_search_duration_ms:
                                    description: >-
                                      Total time spent performing Elasticsearch
                                      searches as measured by Kibana; includes
                                      network latency and time spent serializing
                                      or deserializing the request and response.
                                    nullable: true
                                    type: number
                              timestamp:
                                description: Time of the most recent rule run.
                                type: string
                            required:
                              - timestamp
                              - metrics
                        required:
                          - history
                          - calculated_metrics
                          - last_run
                    required:
                      - run
                  mute_all:
                    description: Indicates whether all alerts are muted.
                    type: boolean
                  muted_alert_ids:
                    items:
                      description: 'List of identifiers of muted alerts. '
                      type: string
                    type: array
                  name:
                    description: ' The name of the rule.'
                    type: string
                  next_run:
                    description: Date and time of the next run of the rule.
                    nullable: true
                    type: string
                  notify_when:
                    description: >-
                      Indicates how often alerts generate actions. Valid values
                      include: `onActionGroupChange`: Actions run when the alert
                      status changes; `onActiveAlert`: Actions run when the
                      alert becomes active and at each check interval while the
                      rule conditions are met; `onThrottleInterval`: Actions run
                      when the alert becomes active and at the interval
                      specified in the throttle property while the rule
                      conditions are met. NOTE: You cannot specify `notify_when`
                      at both the rule and action level. The recommended method
                      is to set it for each action. If you set it at the rule
                      level then update the rule in Kibana, it is automatically
                      changed to use action-specific values.
                    enum:
                      - onActionGroupChange
                      - onActiveAlert
                      - onThrottleInterval
                    nullable: true
                    type: string
                  params:
                    additionalProperties: {}
                    description: The parameters for the rule.
                    type: object
                  revision:
                    description: The rule revision number.
                    type: number
                  rule_type_id:
                    description: The rule type identifier.
                    type: string
                  running:
                    description: Indicates whether the rule is running.
                    nullable: true
                    type: boolean
                  schedule:
                    additionalProperties: false
                    type: object
                    properties:
                      interval:
                        description: >-
                          The interval is specified in seconds, minutes, hours,
                          or days.
                        type: string
                    required:
                      - interval
                  scheduled_task_id:
                    description: Identifier of the scheduled task.
                    type: string
                  snooze_schedule:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        duration:
                          description: Duration of the rule snooze schedule.
                          type: number
                        id:
                          description: Identifier of the rule snooze schedule.
                          type: string
                        rRule:
                          additionalProperties: false
                          type: object
                          properties:
                            byhour:
                              items:
                                description: Indicates hours of the day to recur.
                                type: number
                              type: array
                            byminute:
                              items:
                                description: Indicates minutes of the hour to recur.
                                type: number
                              type: array
                            bymonth:
                              items:
                                description: >-
                                  Indicates months of the year that this rule
                                  should recur.
                                type: number
                              type: array
                            bymonthday:
                              items:
                                description: Indicates the days of the month to recur.
                                type: number
                              type: array
                            bysecond:
                              items:
                                description: Indicates seconds of the day to recur.
                                type: number
                              type: array
                            bysetpos:
                              items:
                                description: >-
                                  A positive or negative integer affecting the
                                  nth day of the month. For example, -2 combined
                                  with `byweekday` of FR is 2nd to last Friday
                                  of the month. It is recommended to not set
                                  this manually and just use `byweekday`.
                                type: number
                              type: array
                            byweekday:
                              items:
                                anyOf:
                                  - type: string
                                  - type: number
                                description: >-
                                  Indicates the days of the week to recur or
                                  else nth-day-of-month strings. For example,
                                  "+2TU" second Tuesday of month, "-1FR" last
                                  Friday of the month, which are internally
                                  converted to a `byweekday/bysetpos`
                                  combination.
                              type: array
                            byweekno:
                              items:
                                description: Indicates number of the week hours to recur.
                                type: number
                              type: array
                            byyearday:
                              items:
                                description: >-
                                  Indicates the days of the year that this rule
                                  should recur.
                                type: number
                              type: array
                            count:
                              description: >-
                                Number of times the rule should recur until it
                                stops.
                              type: number
                            dtstart:
                              description: >-
                                Rule start date in Coordinated Universal Time
                                (UTC).
                              type: string
                            freq:
                              description: >-
                                Indicates frequency of the rule. Options are
                                YEARLY, MONTHLY, WEEKLY, DAILY.
                              enum:
                                - 0
                                - 1
                                - 2
                                - 3
                                - 4
                                - 5
                                - 6
                              type: integer
                            interval:
                              description: >-
                                Indicates the interval of frequency. For
                                example, 1 and YEARLY is every 1 year, 2 and
                                WEEKLY is every 2 weeks.
                              type: number
                            tzid:
                              description: Indicates timezone abbreviation.
                              type: string
                            until:
                              description: Recur the rule until this date.
                              type: string
                            wkst:
                              description: Indicates the start of week, defaults to Monday.
                              enum:
                                - MO
                                - TU
                                - WE
                                - TH
                                - FR
                                - SA
                                - SU
                              type: string
                          required:
                            - dtstart
                            - tzid
                        skipRecurrences:
                          items:
                            description: Skips recurrence of rule on this date.
                            type: string
                          type: array
                      required:
                        - duration
                        - rRule
                    type: array
                  tags:
                    items:
                      description: The tags for the rule.
                      type: string
                    type: array
                  throttle:
                    deprecated: true
                    description: >-
                      Deprecated in 8.13.0. Use the `throttle` property in the
                      action `frequency` object instead. The throttle interval,
                      which defines how often an alert generates repeated
                      actions. NOTE: You cannot specify the throttle interval at
                      both the rule and action level. If you set it at the rule
                      level then update the rule in Kibana, it is automatically
                      changed to use action-specific values.
                    nullable: true
                    type: string
                  updated_at:
                    description: The date and time that the rule was updated most recently.
                    type: string
                  updated_by:
                    description: >-
                      The identifier for the user that updated this rule most
                      recently.
                    nullable: true
                    type: string
                  view_in_app_relative_url:
                    description: Relative URL to view rule in the app.
                    nullable: true
                    type: string
                required:
                  - id
                  - enabled
                  - name
                  - tags
                  - rule_type_id
                  - consumer
                  - schedule
                  - actions
                  - params
                  - created_by
                  - updated_by
                  - created_at
                  - updated_at
                  - api_key_owner
                  - mute_all
                  - muted_alert_ids
                  - execution_status
                  - revision
          description: Indicates a successful call.
        '400':
          description: Indicates an invalid schema or parameters.
        '403':
          description: Indicates that this call is forbidden.
        '409':
          description: Indicates that the rule id is already in use.
      summary: Create a rule
      tags:
        - alerting
    put:
      operationId: '%2Fapi%2Falerting%2Frule%2F%7Bid%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: The identifier for the rule.
          in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                actions:
                  default: []
                  items:
                    additionalProperties: false
                    description: An action that runs under defined conditions.
                    type: object
                    properties:
                      alerts_filter:
                        additionalProperties: false
                        type: object
                        properties:
                          query:
                            additionalProperties: false
                            type: object
                            properties:
                              dsl:
                                description: >-
                                  A filter written in Elasticsearch Query Domain
                                  Specific Language (DSL).
                                type: string
                              filters:
                                description: >-
                                  A filter written in Elasticsearch Query Domain
                                  Specific Language (DSL) as defined in the
                                  `kbn-es-query` package.
                                items:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    $state:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        store:
                                          description: >-
                                            A filter can be either specific to an
                                            application context or applied globally.
                                          enum:
                                            - appState
                                            - globalState
                                          type: string
                                      required:
                                        - store
                                    meta:
                                      additionalProperties: {}
                                      type: object
                                    query:
                                      additionalProperties: {}
                                      type: object
                                  required:
                                    - meta
                                type: array
                              kql:
                                description: >-
                                  A filter written in Kibana Query Language
                                  (KQL).
                                type: string
                            required:
                              - kql
                              - filters
                          timeframe:
                            additionalProperties: false
                            description: >-
                              Defines a period that limits whether the action
                              runs.
                            type: object
                            properties:
                              days:
                                description: >-
                                  Defines the days of the week that the action
                                  can run, represented as an array of numbers.
                                  For example, `1` represents Monday. An empty
                                  array is equivalent to specifying all the days
                                  of the week.
                                items:
                                  enum:
                                    - 1
                                    - 2
                                    - 3
                                    - 4
                                    - 5
                                    - 6
                                    - 7
                                  type: integer
                                type: array
                              hours:
                                additionalProperties: false
                                description: >-
                                  Defines the range of time in a day that the
                                  action can run. If the `start` value is
                                  `00:00` and the `end` value is `24:00`,
                                  actions be generated all day.
                                type: object
                                properties:
                                  end:
                                    description: >-
                                      The end of the time frame in 24-hour
                                      notation (`hh:mm`).
                                    type: string
                                  start:
                                    description: >-
                                      The start of the time frame in 24-hour
                                      notation (`hh:mm`).
                                    type: string
                                required:
                                  - start
                                  - end
                              timezone:
                                description: >-
                                  The ISO time zone for the `hours` values.
                                  Values such as `UTC` and `UTC+1` also work but
                                  lack built-in daylight savings time support
                                  and are not recommended.
                                type: string
                            required:
                              - days
                              - hours
                              - timezone
                      frequency:
                        additionalProperties: false
                        type: object
                        properties:
                          notify_when:
                            description: >-
                              Indicates how often alerts generate actions. Valid
                              values include: `onActionGroupChange`: Actions run
                              when the alert status changes; `onActiveAlert`:
                              Actions run when the alert becomes active and at
                              each check interval while the rule conditions are
                              met; `onThrottleInterval`: Actions run when the
                              alert becomes active and at the interval specified
                              in the throttle property while the rule conditions
                              are met. NOTE: You cannot specify `notify_when` at
                              both the rule and action level. The recommended
                              method is to set it for each action. If you set it
                              at the rule level then update the rule in Kibana,
                              it is automatically changed to use action-specific
                              values.
                            enum:
                              - onActionGroupChange
                              - onActiveAlert
                              - onThrottleInterval
                            type: string
                          summary:
                            description: Indicates whether the action is a summary.
                            type: boolean
                          throttle:
                            description: >-
                              The throttle interval, which defines how often an
                              alert generates repeated actions. It is specified
                              in seconds, minutes, hours, or days and is
                              applicable only if `notify_when` is set to
                              `onThrottleInterval`. NOTE: You cannot specify the
                              throttle interval at both the rule and action
                              level. The recommended method is to set it for
                              each action. If you set it at the rule level then
                              update the rule in Kibana, it is automatically
                              changed to use action-specific values.
                            nullable: true
                            type: string
                        required:
                          - summary
                          - notify_when
                          - throttle
                      group:
                        description: >-
                          The group name, which affects when the action runs
                          (for example, when the threshold is met or when the
                          alert is recovered). Each rule type has a list of
                          valid action group names. If you don't need to group
                          actions, set to `default`.
                        type: string
                      id:
                        description: The identifier for the connector saved object.
                        type: string
                      params:
                        additionalProperties: {}
                        default: {}
                        description: >-
                          The parameters for the action, which are sent to the
                          connector. The `params` are handled as Mustache
                          templates and passed a default set of context.
                        type: object
                      use_alert_data_for_template:
                        description: Indicates whether to use alert data as a template.
                        type: boolean
                      uuid:
                        description: A universally unique identifier (UUID) for the action.
                        type: string
                    required:
                      - id
                  type: array
                alert_delay:
                  additionalProperties: false
                  description: >-
                    Indicates that an alert occurs only when the specified
                    number of consecutive runs met the rule conditions.
                  type: object
                  properties:
                    active:
                      description: >-
                        The number of consecutive runs that must meet the rule
                        conditions.
                      type: number
                  required:
                    - active
                name:
                  description: >-
                    The name of the rule. While this name does not have to be
                    unique, a distinctive name can help you identify a rule.
                  type: string
                notify_when:
                  description: >-
                    Indicates how often alerts generate actions. Valid values
                    include: `onActionGroupChange`: Actions run when the alert
                    status changes; `onActiveAlert`: Actions run when the alert
                    becomes active and at each check interval while the rule
                    conditions are met; `onThrottleInterval`: Actions run when
                    the alert becomes active and at the interval specified in
                    the throttle property while the rule conditions are met.
                    NOTE: You cannot specify `notify_when` at both the rule and
                    action level. The recommended method is to set it for each
                    action. If you set it at the rule level then update the rule
                    in Kibana, it is automatically changed to use
                    action-specific values.
                  enum:
                    - onActionGroupChange
                    - onActiveAlert
                    - onThrottleInterval
                  nullable: true
                  type: string
                params:
                  additionalProperties: {}
                  default: {}
                  description: The parameters for the rule.
                  type: object
                schedule:
                  additionalProperties: false
                  type: object
                  properties:
                    interval:
                      description: >-
                        The interval is specified in seconds, minutes, hours, or
                        days.
                      type: string
                  required:
                    - interval
                tags:
                  default: []
                  items:
                    description: The tags for the rule.
                    type: string
                  type: array
                throttle:
                  description: >-
                    Use the `throttle` property in the action `frequency` object
                    instead. The throttle interval, which defines how often an
                    alert generates repeated actions. NOTE: You cannot specify
                    the throttle interval at both the rule and action level. If
                    you set it at the rule level then update the rule in Kibana,
                    it is automatically changed to use action-specific values.
                  nullable: true
                  type: string
              required:
                - name
                - schedule
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  actions:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        alerts_filter:
                          additionalProperties: false
                          description: >-
                            Defines a period that limits whether the action
                            runs.
                          type: object
                          properties:
                            query:
                              additionalProperties: false
                              type: object
                              properties:
                                dsl:
                                  description: >-
                                    A filter written in Elasticsearch Query
                                    Domain Specific Language (DSL).
                                  type: string
                                filters:
                                  description: >-
                                    A filter written in Elasticsearch Query
                                    Domain Specific Language (DSL) as defined in
                                    the `kbn-es-query` package.
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      $state:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          store:
                                            description: >-
                                              A filter can be either specific to an
                                              application context or applied globally.
                                            enum:
                                              - appState
                                              - globalState
                                            type: string
                                        required:
                                          - store
                                      meta:
                                        additionalProperties: {}
                                        type: object
                                      query:
                                        additionalProperties: {}
                                        type: object
                                    required:
                                      - meta
                                  type: array
                                kql:
                                  description: >-
                                    A filter written in Kibana Query Language
                                    (KQL).
                                  type: string
                              required:
                                - kql
                                - filters
                            timeframe:
                              additionalProperties: false
                              type: object
                              properties:
                                days:
                                  description: >-
                                    Defines the days of the week that the action
                                    can run, represented as an array of numbers.
                                    For example, `1` represents Monday. An empty
                                    array is equivalent to specifying all the
                                    days of the week.
                                  items:
                                    enum:
                                      - 1
                                      - 2
                                      - 3
                                      - 4
                                      - 5
                                      - 6
                                      - 7
                                    type: integer
                                  type: array
                                hours:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    end:
                                      description: >-
                                        The end of the time frame in 24-hour
                                        notation (`hh:mm`).
                                      type: string
                                    start:
                                      description: >-
                                        The start of the time frame in 24-hour
                                        notation (`hh:mm`).
                                      type: string
                                  required:
                                    - start
                                    - end
                                timezone:
                                  description: >-
                                    The ISO time zone for the `hours` values.
                                    Values such as `UTC` and `UTC+1` also work
                                    but lack built-in daylight savings time
                                    support and are not recommended.
                                  type: string
                              required:
                                - days
                                - hours
                                - timezone
                        connector_type_id:
                          description: >-
                            The type of connector. This property appears in
                            responses but cannot be set in requests.
                          type: string
                        frequency:
                          additionalProperties: false
                          type: object
                          properties:
                            notify_when:
                              description: >-
                                Indicates how often alerts generate actions.
                                Valid values include: `onActionGroupChange`:
                                Actions run when the alert status changes;
                                `onActiveAlert`: Actions run when the alert
                                becomes active and at each check interval while
                                the rule conditions are met;
                                `onThrottleInterval`: Actions run when the alert
                                becomes active and at the interval specified in
                                the throttle property while the rule conditions
                                are met. NOTE: You cannot specify `notify_when`
                                at both the rule and action level. The
                                recommended method is to set it for each action.
                                If you set it at the rule level then update the
                                rule in Kibana, it is automatically changed to
                                use action-specific values.
                              enum:
                                - onActionGroupChange
                                - onActiveAlert
                                - onThrottleInterval
                              type: string
                            summary:
                              description: Indicates whether the action is a summary.
                              type: boolean
                            throttle:
                              description: >-
                                The throttle interval, which defines how often
                                an alert generates repeated actions. It is
                                specified in seconds, minutes, hours, or days
                                and is applicable only if 'notify_when' is set
                                to 'onThrottleInterval'. NOTE: You cannot
                                specify the throttle interval at both the rule
                                and action level. The recommended method is to
                                set it for each action. If you set it at the
                                rule level then update the rule in Kibana, it is
                                automatically changed to use action-specific
                                values.
                              nullable: true
                              type: string
                          required:
                            - summary
                            - notify_when
                            - throttle
                        group:
                          description: >-
                            The group name, which affects when the action runs
                            (for example, when the threshold is met or when the
                            alert is recovered). Each rule type has a list of
                            valid action group names. If you don't need to group
                            actions, set to `default`.
                          type: string
                        id:
                          description: The identifier for the connector saved object.
                          type: string
                        params:
                          additionalProperties: {}
                          description: >-
                            The parameters for the action, which are sent to the
                            connector. The `params` are handled as Mustache
                            templates and passed a default set of context.
                          type: object
                        use_alert_data_for_template:
                          description: Indicates whether to use alert data as a template.
                          type: boolean
                        uuid:
                          description: >-
                            A universally unique identifier (UUID) for the
                            action.
                          type: string
                      required:
                        - id
                        - connector_type_id
                        - params
                    type: array
                  active_snoozes:
                    items:
                      description: List of active snoozes for the rule.
                      type: string
                    type: array
                  alert_delay:
                    additionalProperties: false
                    description: >-
                      Indicates that an alert occurs only when the specified
                      number of consecutive runs met the rule conditions.
                    type: object
                    properties:
                      active:
                        description: >-
                          The number of consecutive runs that must meet the rule
                          conditions.
                        type: number
                    required:
                      - active
                  api_key_created_by_user:
                    description: >-
                      Indicates whether the API key that is associated with the
                      rule was created by the user.
                    nullable: true
                    type: boolean
                  api_key_owner:
                    description: >-
                      The owner of the API key that is associated with the rule
                      and used to run background tasks.
                    nullable: true
                    type: string
                  consumer:
                    description: >-
                      The name of the application or feature that owns the rule.
                      For example: `alerts`, `apm`, `discover`,
                      `infrastructure`, `logs`, `metrics`, `ml`, `monitoring`,
                      `securitySolution`, `siem`, `stackAlerts`, or `uptime`.
                    type: string
                  created_at:
                    description: The date and time that the rule was created.
                    type: string
                  created_by:
                    description: The identifier for the user that created the rule.
                    nullable: true
                    type: string
                  enabled:
                    description: >-
                      Indicates whether you want to run the rule on an interval
                      basis after it is created.
                    type: boolean
                  execution_status:
                    additionalProperties: false
                    type: object
                    properties:
                      error:
                        additionalProperties: false
                        type: object
                        properties:
                          message:
                            description: Error message.
                            type: string
                          reason:
                            description: Reason for error.
                            enum:
                              - read
                              - decrypt
                              - execute
                              - unknown
                              - license
                              - timeout
                              - disabled
                              - validate
                            type: string
                        required:
                          - reason
                          - message
                      last_duration:
                        description: Duration of last execution of the rule.
                        type: number
                      last_execution_date:
                        description: The date and time when rule was executed last.
                        type: string
                      status:
                        description: Status of rule execution.
                        enum:
                          - ok
                          - active
                          - error
                          - warning
                          - pending
                          - unknown
                        type: string
                      warning:
                        additionalProperties: false
                        type: object
                        properties:
                          message:
                            description: Warning message.
                            type: string
                          reason:
                            description: Reason for warning.
                            enum:
                              - maxExecutableActions
                              - maxAlerts
                              - maxQueuedActions
                              - ruleExecution
                            type: string
                        required:
                          - reason
                          - message
                    required:
                      - status
                      - last_execution_date
                  id:
                    description: The identifier for the rule.
                    type: string
                  is_snoozed_until:
                    description: The date when the rule will no longer be snoozed.
                    nullable: true
                    type: string
                  last_run:
                    additionalProperties: false
                    nullable: true
                    type: object
                    properties:
                      alerts_count:
                        additionalProperties: false
                        type: object
                        properties:
                          active:
                            description: Number of active alerts during last run.
                            nullable: true
                            type: number
                          ignored:
                            description: Number of ignored alerts during last run.
                            nullable: true
                            type: number
                          new:
                            description: Number of new alerts during last run.
                            nullable: true
                            type: number
                          recovered:
                            description: Number of recovered alerts during last run.
                            nullable: true
                            type: number
                      outcome:
                        description: >-
                          Outcome of last run of the rule. Value could be
                          succeeded, warning or failed.
                        enum:
                          - succeeded
                          - warning
                          - failed
                        type: string
                      outcome_msg:
                        items:
                          description: Outcome message generated during last rule run.
                          type: string
                        nullable: true
                        type: array
                      outcome_order:
                        description: Order of the outcome.
                        type: number
                      warning:
                        description: Warning of last rule execution.
                        enum:
                          - read
                          - decrypt
                          - execute
                          - unknown
                          - license
                          - timeout
                          - disabled
                          - validate
                          - maxExecutableActions
                          - maxAlerts
                          - maxQueuedActions
                          - ruleExecution
                        nullable: true
                        type: string
                    required:
                      - outcome
                      - alerts_count
                  mapped_params:
                    additionalProperties: {}
                    type: object
                  monitoring:
                    additionalProperties: false
                    description: Monitoring details of the rule.
                    type: object
                    properties:
                      run:
                        additionalProperties: false
                        description: Rule run details.
                        type: object
                        properties:
                          calculated_metrics:
                            additionalProperties: false
                            description: >-
                              Calculation of different percentiles and success
                              ratio.
                            type: object
                            properties:
                              p50:
                                type: number
                              p95:
                                type: number
                              p99:
                                type: number
                              success_ratio:
                                type: number
                            required:
                              - success_ratio
                          history:
                            description: History of the rule run.
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                duration:
                                  description: Duration of the rule run.
                                  type: number
                                outcome:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    alerts_count:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        active:
                                          description: Number of active alerts during last run.
                                          nullable: true
                                          type: number
                                        ignored:
                                          description: >-
                                            Number of ignored alerts during last
                                            run.
                                          nullable: true
                                          type: number
                                        new:
                                          description: Number of new alerts during last run.
                                          nullable: true
                                          type: number
                                        recovered:
                                          description: >-
                                            Number of recovered alerts during last
                                            run.
                                          nullable: true
                                          type: number
                                    outcome:
                                      description: >-
                                        Outcome of last run of the rule. Value
                                        could be succeeded, warning or failed.
                                      enum:
                                        - succeeded
                                        - warning
                                        - failed
                                      type: string
                                    outcome_msg:
                                      items:
                                        description: >-
                                          Outcome message generated during last
                                          rule run.
                                        type: string
                                      nullable: true
                                      type: array
                                    outcome_order:
                                      description: Order of the outcome.
                                      type: number
                                    warning:
                                      description: Warning of last rule execution.
                                      enum:
                                        - read
                                        - decrypt
                                        - execute
                                        - unknown
                                        - license
                                        - timeout
                                        - disabled
                                        - validate
                                        - maxExecutableActions
                                        - maxAlerts
                                        - maxQueuedActions
                                        - ruleExecution
                                      nullable: true
                                      type: string
                                  required:
                                    - outcome
                                    - alerts_count
                                success:
                                  description: >-
                                    Indicates whether the rule run was
                                    successful.
                                  type: boolean
                                timestamp:
                                  description: Time of rule run.
                                  type: number
                              required:
                                - success
                                - timestamp
                            type: array
                          last_run:
                            additionalProperties: false
                            type: object
                            properties:
                              metrics:
                                additionalProperties: false
                                type: object
                                properties:
                                  duration:
                                    description: Duration of most recent rule run.
                                    type: number
                                  gap_duration_s:
                                    description: Duration in seconds of rule run gap.
                                    nullable: true
                                    type: number
                                  total_alerts_created:
                                    description: >-
                                      Total number of alerts created during last
                                      rule run.
                                    nullable: true
                                    type: number
                                  total_alerts_detected:
                                    description: >-
                                      Total number of alerts detected during
                                      last rule run.
                                    nullable: true
                                    type: number
                                  total_indexing_duration_ms:
                                    description: >-
                                      Total time spent indexing documents during
                                      last rule run in milliseconds.
                                    nullable: true
                                    type: number
                                  total_search_duration_ms:
                                    description: >-
                                      Total time spent performing Elasticsearch
                                      searches as measured by Kibana; includes
                                      network latency and time spent serializing
                                      or deserializing the request and response.
                                    nullable: true
                                    type: number
                              timestamp:
                                description: Time of the most recent rule run.
                                type: string
                            required:
                              - timestamp
                              - metrics
                        required:
                          - history
                          - calculated_metrics
                          - last_run
                    required:
                      - run
                  mute_all:
                    description: Indicates whether all alerts are muted.
                    type: boolean
                  muted_alert_ids:
                    items:
                      description: 'List of identifiers of muted alerts. '
                      type: string
                    type: array
                  name:
                    description: ' The name of the rule.'
                    type: string
                  next_run:
                    description: Date and time of the next run of the rule.
                    nullable: true
                    type: string
                  notify_when:
                    description: >-
                      Indicates how often alerts generate actions. Valid values
                      include: `onActionGroupChange`: Actions run when the alert
                      status changes; `onActiveAlert`: Actions run when the
                      alert becomes active and at each check interval while the
                      rule conditions are met; `onThrottleInterval`: Actions run
                      when the alert becomes active and at the interval
                      specified in the throttle property while the rule
                      conditions are met. NOTE: You cannot specify `notify_when`
                      at both the rule and action level. The recommended method
                      is to set it for each action. If you set it at the rule
                      level then update the rule in Kibana, it is automatically
                      changed to use action-specific values.
                    enum:
                      - onActionGroupChange
                      - onActiveAlert
                      - onThrottleInterval
                    nullable: true
                    type: string
                  params:
                    additionalProperties: {}
                    description: The parameters for the rule.
                    type: object
                  revision:
                    description: The rule revision number.
                    type: number
                  rule_type_id:
                    description: The rule type identifier.
                    type: string
                  running:
                    description: Indicates whether the rule is running.
                    nullable: true
                    type: boolean
                  schedule:
                    additionalProperties: false
                    type: object
                    properties:
                      interval:
                        description: >-
                          The interval is specified in seconds, minutes, hours,
                          or days.
                        type: string
                    required:
                      - interval
                  scheduled_task_id:
                    description: Identifier of the scheduled task.
                    type: string
                  snooze_schedule:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        duration:
                          description: Duration of the rule snooze schedule.
                          type: number
                        id:
                          description: Identifier of the rule snooze schedule.
                          type: string
                        rRule:
                          additionalProperties: false
                          type: object
                          properties:
                            byhour:
                              items:
                                description: Indicates hours of the day to recur.
                                type: number
                              type: array
                            byminute:
                              items:
                                description: Indicates minutes of the hour to recur.
                                type: number
                              type: array
                            bymonth:
                              items:
                                description: >-
                                  Indicates months of the year that this rule
                                  should recur.
                                type: number
                              type: array
                            bymonthday:
                              items:
                                description: Indicates the days of the month to recur.
                                type: number
                              type: array
                            bysecond:
                              items:
                                description: Indicates seconds of the day to recur.
                                type: number
                              type: array
                            bysetpos:
                              items:
                                description: >-
                                  A positive or negative integer affecting the
                                  nth day of the month. For example, -2 combined
                                  with `byweekday` of FR is 2nd to last Friday
                                  of the month. It is recommended to not set
                                  this manually and just use `byweekday`.
                                type: number
                              type: array
                            byweekday:
                              items:
                                anyOf:
                                  - type: string
                                  - type: number
                                description: >-
                                  Indicates the days of the week to recur or
                                  else nth-day-of-month strings. For example,
                                  "+2TU" second Tuesday of month, "-1FR" last
                                  Friday of the month, which are internally
                                  converted to a `byweekday/bysetpos`
                                  combination.
                              type: array
                            byweekno:
                              items:
                                description: Indicates number of the week hours to recur.
                                type: number
                              type: array
                            byyearday:
                              items:
                                description: >-
                                  Indicates the days of the year that this rule
                                  should recur.
                                type: number
                              type: array
                            count:
                              description: >-
                                Number of times the rule should recur until it
                                stops.
                              type: number
                            dtstart:
                              description: >-
                                Rule start date in Coordinated Universal Time
                                (UTC).
                              type: string
                            freq:
                              description: >-
                                Indicates frequency of the rule. Options are
                                YEARLY, MONTHLY, WEEKLY, DAILY.
                              enum:
                                - 0
                                - 1
                                - 2
                                - 3
                                - 4
                                - 5
                                - 6
                              type: integer
                            interval:
                              description: >-
                                Indicates the interval of frequency. For
                                example, 1 and YEARLY is every 1 year, 2 and
                                WEEKLY is every 2 weeks.
                              type: number
                            tzid:
                              description: Indicates timezone abbreviation.
                              type: string
                            until:
                              description: Recur the rule until this date.
                              type: string
                            wkst:
                              description: Indicates the start of week, defaults to Monday.
                              enum:
                                - MO
                                - TU
                                - WE
                                - TH
                                - FR
                                - SA
                                - SU
                              type: string
                          required:
                            - dtstart
                            - tzid
                        skipRecurrences:
                          items:
                            description: Skips recurrence of rule on this date.
                            type: string
                          type: array
                      required:
                        - duration
                        - rRule
                    type: array
                  tags:
                    items:
                      description: The tags for the rule.
                      type: string
                    type: array
                  throttle:
                    deprecated: true
                    description: >-
                      Deprecated in 8.13.0. Use the `throttle` property in the
                      action `frequency` object instead. The throttle interval,
                      which defines how often an alert generates repeated
                      actions. NOTE: You cannot specify the throttle interval at
                      both the rule and action level. If you set it at the rule
                      level then update the rule in Kibana, it is automatically
                      changed to use action-specific values.
                    nullable: true
                    type: string
                  updated_at:
                    description: The date and time that the rule was updated most recently.
                    type: string
                  updated_by:
                    description: >-
                      The identifier for the user that updated this rule most
                      recently.
                    nullable: true
                    type: string
                  view_in_app_relative_url:
                    description: Relative URL to view rule in the app.
                    nullable: true
                    type: string
                required:
                  - id
                  - enabled
                  - name
                  - tags
                  - rule_type_id
                  - consumer
                  - schedule
                  - actions
                  - params
                  - created_by
                  - updated_by
                  - created_at
                  - updated_at
                  - api_key_owner
                  - mute_all
                  - muted_alert_ids
                  - execution_status
                  - revision
          description: Indicates a successful call.
        '400':
          description: Indicates an invalid schema or parameters.
        '403':
          description: Indicates that this call is forbidden.
        '404':
          description: Indicates a rule with the given ID does not exist.
        '409':
          description: Indicates that the rule has already been updated by another user.
      summary: Update a rule
      tags:
        - alerting
  /api/alerting/rule/{id}/_disable:
    post:
      operationId: '%2Fapi%2Falerting%2Frule%2F%7Bid%7D%2F_disable#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: The identifier for the rule.
          in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              nullable: true
              type: object
              properties:
                untrack:
                  description: Defines whether this rule's alerts should be untracked.
                  type: boolean
              x-oas-optional: true
      responses:
        '204':
          description: Indicates a successful call.
        '400':
          description: Indicates an invalid schema.
        '403':
          description: Indicates that this call is forbidden.
        '404':
          description: Indicates a rule with the given ID does not exist.
      summary: Disable a rule
      tags:
        - alerting
  /api/alerting/rule/{id}/_enable:
    post:
      operationId: '%2Fapi%2Falerting%2Frule%2F%7Bid%7D%2F_enable#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: The identifier for the rule.
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Indicates a successful call.
        '400':
          description: Indicates an invalid schema or parameters.
        '403':
          description: Indicates that this call is forbidden.
        '404':
          description: Indicates a rule with the given ID does not exist.
      summary: Enable a rule
      tags:
        - alerting
  /api/alerting/rule/{id}/_mute_all:
    post:
      operationId: '%2Fapi%2Falerting%2Frule%2F%7Bid%7D%2F_mute_all#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: The identifier for the rule.
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Indicates a successful call.
      summary: Mute all alerts
      tags:
        - alerting
  /api/alerting/rule/{id}/_unmute_all:
    post:
      operationId: '%2Fapi%2Falerting%2Frule%2F%7Bid%7D%2F_unmute_all#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: The identifier for the rule.
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Indicates a successful call.
      summary: Unmute all alerts
      tags:
        - alerting
  /api/alerting/rule/{id}/_update_api_key:
    post:
      operationId: '%2Fapi%2Falerting%2Frule%2F%7Bid%7D%2F_update_api_key#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: The identifier for the rule.
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Indicates a successful call.
        '400':
          description: Indicates an invalid schema or parameters.
        '403':
          description: Indicates that this call is forbidden.
        '404':
          description: Indicates a rule with the given ID does not exist.
        '409':
          description: Indicates that the rule has already been updated by another user.
      summary: Update the API key for a rule
      tags:
        - alerting
  /api/alerting/rule/{rule_id}/alert/{alert_id}/_mute:
    post:
      operationId: >-
        %2Fapi%2Falerting%2Frule%2F%7Brule_id%7D%2Falert%2F%7Balert_id%7D%2F_mute#0
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: The identifier for the rule.
          in: path
          name: rule_id
          required: true
          schema:
            type: string
        - description: The identifier for the alert.
          in: path
          name: alert_id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Indicates a successful call.
        '400':
          description: Indicates an invalid schema or parameters.
        '403':
          description: Indicates that this call is forbidden.
        '404':
          description: Indicates a rule or alert with the given ID does not exist.
      summary: Mute an alert
      tags:
        - alerting
  /api/alerting/rule/{rule_id}/alert/{alert_id}/_unmute:
    post:
      operationId: >-
        %2Fapi%2Falerting%2Frule%2F%7Brule_id%7D%2Falert%2F%7Balert_id%7D%2F_unmute#0
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - description: The identifier for the rule.
          in: path
          name: rule_id
          required: true
          schema:
            type: string
        - description: The identifier for the alert.
          in: path
          name: alert_id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Indicates a successful call.
        '400':
          description: Indicates an invalid schema or parameters.
        '403':
          description: Indicates that this call is forbidden.
        '404':
          description: Indicates a rule or alert with the given ID does not exist.
      summary: Unmute an alert
      tags:
        - alerting
  /api/alerting/rules/_find:
    get:
      operationId: '%2Fapi%2Falerting%2Frules%2F_find#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: The number of rules to return per page.
          in: query
          name: per_page
          required: false
          schema:
            default: 10
            minimum: 0
            type: number
        - description: The page number to return.
          in: query
          name: page
          required: false
          schema:
            default: 1
            minimum: 1
            type: number
        - description: >-
            An Elasticsearch simple_query_string query that filters the objects
            in the response.
          in: query
          name: search
          required: false
          schema:
            type: string
        - description: The default operator to use for the simple_query_string.
          in: query
          name: default_search_operator
          required: false
          schema:
            default: OR
            enum:
              - OR
              - AND
            type: string
        - description: The fields to perform the simple_query_string parsed query against.
          in: query
          name: search_fields
          required: false
          schema:
            anyOf:
              - items:
                  type: string
                type: array
              - type: string
        - description: >-
            Determines which field is used to sort the results. The field must
            exist in the `attributes` key of the response.
          in: query
          name: sort_field
          required: false
          schema:
            type: string
        - description: Determines the sort order.
          in: query
          name: sort_order
          required: false
          schema:
            enum:
              - asc
              - desc
            type: string
        - description: >-
            Filters the rules that have a relation with the reference objects
            with a specific type and identifier.
          in: query
          name: has_reference
          required: false
          schema:
            additionalProperties: false
            nullable: true
            type: object
            properties:
              id:
                type: string
              type:
                type: string
            required:
              - type
              - id
        - in: query
          name: fields
          required: false
          schema:
            items:
              description: The fields to return in the `attributes` key of the response.
              type: string
            type: array
        - description: >-
            A KQL string that you filter with an attribute from your saved
            object. It should look like `savedObjectType.attributes.title:
            "myTitle"`. However, if you used a direct attribute of a saved
            object, such as `updatedAt`, you must define your filter, for
            example, `savedObjectType.updatedAt > 2018-12-22`.
          in: query
          name: filter
          required: false
          schema:
            type: string
        - in: query
          name: filter_consumers
          required: false
          schema:
            items:
              description: List of consumers to filter.
              type: string
            type: array
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  actions:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        alerts_filter:
                          additionalProperties: false
                          description: >-
                            Defines a period that limits whether the action
                            runs.
                          type: object
                          properties:
                            query:
                              additionalProperties: false
                              type: object
                              properties:
                                dsl:
                                  description: >-
                                    A filter written in Elasticsearch Query
                                    Domain Specific Language (DSL).
                                  type: string
                                filters:
                                  description: >-
                                    A filter written in Elasticsearch Query
                                    Domain Specific Language (DSL) as defined in
                                    the `kbn-es-query` package.
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      $state:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          store:
                                            description: >-
                                              A filter can be either specific to an
                                              application context or applied globally.
                                            enum:
                                              - appState
                                              - globalState
                                            type: string
                                        required:
                                          - store
                                      meta:
                                        additionalProperties: {}
                                        type: object
                                      query:
                                        additionalProperties: {}
                                        type: object
                                    required:
                                      - meta
                                  type: array
                                kql:
                                  description: >-
                                    A filter written in Kibana Query Language
                                    (KQL).
                                  type: string
                              required:
                                - kql
                                - filters
                            timeframe:
                              additionalProperties: false
                              type: object
                              properties:
                                days:
                                  description: >-
                                    Defines the days of the week that the action
                                    can run, represented as an array of numbers.
                                    For example, `1` represents Monday. An empty
                                    array is equivalent to specifying all the
                                    days of the week.
                                  items:
                                    enum:
                                      - 1
                                      - 2
                                      - 3
                                      - 4
                                      - 5
                                      - 6
                                      - 7
                                    type: integer
                                  type: array
                                hours:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    end:
                                      description: >-
                                        The end of the time frame in 24-hour
                                        notation (`hh:mm`).
                                      type: string
                                    start:
                                      description: >-
                                        The start of the time frame in 24-hour
                                        notation (`hh:mm`).
                                      type: string
                                  required:
                                    - start
                                    - end
                                timezone:
                                  description: >-
                                    The ISO time zone for the `hours` values.
                                    Values such as `UTC` and `UTC+1` also work
                                    but lack built-in daylight savings time
                                    support and are not recommended.
                                  type: string
                              required:
                                - days
                                - hours
                                - timezone
                        connector_type_id:
                          description: >-
                            The type of connector. This property appears in
                            responses but cannot be set in requests.
                          type: string
                        frequency:
                          additionalProperties: false
                          type: object
                          properties:
                            notify_when:
                              description: >-
                                Indicates how often alerts generate actions.
                                Valid values include: `onActionGroupChange`:
                                Actions run when the alert status changes;
                                `onActiveAlert`: Actions run when the alert
                                becomes active and at each check interval while
                                the rule conditions are met;
                                `onThrottleInterval`: Actions run when the alert
                                becomes active and at the interval specified in
                                the throttle property while the rule conditions
                                are met. NOTE: You cannot specify `notify_when`
                                at both the rule and action level. The
                                recommended method is to set it for each action.
                                If you set it at the rule level then update the
                                rule in Kibana, it is automatically changed to
                                use action-specific values.
                              enum:
                                - onActionGroupChange
                                - onActiveAlert
                                - onThrottleInterval
                              type: string
                            summary:
                              description: Indicates whether the action is a summary.
                              type: boolean
                            throttle:
                              description: >-
                                The throttle interval, which defines how often
                                an alert generates repeated actions. It is
                                specified in seconds, minutes, hours, or days
                                and is applicable only if 'notify_when' is set
                                to 'onThrottleInterval'. NOTE: You cannot
                                specify the throttle interval at both the rule
                                and action level. The recommended method is to
                                set it for each action. If you set it at the
                                rule level then update the rule in Kibana, it is
                                automatically changed to use action-specific
                                values.
                              nullable: true
                              type: string
                          required:
                            - summary
                            - notify_when
                            - throttle
                        group:
                          description: >-
                            The group name, which affects when the action runs
                            (for example, when the threshold is met or when the
                            alert is recovered). Each rule type has a list of
                            valid action group names. If you don't need to group
                            actions, set to `default`.
                          type: string
                        id:
                          description: The identifier for the connector saved object.
                          type: string
                        params:
                          additionalProperties: {}
                          description: >-
                            The parameters for the action, which are sent to the
                            connector. The `params` are handled as Mustache
                            templates and passed a default set of context.
                          type: object
                        use_alert_data_for_template:
                          description: Indicates whether to use alert data as a template.
                          type: boolean
                        uuid:
                          description: >-
                            A universally unique identifier (UUID) for the
                            action.
                          type: string
                      required:
                        - id
                        - connector_type_id
                        - params
                    type: array
                  active_snoozes:
                    items:
                      description: List of active snoozes for the rule.
                      type: string
                    type: array
                  alert_delay:
                    additionalProperties: false
                    description: >-
                      Indicates that an alert occurs only when the specified
                      number of consecutive runs met the rule conditions.
                    type: object
                    properties:
                      active:
                        description: >-
                          The number of consecutive runs that must meet the rule
                          conditions.
                        type: number
                    required:
                      - active
                  api_key_created_by_user:
                    description: >-
                      Indicates whether the API key that is associated with the
                      rule was created by the user.
                    nullable: true
                    type: boolean
                  api_key_owner:
                    description: >-
                      The owner of the API key that is associated with the rule
                      and used to run background tasks.
                    nullable: true
                    type: string
                  consumer:
                    description: >-
                      The name of the application or feature that owns the rule.
                      For example: `alerts`, `apm`, `discover`,
                      `infrastructure`, `logs`, `metrics`, `ml`, `monitoring`,
                      `securitySolution`, `siem`, `stackAlerts`, or `uptime`.
                    type: string
                  created_at:
                    description: The date and time that the rule was created.
                    type: string
                  created_by:
                    description: The identifier for the user that created the rule.
                    nullable: true
                    type: string
                  enabled:
                    description: >-
                      Indicates whether you want to run the rule on an interval
                      basis after it is created.
                    type: boolean
                  execution_status:
                    additionalProperties: false
                    type: object
                    properties:
                      error:
                        additionalProperties: false
                        type: object
                        properties:
                          message:
                            description: Error message.
                            type: string
                          reason:
                            description: Reason for error.
                            enum:
                              - read
                              - decrypt
                              - execute
                              - unknown
                              - license
                              - timeout
                              - disabled
                              - validate
                            type: string
                        required:
                          - reason
                          - message
                      last_duration:
                        description: Duration of last execution of the rule.
                        type: number
                      last_execution_date:
                        description: The date and time when rule was executed last.
                        type: string
                      status:
                        description: Status of rule execution.
                        enum:
                          - ok
                          - active
                          - error
                          - warning
                          - pending
                          - unknown
                        type: string
                      warning:
                        additionalProperties: false
                        type: object
                        properties:
                          message:
                            description: Warning message.
                            type: string
                          reason:
                            description: Reason for warning.
                            enum:
                              - maxExecutableActions
                              - maxAlerts
                              - maxQueuedActions
                              - ruleExecution
                            type: string
                        required:
                          - reason
                          - message
                    required:
                      - status
                      - last_execution_date
                  id:
                    description: The identifier for the rule.
                    type: string
                  is_snoozed_until:
                    description: The date when the rule will no longer be snoozed.
                    nullable: true
                    type: string
                  last_run:
                    additionalProperties: false
                    nullable: true
                    type: object
                    properties:
                      alerts_count:
                        additionalProperties: false
                        type: object
                        properties:
                          active:
                            description: Number of active alerts during last run.
                            nullable: true
                            type: number
                          ignored:
                            description: Number of ignored alerts during last run.
                            nullable: true
                            type: number
                          new:
                            description: Number of new alerts during last run.
                            nullable: true
                            type: number
                          recovered:
                            description: Number of recovered alerts during last run.
                            nullable: true
                            type: number
                      outcome:
                        description: >-
                          Outcome of last run of the rule. Value could be
                          succeeded, warning or failed.
                        enum:
                          - succeeded
                          - warning
                          - failed
                        type: string
                      outcome_msg:
                        items:
                          description: Outcome message generated during last rule run.
                          type: string
                        nullable: true
                        type: array
                      outcome_order:
                        description: Order of the outcome.
                        type: number
                      warning:
                        description: Warning of last rule execution.
                        enum:
                          - read
                          - decrypt
                          - execute
                          - unknown
                          - license
                          - timeout
                          - disabled
                          - validate
                          - maxExecutableActions
                          - maxAlerts
                          - maxQueuedActions
                          - ruleExecution
                        nullable: true
                        type: string
                    required:
                      - outcome
                      - alerts_count
                  mapped_params:
                    additionalProperties: {}
                    type: object
                  monitoring:
                    additionalProperties: false
                    description: Monitoring details of the rule.
                    type: object
                    properties:
                      run:
                        additionalProperties: false
                        description: Rule run details.
                        type: object
                        properties:
                          calculated_metrics:
                            additionalProperties: false
                            description: >-
                              Calculation of different percentiles and success
                              ratio.
                            type: object
                            properties:
                              p50:
                                type: number
                              p95:
                                type: number
                              p99:
                                type: number
                              success_ratio:
                                type: number
                            required:
                              - success_ratio
                          history:
                            description: History of the rule run.
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                duration:
                                  description: Duration of the rule run.
                                  type: number
                                outcome:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    alerts_count:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        active:
                                          description: Number of active alerts during last run.
                                          nullable: true
                                          type: number
                                        ignored:
                                          description: >-
                                            Number of ignored alerts during last
                                            run.
                                          nullable: true
                                          type: number
                                        new:
                                          description: Number of new alerts during last run.
                                          nullable: true
                                          type: number
                                        recovered:
                                          description: >-
                                            Number of recovered alerts during last
                                            run.
                                          nullable: true
                                          type: number
                                    outcome:
                                      description: >-
                                        Outcome of last run of the rule. Value
                                        could be succeeded, warning or failed.
                                      enum:
                                        - succeeded
                                        - warning
                                        - failed
                                      type: string
                                    outcome_msg:
                                      items:
                                        description: >-
                                          Outcome message generated during last
                                          rule run.
                                        type: string
                                      nullable: true
                                      type: array
                                    outcome_order:
                                      description: Order of the outcome.
                                      type: number
                                    warning:
                                      description: Warning of last rule execution.
                                      enum:
                                        - read
                                        - decrypt
                                        - execute
                                        - unknown
                                        - license
                                        - timeout
                                        - disabled
                                        - validate
                                        - maxExecutableActions
                                        - maxAlerts
                                        - maxQueuedActions
                                        - ruleExecution
                                      nullable: true
                                      type: string
                                  required:
                                    - outcome
                                    - alerts_count
                                success:
                                  description: >-
                                    Indicates whether the rule run was
                                    successful.
                                  type: boolean
                                timestamp:
                                  description: Time of rule run.
                                  type: number
                              required:
                                - success
                                - timestamp
                            type: array
                          last_run:
                            additionalProperties: false
                            type: object
                            properties:
                              metrics:
                                additionalProperties: false
                                type: object
                                properties:
                                  duration:
                                    description: Duration of most recent rule run.
                                    type: number
                                  gap_duration_s:
                                    description: Duration in seconds of rule run gap.
                                    nullable: true
                                    type: number
                                  total_alerts_created:
                                    description: >-
                                      Total number of alerts created during last
                                      rule run.
                                    nullable: true
                                    type: number
                                  total_alerts_detected:
                                    description: >-
                                      Total number of alerts detected during
                                      last rule run.
                                    nullable: true
                                    type: number
                                  total_indexing_duration_ms:
                                    description: >-
                                      Total time spent indexing documents during
                                      last rule run in milliseconds.
                                    nullable: true
                                    type: number
                                  total_search_duration_ms:
                                    description: >-
                                      Total time spent performing Elasticsearch
                                      searches as measured by Kibana; includes
                                      network latency and time spent serializing
                                      or deserializing the request and response.
                                    nullable: true
                                    type: number
                              timestamp:
                                description: Time of the most recent rule run.
                                type: string
                            required:
                              - timestamp
                              - metrics
                        required:
                          - history
                          - calculated_metrics
                          - last_run
                    required:
                      - run
                  mute_all:
                    description: Indicates whether all alerts are muted.
                    type: boolean
                  muted_alert_ids:
                    items:
                      description: 'List of identifiers of muted alerts. '
                      type: string
                    type: array
                  name:
                    description: ' The name of the rule.'
                    type: string
                  next_run:
                    description: Date and time of the next run of the rule.
                    nullable: true
                    type: string
                  notify_when:
                    description: >-
                      Indicates how often alerts generate actions. Valid values
                      include: `onActionGroupChange`: Actions run when the alert
                      status changes; `onActiveAlert`: Actions run when the
                      alert becomes active and at each check interval while the
                      rule conditions are met; `onThrottleInterval`: Actions run
                      when the alert becomes active and at the interval
                      specified in the throttle property while the rule
                      conditions are met. NOTE: You cannot specify `notify_when`
                      at both the rule and action level. The recommended method
                      is to set it for each action. If you set it at the rule
                      level then update the rule in Kibana, it is automatically
                      changed to use action-specific values.
                    enum:
                      - onActionGroupChange
                      - onActiveAlert
                      - onThrottleInterval
                    nullable: true
                    type: string
                  params:
                    additionalProperties: {}
                    description: The parameters for the rule.
                    type: object
                  revision:
                    description: The rule revision number.
                    type: number
                  rule_type_id:
                    description: The rule type identifier.
                    type: string
                  running:
                    description: Indicates whether the rule is running.
                    nullable: true
                    type: boolean
                  schedule:
                    additionalProperties: false
                    type: object
                    properties:
                      interval:
                        description: >-
                          The interval is specified in seconds, minutes, hours,
                          or days.
                        type: string
                    required:
                      - interval
                  scheduled_task_id:
                    description: Identifier of the scheduled task.
                    type: string
                  snooze_schedule:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        duration:
                          description: Duration of the rule snooze schedule.
                          type: number
                        id:
                          description: Identifier of the rule snooze schedule.
                          type: string
                        rRule:
                          additionalProperties: false
                          type: object
                          properties:
                            byhour:
                              items:
                                description: Indicates hours of the day to recur.
                                type: number
                              type: array
                            byminute:
                              items:
                                description: Indicates minutes of the hour to recur.
                                type: number
                              type: array
                            bymonth:
                              items:
                                description: >-
                                  Indicates months of the year that this rule
                                  should recur.
                                type: number
                              type: array
                            bymonthday:
                              items:
                                description: Indicates the days of the month to recur.
                                type: number
                              type: array
                            bysecond:
                              items:
                                description: Indicates seconds of the day to recur.
                                type: number
                              type: array
                            bysetpos:
                              items:
                                description: >-
                                  A positive or negative integer affecting the
                                  nth day of the month. For example, -2 combined
                                  with `byweekday` of FR is 2nd to last Friday
                                  of the month. It is recommended to not set
                                  this manually and just use `byweekday`.
                                type: number
                              type: array
                            byweekday:
                              items:
                                anyOf:
                                  - type: string
                                  - type: number
                                description: >-
                                  Indicates the days of the week to recur or
                                  else nth-day-of-month strings. For example,
                                  "+2TU" second Tuesday of month, "-1FR" last
                                  Friday of the month, which are internally
                                  converted to a `byweekday/bysetpos`
                                  combination.
                              type: array
                            byweekno:
                              items:
                                description: Indicates number of the week hours to recur.
                                type: number
                              type: array
                            byyearday:
                              items:
                                description: >-
                                  Indicates the days of the year that this rule
                                  should recur.
                                type: number
                              type: array
                            count:
                              description: >-
                                Number of times the rule should recur until it
                                stops.
                              type: number
                            dtstart:
                              description: >-
                                Rule start date in Coordinated Universal Time
                                (UTC).
                              type: string
                            freq:
                              description: >-
                                Indicates frequency of the rule. Options are
                                YEARLY, MONTHLY, WEEKLY, DAILY.
                              enum:
                                - 0
                                - 1
                                - 2
                                - 3
                                - 4
                                - 5
                                - 6
                              type: integer
                            interval:
                              description: >-
                                Indicates the interval of frequency. For
                                example, 1 and YEARLY is every 1 year, 2 and
                                WEEKLY is every 2 weeks.
                              type: number
                            tzid:
                              description: Indicates timezone abbreviation.
                              type: string
                            until:
                              description: Recur the rule until this date.
                              type: string
                            wkst:
                              description: Indicates the start of week, defaults to Monday.
                              enum:
                                - MO
                                - TU
                                - WE
                                - TH
                                - FR
                                - SA
                                - SU
                              type: string
                          required:
                            - dtstart
                            - tzid
                        skipRecurrences:
                          items:
                            description: Skips recurrence of rule on this date.
                            type: string
                          type: array
                      required:
                        - duration
                        - rRule
                    type: array
                  tags:
                    items:
                      description: The tags for the rule.
                      type: string
                    type: array
                  throttle:
                    deprecated: true
                    description: >-
                      Deprecated in 8.13.0. Use the `throttle` property in the
                      action `frequency` object instead. The throttle interval,
                      which defines how often an alert generates repeated
                      actions. NOTE: You cannot specify the throttle interval at
                      both the rule and action level. If you set it at the rule
                      level then update the rule in Kibana, it is automatically
                      changed to use action-specific values.
                    nullable: true
                    type: string
                  updated_at:
                    description: The date and time that the rule was updated most recently.
                    type: string
                  updated_by:
                    description: >-
                      The identifier for the user that updated this rule most
                      recently.
                    nullable: true
                    type: string
                  view_in_app_relative_url:
                    description: Relative URL to view rule in the app.
                    nullable: true
                    type: string
                required:
                  - id
                  - enabled
                  - name
                  - tags
                  - rule_type_id
                  - consumer
                  - schedule
                  - actions
                  - params
                  - created_by
                  - updated_by
                  - created_at
                  - updated_at
                  - api_key_owner
                  - mute_all
                  - muted_alert_ids
                  - execution_status
                  - revision
          description: Indicates a successful call.
        '400':
          description: Indicates an invalid schema or parameters.
        '403':
          description: Indicates that this call is forbidden.
      summary: Get information about rules
      tags:
        - alerting
  /api/apm/agent_keys:
    post:
      description: Create a new agent key for APM.
      operationId: createAgentKey
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              type: object
              properties:
                name:
                  type: string
                privileges:
                  items:
                    enum:
                      - event:write
                      - config_agent:read
                    type: string
                  type: array
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: object
                properties:
                  api_key:
                    type: string
                  encoded:
                    type: string
                  expiration:
                    format: int64
                    type: integer
                  id:
                    type: string
                  name:
                    type: string
          description: Agent key created successfully
      summary: Create an APM agent key
      tags:
        - APM agent keys
  /api/apm/services/{serviceName}/annotation:
    post:
      description: Create a new annotation for a specific service.
      operationId: createAnnotation
      parameters:
        - description: The name of the service
          in: path
          name: serviceName
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              type: object
              properties:
                '@timestamp':
                  type: string
                message:
                  type: string
                service:
                  type: object
                  properties:
                    environment:
                      type: string
                    version:
                      type: string
                tags:
                  items:
                    type: string
                  type: array
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                  _index:
                    type: string
                  _source:
                    type: object
                    properties:
                      '@timestamp':
                        type: string
                      annotation:
                        type: string
                      event:
                        type: object
                        properties:
                          created:
                            type: string
                      message:
                        type: string
                      service:
                        type: object
                        properties:
                          environment:
                            type: string
                          name:
                            type: string
                          version:
                            type: string
                      tags:
                        items:
                          type: string
                        type: array
          description: Annotation created successfully
      summary: Create a service annotation
      tags:
        - APM annotations
  /api/apm/services/{serviceName}/annotation/search:
    get:
      description: Search for annotations related to a specific service.
      operationId: getAnnotation
      parameters:
        - description: The name of the service
          in: path
          name: serviceName
          required: true
          schema:
            type: string
        - description: The environment to filter annotations by
          in: query
          name: environment
          required: false
          schema:
            type: string
        - description: The start date for the search
          in: query
          name: start
          required: false
          schema:
            type: string
        - description: The end date for the search
          in: query
          name: end
          required: false
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: object
                properties:
                  annotations:
                    items:
                      type: object
                      properties:
                        '@timestamp':
                          type: number
                        id:
                          type: string
                        text:
                          type: string
                        type:
                          enum:
                            - version
                          type: string
                    type: array
          description: Successful response
      summary: Search for annotations
      tags:
        - APM annotations
  /api/data_views:
    get:
      operationId: getAllDataViewsDefault
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              examples:
                getAllDataViewsResponse:
                  $ref: '#/components/examples/Data_views_get_data_views_response'
              schema:
                type: object
                properties:
                  data_view:
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        namespaces:
                          items:
                            type: string
                          type: array
                        title:
                          type: string
                        typeMeta:
                          type: object
                    type: array
          description: Indicates a successful call.
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_400_response'
          description: Bad request
      summary: Get all data views
      tags:
        - data views
  /api/data_views/data_view:
    post:
      operationId: createDataViewDefaultw
      parameters:
        - $ref: '#/components/parameters/Data_views_kbn_xsrf'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            examples:
              createDataViewRequest:
                $ref: '#/components/examples/Data_views_create_data_view_request'
            schema:
              $ref: '#/components/schemas/Data_views_create_data_view_request_object'
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_data_view_response_object'
          description: Indicates a successful call.
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_400_response'
          description: Bad request
      summary: Create a data view
      tags:
        - data views
  /api/data_views/data_view/{viewId}:
    delete:
      description: |
        WARNING: When you delete a data view, it cannot be recovered.
      operationId: deleteDataViewDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_kbn_xsrf'
        - $ref: '#/components/parameters/Data_views_view_id'
      responses:
        '204':
          description: Indicates a successful call.
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_404_response'
          description: Object is not found.
      summary: Delete a data view
      tags:
        - data views
    get:
      operationId: getDataViewDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_view_id'
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              examples:
                getDataViewResponse:
                  $ref: '#/components/examples/Data_views_get_data_view_response'
              schema:
                $ref: '#/components/schemas/Data_views_data_view_response_object'
          description: Indicates a successful call.
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_404_response'
          description: Object is not found.
      summary: Get a data view
      tags:
        - data views
    post:
      operationId: updateDataViewDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_kbn_xsrf'
        - $ref: '#/components/parameters/Data_views_view_id'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            examples:
              updateDataViewRequest:
                $ref: '#/components/examples/Data_views_update_data_view_request'
            schema:
              $ref: '#/components/schemas/Data_views_update_data_view_request_object'
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_data_view_response_object'
          description: Indicates a successful call.
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_400_response'
          description: Bad request
      summary: Update a data view
      tags:
        - data views
  /api/data_views/data_view/{viewId}/fields:
    post:
      description: >
        Update fields presentation metadata such as count, customLabel,
        customDescription, and format.
      operationId: updateFieldsMetadataDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_kbn_xsrf'
        - $ref: '#/components/parameters/Data_views_view_id'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            examples:
              updateFieldsMetadataRequest:
                $ref: '#/components/examples/Data_views_update_field_metadata_request'
            schema:
              type: object
              properties:
                fields:
                  description: The field object.
                  type: object
              required:
                - fields
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: object
                properties:
                  acknowledged:
                    type: boolean
          description: Indicates a successful call.
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_400_response'
          description: Bad request
      summary: Update data view fields metadata
      tags:
        - data views
  /api/data_views/data_view/{viewId}/runtime_field:
    post:
      operationId: createRuntimeFieldDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_kbn_xsrf'
        - $ref: '#/components/parameters/Data_views_view_id'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            examples:
              createRuntimeFieldRequest:
                $ref: '#/components/examples/Data_views_create_runtime_field_request'
            schema:
              type: object
              properties:
                name:
                  description: |
                    The name for a runtime field.
                  type: string
                runtimeField:
                  description: |
                    The runtime field definition object.
                  type: object
              required:
                - name
                - runtimeField
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: object
          description: Indicates a successful call.
      summary: Create a runtime field
      tags:
        - data views
    put:
      operationId: createUpdateRuntimeFieldDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_kbn_xsrf'
        - description: |
            The ID of the data view fields you want to update.
          in: path
          name: viewId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            examples:
              updateRuntimeFieldRequest:
                $ref: '#/components/examples/Data_views_create_runtime_field_request'
            schema:
              type: object
              properties:
                name:
                  description: |
                    The name for a runtime field.
                  type: string
                runtimeField:
                  description: |
                    The runtime field definition object.
                  type: object
              required:
                - name
                - runtimeField
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: object
                properties:
                  data_view:
                    type: object
                  fields:
                    items:
                      type: object
                    type: array
          description: Indicates a successful call.
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_400_response'
          description: Bad request
      summary: Create or update a runtime field
      tags:
        - data views
  /api/data_views/data_view/{viewId}/runtime_field/{fieldName}:
    delete:
      operationId: deleteRuntimeFieldDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_field_name'
        - $ref: '#/components/parameters/Data_views_view_id'
      responses:
        '200':
          description: Indicates a successful call.
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_404_response'
          description: Object is not found.
      summary: Delete a runtime field from a data view
      tags:
        - data views
    get:
      operationId: getRuntimeFieldDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_field_name'
        - $ref: '#/components/parameters/Data_views_view_id'
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              examples:
                getRuntimeFieldResponse:
                  $ref: '#/components/examples/Data_views_get_runtime_field_response'
              schema:
                type: object
                properties:
                  data_view:
                    type: object
                  fields:
                    items:
                      type: object
                    type: array
          description: Indicates a successful call.
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_404_response'
          description: Object is not found.
      summary: Get a runtime field
      tags:
        - data views
    post:
      operationId: updateRuntimeFieldDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_field_name'
        - $ref: '#/components/parameters/Data_views_view_id'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            examples:
              updateRuntimeFieldRequest:
                $ref: '#/components/examples/Data_views_update_runtime_field_request'
            schema:
              type: object
              properties:
                runtimeField:
                  description: |
                    The runtime field definition object.

                    You can update following fields:

                    - `type`
                    - `script`
                  type: object
              required:
                - runtimeField
        required: true
      responses:
        '200':
          description: Indicates a successful call.
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_400_response'
          description: Bad request
      summary: Update a runtime field
      tags:
        - data views
  /api/data_views/default:
    get:
      operationId: getDefaultDataViewDefault
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              examples:
                getDefaultDataViewResponse:
                  $ref: >-
                    #/components/examples/Data_views_get_default_data_view_response
              schema:
                type: object
                properties:
                  data_view_id:
                    type: string
          description: Indicates a successful call.
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_400_response'
          description: Bad request
      summary: Get the default data view
      tags:
        - data views
    post:
      operationId: setDefaultDatailViewDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_kbn_xsrf'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            examples:
              setDefaultDataViewRequest:
                $ref: '#/components/examples/Data_views_set_default_data_view_request'
            schema:
              type: object
              properties:
                data_view_id:
                  description: >
                    The data view identifier. NOTE: The API does not validate
                    whether it is a valid identifier. Use `null` to unset the
                    default data view.
                  nullable: true
                  type: string
                force:
                  default: false
                  description: Update an existing default data view identifier.
                  type: boolean
              required:
                - data_view_id
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: object
                properties:
                  acknowledged:
                    type: boolean
          description: Indicates a successful call.
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Data_views_400_response'
          description: Bad request
      summary: Set the default data view
      tags:
        - data views
  /api/data_views/swap_references:
    post:
      description: >
        Changes saved object references from one data view identifier to
        another. WARNING: Misuse can break large numbers of saved objects!
        Practicing with a backup is recommended.
      operationId: swapDataViewsDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_kbn_xsrf'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            examples:
              swapDataViewRequest:
                $ref: '#/components/examples/Data_views_swap_data_view_request'
            schema:
              $ref: '#/components/schemas/Data_views_swap_data_view_request_object'
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: object
                properties:
                  deleteStatus:
                    type: object
                    properties:
                      deletePerformed:
                        type: boolean
                      remainingRefs:
                        type: integer
                  result:
                    items:
                      type: object
                      properties:
                        id:
                          description: A saved object identifier.
                          type: string
                        type:
                          description: The saved object type.
                          type: string
                    type: array
          description: Indicates a successful call.
      summary: Swap saved object references
      tags:
        - data views
  /api/data_views/swap_references/_preview:
    post:
      description: >
        Preview the impact of swapping saved object references from one data
        view identifier to another.
      operationId: previewSwapDataViewsDefault
      parameters:
        - $ref: '#/components/parameters/Data_views_kbn_xsrf'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            examples:
              previewSwapDataViewRequest:
                $ref: >-
                  #/components/examples/Data_views_preview_swap_data_view_request
            schema:
              $ref: '#/components/schemas/Data_views_swap_data_view_request_object'
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: object
                properties:
                  result:
                    items:
                      type: object
                      properties:
                        id:
                          description: A saved object identifier.
                          type: string
                        type:
                          description: The saved object type.
                          type: string
                    type: array
          description: Indicates a successful call.
      summary: Preview a saved object reference swap
      tags:
        - data views
  /api/fleet/agent_download_sources:
    get:
      description: List agent binary download sources
      operationId: '%2Fapi%2Ffleet%2Fagent_download_sources#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        host:
                          format: uri
                          type: string
                        id:
                          type: string
                        is_default:
                          default: false
                          type: boolean
                        name:
                          type: string
                        proxy_id:
                          description: >-
                            The ID of the proxy to use for this download source.
                            See the proxies API for more information.
                          nullable: true
                          type: string
                      required:
                        - id
                        - name
                        - host
                    type: array
                  page:
                    type: number
                  perPage:
                    type: number
                  total:
                    type: number
                required:
                  - items
                  - total
                  - page
                  - perPage
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent binary download sources
    post:
      description: Create agent binary download source
      operationId: '%2Fapi%2Ffleet%2Fagent_download_sources#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                host:
                  format: uri
                  type: string
                id:
                  type: string
                is_default:
                  default: false
                  type: boolean
                name:
                  type: string
                proxy_id:
                  description: >-
                    The ID of the proxy to use for this download source. See the
                    proxies API for more information.
                  nullable: true
                  type: string
              required:
                - name
                - host
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      host:
                        format: uri
                        type: string
                      id:
                        type: string
                      is_default:
                        default: false
                        type: boolean
                      name:
                        type: string
                      proxy_id:
                        description: >-
                          The ID of the proxy to use for this download source.
                          See the proxies API for more information.
                        nullable: true
                        type: string
                    required:
                      - id
                      - name
                      - host
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent binary download sources
  /api/fleet/agent_download_sources/{sourceId}:
    delete:
      description: Delete agent binary download source by ID
      operationId: '%2Fapi%2Ffleet%2Fagent_download_sources%2F%7BsourceId%7D#2'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: sourceId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  id:
                    type: string
                required:
                  - id
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent binary download sources
    get:
      description: Get agent binary download source by ID
      operationId: '%2Fapi%2Ffleet%2Fagent_download_sources%2F%7BsourceId%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: sourceId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      host:
                        format: uri
                        type: string
                      id:
                        type: string
                      is_default:
                        default: false
                        type: boolean
                      name:
                        type: string
                      proxy_id:
                        description: >-
                          The ID of the proxy to use for this download source.
                          See the proxies API for more information.
                        nullable: true
                        type: string
                    required:
                      - id
                      - name
                      - host
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent binary download sources
    put:
      description: Update agent binary download source by ID
      operationId: '%2Fapi%2Ffleet%2Fagent_download_sources%2F%7BsourceId%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: sourceId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                host:
                  format: uri
                  type: string
                id:
                  type: string
                is_default:
                  default: false
                  type: boolean
                name:
                  type: string
                proxy_id:
                  description: >-
                    The ID of the proxy to use for this download source. See the
                    proxies API for more information.
                  nullable: true
                  type: string
              required:
                - name
                - host
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      host:
                        format: uri
                        type: string
                      id:
                        type: string
                      is_default:
                        default: false
                        type: boolean
                      name:
                        type: string
                      proxy_id:
                        description: >-
                          The ID of the proxy to use for this download source.
                          See the proxies API for more information.
                        nullable: true
                        type: string
                    required:
                      - id
                      - name
                      - host
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent binary download sources
  /api/fleet/agent_policies:
    get:
      description: List agent policies
      operationId: '%2Fapi%2Ffleet%2Fagent_policies#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: page
          required: false
          schema:
            type: number
        - in: query
          name: perPage
          required: false
          schema:
            type: number
        - in: query
          name: sortField
          required: false
          schema:
            type: string
        - in: query
          name: sortOrder
          required: false
          schema:
            enum:
              - desc
              - asc
            type: string
        - in: query
          name: showUpgradeable
          required: false
          schema:
            type: boolean
        - in: query
          name: kuery
          required: false
          schema:
            type: string
        - in: query
          name: noAgentCount
          required: false
          schema:
            type: boolean
        - in: query
          name: full
          required: false
          schema:
            type: boolean
        - in: query
          name: format
          required: false
          schema:
            enum:
              - simplified
              - legacy
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        advanced_settings:
                          additionalProperties: false
                          type: object
                          properties:
                            agent_download_target_directory:
                              nullable: true
                            agent_download_timeout:
                              default: 2h
                              nullable: true
                            agent_limits_go_max_procs:
                              nullable: true
                            agent_logging_level:
                              default: info
                              nullable: true
                            agent_logging_metrics_period:
                              default: 30s
                              nullable: true
                        agent_features:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              enabled:
                                type: boolean
                              name:
                                type: string
                            required:
                              - name
                              - enabled
                          type: array
                        agents:
                          type: number
                        data_output_id:
                          nullable: true
                          type: string
                        description:
                          type: string
                        download_source_id:
                          nullable: true
                          type: string
                        fleet_server_host_id:
                          nullable: true
                          type: string
                        global_data_tags:
                          description: >-
                            User defined data tags that are added to all of the
                            inputs. The values can be strings or numbers.
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              name:
                                type: string
                              value:
                                anyOf:
                                  - type: string
                                  - type: number
                            required:
                              - name
                              - value
                          type: array
                        has_fleet_server:
                          type: boolean
                        id:
                          type: string
                        inactivity_timeout:
                          default: 1209600
                          minimum: 0
                          type: number
                        is_default:
                          type: boolean
                        is_default_fleet_server:
                          type: boolean
                        is_managed:
                          type: boolean
                        is_preconfigured:
                          type: boolean
                        is_protected:
                          description: >-
                            Indicates whether the agent policy has tamper
                            protection enabled. Default false.
                          type: boolean
                        keep_monitoring_alive:
                          default: false
                          description: >-
                            When set to true, monitoring will be enabled but
                            logs/metrics collection will be disabled
                          nullable: true
                          type: boolean
                        monitoring_diagnostics:
                          additionalProperties: false
                          type: object
                          properties:
                            limit:
                              additionalProperties: false
                              type: object
                              properties:
                                burst:
                                  type: number
                                interval:
                                  type: string
                            uploader:
                              additionalProperties: false
                              type: object
                              properties:
                                init_dur:
                                  type: string
                                max_dur:
                                  type: string
                                max_retries:
                                  type: number
                        monitoring_enabled:
                          items:
                            enum:
                              - logs
                              - metrics
                              - traces
                            type: string
                          type: array
                        monitoring_http:
                          additionalProperties: false
                          type: object
                          properties:
                            buffer:
                              additionalProperties: false
                              type: object
                              properties:
                                enabled:
                                  default: false
                                  type: boolean
                            enabled:
                              type: boolean
                            host:
                              type: string
                            port:
                              maximum: 65353
                              minimum: 0
                              type: number
                          required:
                            - enabled
                        monitoring_output_id:
                          nullable: true
                          type: string
                        monitoring_pprof_enabled:
                          type: boolean
                        name:
                          minLength: 1
                          type: string
                        namespace:
                          minLength: 1
                          type: string
                        overrides:
                          additionalProperties: {}
                          description: >-
                            Override settings that are defined in the agent
                            policy. Input settings cannot be overridden. The
                            override option should be used only in unusual
                            circumstances and not as a routine procedure.
                          nullable: true
                          type: object
                        package_policies:
                          anyOf:
                            - items:
                                type: string
                              type: array
                            - description: >-
                                This field is present only when retrieving a
                                single agent policy, or when retrieving a list
                                of agent policies with the ?full=true parameter
                              items:
                                additionalProperties: false
                                type: object
                                properties:
                                  created_at:
                                    type: string
                                  created_by:
                                    type: string
                                  description:
                                    description: Package policy description
                                    type: string
                                  elasticsearch:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      privileges:
                                        additionalProperties: true
                                        type: object
                                        properties:
                                          cluster:
                                            items:
                                              type: string
                                            type: array
                                  enabled:
                                    type: boolean
                                  id:
                                    type: string
                                  inputs:
                                    items:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        compiled_input: {}
                                        config:
                                          additionalProperties:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              frozen:
                                                type: boolean
                                              type:
                                                type: string
                                              value: {}
                                            required:
                                              - value
                                          description: >-
                                            Package variable (see integration
                                            documentation for more information)
                                          type: object
                                        enabled:
                                          type: boolean
                                        id:
                                          type: string
                                        keep_enabled:
                                          type: boolean
                                        policy_template:
                                          type: string
                                        streams:
                                          items:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              compiled_stream: {}
                                              config:
                                                additionalProperties:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    frozen:
                                                      type: boolean
                                                    type:
                                                      type: string
                                                    value: {}
                                                  required:
                                                    - value
                                                description: >-
                                                  Package variable (see integration
                                                  documentation for more information)
                                                type: object
                                              data_stream:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  dataset:
                                                    type: string
                                                  elasticsearch:
                                                    additionalProperties: false
                                                    type: object
                                                    properties:
                                                      dynamic_dataset:
                                                        type: boolean
                                                      dynamic_namespace:
                                                        type: boolean
                                                      privileges:
                                                        additionalProperties: false
                                                        type: object
                                                        properties:
                                                          indices:
                                                            items:
                                                              type: string
                                                            type: array
                                                  type:
                                                    type: string
                                                required:
                                                  - dataset
                                                  - type
                                              enabled:
                                                type: boolean
                                              id:
                                                type: string
                                              keep_enabled:
                                                type: boolean
                                              release:
                                                enum:
                                                  - ga
                                                  - beta
                                                  - experimental
                                                type: string
                                              vars:
                                                additionalProperties:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    frozen:
                                                      type: boolean
                                                    type:
                                                      type: string
                                                    value: {}
                                                  required:
                                                    - value
                                                description: >-
                                                  Package variable (see integration
                                                  documentation for more information)
                                                type: object
                                            required:
                                              - enabled
                                              - data_stream
                                              - compiled_stream
                                          type: array
                                        type:
                                          type: string
                                        vars:
                                          additionalProperties:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              frozen:
                                                type: boolean
                                              type:
                                                type: string
                                              value: {}
                                            required:
                                              - value
                                          description: >-
                                            Package variable (see integration
                                            documentation for more information)
                                          type: object
                                      required:
                                        - type
                                        - enabled
                                        - streams
                                        - compiled_input
                                    type: array
                                  is_managed:
                                    type: boolean
                                  name:
                                    description: Package policy name (should be unique)
                                    type: string
                                  namespace:
                                    description: >-
                                      The package policy namespace. Leave blank
                                      to inherit the agent policy's namespace.
                                    type: string
                                  output_id:
                                    nullable: true
                                    type: string
                                  overrides:
                                    additionalProperties: false
                                    description: >-
                                      Override settings that are defined in the
                                      package policy. The override option should
                                      be used only in unusual circumstances and
                                      not as a routine procedure.
                                    nullable: true
                                    type: object
                                    properties:
                                      inputs:
                                        additionalProperties: {}
                                        type: object
                                  package:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      experimental_data_stream_features:
                                        items:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            data_stream:
                                              type: string
                                            features:
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                doc_value_only_numeric:
                                                  type: boolean
                                                doc_value_only_other:
                                                  type: boolean
                                                synthetic_source:
                                                  type: boolean
                                                tsdb:
                                                  type: boolean
                                          required:
                                            - data_stream
                                            - features
                                        type: array
                                      name:
                                        description: Package name
                                        type: string
                                      requires_root:
                                        type: boolean
                                      title:
                                        type: string
                                      version:
                                        description: Package version
                                        type: string
                                    required:
                                      - name
                                      - version
                                  policy_id:
                                    deprecated: true
                                    description: >-
                                      Agent policy ID where that package policy
                                      will be added
                                    nullable: true
                                    type: string
                                  policy_ids:
                                    items:
                                      description: >-
                                        Agent policy IDs where that package
                                        policy will be added
                                      type: string
                                    type: array
                                  revision:
                                    type: number
                                  secret_references:
                                    items:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        id:
                                          type: string
                                      required:
                                        - id
                                    type: array
                                  updated_at:
                                    type: string
                                  updated_by:
                                    type: string
                                  vars:
                                    additionalProperties:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        frozen:
                                          type: boolean
                                        type:
                                          type: string
                                        value: {}
                                      required:
                                        - value
                                    description: >-
                                      Package variable (see integration
                                      documentation for more information)
                                    type: object
                                  version:
                                    type: string
                                required:
                                  - name
                                  - enabled
                                  - inputs
                                  - id
                                  - revision
                                  - updated_at
                                  - updated_by
                                  - created_at
                                  - created_by
                              type: array
                        revision:
                          type: number
                        schema_version:
                          type: string
                        space_ids:
                          items:
                            type: string
                          type: array
                        status:
                          enum:
                            - active
                            - inactive
                          type: string
                        supports_agentless:
                          default: false
                          description: >-
                            Indicates whether the agent policy supports
                            agentless integrations.
                          nullable: true
                          type: boolean
                        unenroll_timeout:
                          minimum: 0
                          type: number
                        unprivileged_agents:
                          type: number
                        updated_at:
                          type: string
                        updated_by:
                          type: string
                        version:
                          type: string
                      required:
                        - id
                        - name
                        - namespace
                        - is_managed
                        - is_protected
                        - status
                        - updated_at
                        - updated_by
                        - revision
                    type: array
                  page:
                    type: number
                  perPage:
                    type: number
                  total:
                    type: number
                required:
                  - items
                  - total
                  - page
                  - perPage
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent policies
    post:
      description: Create an agent policy
      operationId: '%2Fapi%2Ffleet%2Fagent_policies#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: query
          name: sys_monitoring
          required: false
          schema:
            type: boolean
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                advanced_settings:
                  additionalProperties: false
                  type: object
                  properties:
                    agent_download_target_directory:
                      nullable: true
                    agent_download_timeout:
                      default: 2h
                      nullable: true
                    agent_limits_go_max_procs:
                      nullable: true
                    agent_logging_level:
                      default: info
                      nullable: true
                    agent_logging_metrics_period:
                      default: 30s
                      nullable: true
                agent_features:
                  items:
                    additionalProperties: false
                    type: object
                    properties:
                      enabled:
                        type: boolean
                      name:
                        type: string
                    required:
                      - name
                      - enabled
                  type: array
                data_output_id:
                  nullable: true
                  type: string
                description:
                  type: string
                download_source_id:
                  nullable: true
                  type: string
                fleet_server_host_id:
                  nullable: true
                  type: string
                force:
                  type: boolean
                global_data_tags:
                  description: >-
                    User defined data tags that are added to all of the inputs.
                    The values can be strings or numbers.
                  items:
                    additionalProperties: false
                    type: object
                    properties:
                      name:
                        type: string
                      value:
                        anyOf:
                          - type: string
                          - type: number
                    required:
                      - name
                      - value
                  type: array
                has_fleet_server:
                  type: boolean
                id:
                  type: string
                inactivity_timeout:
                  default: 1209600
                  minimum: 0
                  type: number
                is_default:
                  type: boolean
                is_default_fleet_server:
                  type: boolean
                is_managed:
                  type: boolean
                is_protected:
                  type: boolean
                keep_monitoring_alive:
                  default: false
                  description: >-
                    When set to true, monitoring will be enabled but
                    logs/metrics collection will be disabled
                  nullable: true
                  type: boolean
                monitoring_diagnostics:
                  additionalProperties: false
                  type: object
                  properties:
                    limit:
                      additionalProperties: false
                      type: object
                      properties:
                        burst:
                          type: number
                        interval:
                          type: string
                    uploader:
                      additionalProperties: false
                      type: object
                      properties:
                        init_dur:
                          type: string
                        max_dur:
                          type: string
                        max_retries:
                          type: number
                monitoring_enabled:
                  items:
                    enum:
                      - logs
                      - metrics
                      - traces
                    type: string
                  type: array
                monitoring_http:
                  additionalProperties: false
                  type: object
                  properties:
                    buffer:
                      additionalProperties: false
                      type: object
                      properties:
                        enabled:
                          default: false
                          type: boolean
                    enabled:
                      type: boolean
                    host:
                      type: string
                    port:
                      maximum: 65353
                      minimum: 0
                      type: number
                  required:
                    - enabled
                monitoring_output_id:
                  nullable: true
                  type: string
                monitoring_pprof_enabled:
                  type: boolean
                name:
                  minLength: 1
                  type: string
                namespace:
                  minLength: 1
                  type: string
                overrides:
                  additionalProperties: {}
                  description: >-
                    Override settings that are defined in the agent policy.
                    Input settings cannot be overridden. The override option
                    should be used only in unusual circumstances and not as a
                    routine procedure.
                  nullable: true
                  type: object
                space_ids:
                  items:
                    type: string
                  type: array
                supports_agentless:
                  default: false
                  description: >-
                    Indicates whether the agent policy supports agentless
                    integrations.
                  nullable: true
                  type: boolean
                unenroll_timeout:
                  minimum: 0
                  type: number
              required:
                - name
                - namespace
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      advanced_settings:
                        additionalProperties: false
                        type: object
                        properties:
                          agent_download_target_directory:
                            nullable: true
                          agent_download_timeout:
                            default: 2h
                            nullable: true
                          agent_limits_go_max_procs:
                            nullable: true
                          agent_logging_level:
                            default: info
                            nullable: true
                          agent_logging_metrics_period:
                            default: 30s
                            nullable: true
                      agent_features:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            enabled:
                              type: boolean
                            name:
                              type: string
                          required:
                            - name
                            - enabled
                        type: array
                      agents:
                        type: number
                      data_output_id:
                        nullable: true
                        type: string
                      description:
                        type: string
                      download_source_id:
                        nullable: true
                        type: string
                      fleet_server_host_id:
                        nullable: true
                        type: string
                      global_data_tags:
                        description: >-
                          User defined data tags that are added to all of the
                          inputs. The values can be strings or numbers.
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            name:
                              type: string
                            value:
                              anyOf:
                                - type: string
                                - type: number
                          required:
                            - name
                            - value
                        type: array
                      has_fleet_server:
                        type: boolean
                      id:
                        type: string
                      inactivity_timeout:
                        default: 1209600
                        minimum: 0
                        type: number
                      is_default:
                        type: boolean
                      is_default_fleet_server:
                        type: boolean
                      is_managed:
                        type: boolean
                      is_preconfigured:
                        type: boolean
                      is_protected:
                        description: >-
                          Indicates whether the agent policy has tamper
                          protection enabled. Default false.
                        type: boolean
                      keep_monitoring_alive:
                        default: false
                        description: >-
                          When set to true, monitoring will be enabled but
                          logs/metrics collection will be disabled
                        nullable: true
                        type: boolean
                      monitoring_diagnostics:
                        additionalProperties: false
                        type: object
                        properties:
                          limit:
                            additionalProperties: false
                            type: object
                            properties:
                              burst:
                                type: number
                              interval:
                                type: string
                          uploader:
                            additionalProperties: false
                            type: object
                            properties:
                              init_dur:
                                type: string
                              max_dur:
                                type: string
                              max_retries:
                                type: number
                      monitoring_enabled:
                        items:
                          enum:
                            - logs
                            - metrics
                            - traces
                          type: string
                        type: array
                      monitoring_http:
                        additionalProperties: false
                        type: object
                        properties:
                          buffer:
                            additionalProperties: false
                            type: object
                            properties:
                              enabled:
                                default: false
                                type: boolean
                          enabled:
                            type: boolean
                          host:
                            type: string
                          port:
                            maximum: 65353
                            minimum: 0
                            type: number
                        required:
                          - enabled
                      monitoring_output_id:
                        nullable: true
                        type: string
                      monitoring_pprof_enabled:
                        type: boolean
                      name:
                        minLength: 1
                        type: string
                      namespace:
                        minLength: 1
                        type: string
                      overrides:
                        additionalProperties: {}
                        description: >-
                          Override settings that are defined in the agent
                          policy. Input settings cannot be overridden. The
                          override option should be used only in unusual
                          circumstances and not as a routine procedure.
                        nullable: true
                        type: object
                      package_policies:
                        anyOf:
                          - items:
                              type: string
                            type: array
                          - description: >-
                              This field is present only when retrieving a
                              single agent policy, or when retrieving a list of
                              agent policies with the ?full=true parameter
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                created_at:
                                  type: string
                                created_by:
                                  type: string
                                description:
                                  description: Package policy description
                                  type: string
                                elasticsearch:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    privileges:
                                      additionalProperties: true
                                      type: object
                                      properties:
                                        cluster:
                                          items:
                                            type: string
                                          type: array
                                enabled:
                                  type: boolean
                                id:
                                  type: string
                                inputs:
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      compiled_input: {}
                                      config:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                      enabled:
                                        type: boolean
                                      id:
                                        type: string
                                      keep_enabled:
                                        type: boolean
                                      policy_template:
                                        type: string
                                      streams:
                                        items:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            compiled_stream: {}
                                            config:
                                              additionalProperties:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  frozen:
                                                    type: boolean
                                                  type:
                                                    type: string
                                                  value: {}
                                                required:
                                                  - value
                                              description: >-
                                                Package variable (see integration
                                                documentation for more information)
                                              type: object
                                            data_stream:
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                dataset:
                                                  type: string
                                                elasticsearch:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    dynamic_dataset:
                                                      type: boolean
                                                    dynamic_namespace:
                                                      type: boolean
                                                    privileges:
                                                      additionalProperties: false
                                                      type: object
                                                      properties:
                                                        indices:
                                                          items:
                                                            type: string
                                                          type: array
                                                type:
                                                  type: string
                                              required:
                                                - dataset
                                                - type
                                            enabled:
                                              type: boolean
                                            id:
                                              type: string
                                            keep_enabled:
                                              type: boolean
                                            release:
                                              enum:
                                                - ga
                                                - beta
                                                - experimental
                                              type: string
                                            vars:
                                              additionalProperties:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  frozen:
                                                    type: boolean
                                                  type:
                                                    type: string
                                                  value: {}
                                                required:
                                                  - value
                                              description: >-
                                                Package variable (see integration
                                                documentation for more information)
                                              type: object
                                          required:
                                            - enabled
                                            - data_stream
                                            - compiled_stream
                                        type: array
                                      type:
                                        type: string
                                      vars:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                    required:
                                      - type
                                      - enabled
                                      - streams
                                      - compiled_input
                                  type: array
                                is_managed:
                                  type: boolean
                                name:
                                  description: Package policy name (should be unique)
                                  type: string
                                namespace:
                                  description: >-
                                    The package policy namespace. Leave blank to
                                    inherit the agent policy's namespace.
                                  type: string
                                output_id:
                                  nullable: true
                                  type: string
                                overrides:
                                  additionalProperties: false
                                  description: >-
                                    Override settings that are defined in the
                                    package policy. The override option should
                                    be used only in unusual circumstances and
                                    not as a routine procedure.
                                  nullable: true
                                  type: object
                                  properties:
                                    inputs:
                                      additionalProperties: {}
                                      type: object
                                package:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    experimental_data_stream_features:
                                      items:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          data_stream:
                                            type: string
                                          features:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              doc_value_only_numeric:
                                                type: boolean
                                              doc_value_only_other:
                                                type: boolean
                                              synthetic_source:
                                                type: boolean
                                              tsdb:
                                                type: boolean
                                        required:
                                          - data_stream
                                          - features
                                      type: array
                                    name:
                                      description: Package name
                                      type: string
                                    requires_root:
                                      type: boolean
                                    title:
                                      type: string
                                    version:
                                      description: Package version
                                      type: string
                                  required:
                                    - name
                                    - version
                                policy_id:
                                  deprecated: true
                                  description: >-
                                    Agent policy ID where that package policy
                                    will be added
                                  nullable: true
                                  type: string
                                policy_ids:
                                  items:
                                    description: >-
                                      Agent policy IDs where that package policy
                                      will be added
                                    type: string
                                  type: array
                                revision:
                                  type: number
                                secret_references:
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                    required:
                                      - id
                                  type: array
                                updated_at:
                                  type: string
                                updated_by:
                                  type: string
                                vars:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                                version:
                                  type: string
                              required:
                                - name
                                - enabled
                                - inputs
                                - id
                                - revision
                                - updated_at
                                - updated_by
                                - created_at
                                - created_by
                            type: array
                      revision:
                        type: number
                      schema_version:
                        type: string
                      space_ids:
                        items:
                          type: string
                        type: array
                      status:
                        enum:
                          - active
                          - inactive
                        type: string
                      supports_agentless:
                        default: false
                        description: >-
                          Indicates whether the agent policy supports agentless
                          integrations.
                        nullable: true
                        type: boolean
                      unenroll_timeout:
                        minimum: 0
                        type: number
                      unprivileged_agents:
                        type: number
                      updated_at:
                        type: string
                      updated_by:
                        type: string
                      version:
                        type: string
                    required:
                      - id
                      - name
                      - namespace
                      - is_managed
                      - is_protected
                      - status
                      - updated_at
                      - updated_by
                      - revision
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent policies
  /api/fleet/agent_policies/_bulk_get:
    post:
      description: Bulk get agent policies
      operationId: '%2Fapi%2Ffleet%2Fagent_policies%2F_bulk_get#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: query
          name: format
          required: false
          schema:
            enum:
              - simplified
              - legacy
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                full:
                  description: get full policies with package policies populated
                  type: boolean
                ids:
                  description: list of package policy ids
                  items:
                    type: string
                  type: array
                ignoreMissing:
                  type: boolean
              required:
                - ids
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        advanced_settings:
                          additionalProperties: false
                          type: object
                          properties:
                            agent_download_target_directory:
                              nullable: true
                            agent_download_timeout:
                              default: 2h
                              nullable: true
                            agent_limits_go_max_procs:
                              nullable: true
                            agent_logging_level:
                              default: info
                              nullable: true
                            agent_logging_metrics_period:
                              default: 30s
                              nullable: true
                        agent_features:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              enabled:
                                type: boolean
                              name:
                                type: string
                            required:
                              - name
                              - enabled
                          type: array
                        agents:
                          type: number
                        data_output_id:
                          nullable: true
                          type: string
                        description:
                          type: string
                        download_source_id:
                          nullable: true
                          type: string
                        fleet_server_host_id:
                          nullable: true
                          type: string
                        global_data_tags:
                          description: >-
                            User defined data tags that are added to all of the
                            inputs. The values can be strings or numbers.
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              name:
                                type: string
                              value:
                                anyOf:
                                  - type: string
                                  - type: number
                            required:
                              - name
                              - value
                          type: array
                        has_fleet_server:
                          type: boolean
                        id:
                          type: string
                        inactivity_timeout:
                          default: 1209600
                          minimum: 0
                          type: number
                        is_default:
                          type: boolean
                        is_default_fleet_server:
                          type: boolean
                        is_managed:
                          type: boolean
                        is_preconfigured:
                          type: boolean
                        is_protected:
                          description: >-
                            Indicates whether the agent policy has tamper
                            protection enabled. Default false.
                          type: boolean
                        keep_monitoring_alive:
                          default: false
                          description: >-
                            When set to true, monitoring will be enabled but
                            logs/metrics collection will be disabled
                          nullable: true
                          type: boolean
                        monitoring_diagnostics:
                          additionalProperties: false
                          type: object
                          properties:
                            limit:
                              additionalProperties: false
                              type: object
                              properties:
                                burst:
                                  type: number
                                interval:
                                  type: string
                            uploader:
                              additionalProperties: false
                              type: object
                              properties:
                                init_dur:
                                  type: string
                                max_dur:
                                  type: string
                                max_retries:
                                  type: number
                        monitoring_enabled:
                          items:
                            enum:
                              - logs
                              - metrics
                              - traces
                            type: string
                          type: array
                        monitoring_http:
                          additionalProperties: false
                          type: object
                          properties:
                            buffer:
                              additionalProperties: false
                              type: object
                              properties:
                                enabled:
                                  default: false
                                  type: boolean
                            enabled:
                              type: boolean
                            host:
                              type: string
                            port:
                              maximum: 65353
                              minimum: 0
                              type: number
                          required:
                            - enabled
                        monitoring_output_id:
                          nullable: true
                          type: string
                        monitoring_pprof_enabled:
                          type: boolean
                        name:
                          minLength: 1
                          type: string
                        namespace:
                          minLength: 1
                          type: string
                        overrides:
                          additionalProperties: {}
                          description: >-
                            Override settings that are defined in the agent
                            policy. Input settings cannot be overridden. The
                            override option should be used only in unusual
                            circumstances and not as a routine procedure.
                          nullable: true
                          type: object
                        package_policies:
                          anyOf:
                            - items:
                                type: string
                              type: array
                            - description: >-
                                This field is present only when retrieving a
                                single agent policy, or when retrieving a list
                                of agent policies with the ?full=true parameter
                              items:
                                additionalProperties: false
                                type: object
                                properties:
                                  created_at:
                                    type: string
                                  created_by:
                                    type: string
                                  description:
                                    description: Package policy description
                                    type: string
                                  elasticsearch:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      privileges:
                                        additionalProperties: true
                                        type: object
                                        properties:
                                          cluster:
                                            items:
                                              type: string
                                            type: array
                                  enabled:
                                    type: boolean
                                  id:
                                    type: string
                                  inputs:
                                    items:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        compiled_input: {}
                                        config:
                                          additionalProperties:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              frozen:
                                                type: boolean
                                              type:
                                                type: string
                                              value: {}
                                            required:
                                              - value
                                          description: >-
                                            Package variable (see integration
                                            documentation for more information)
                                          type: object
                                        enabled:
                                          type: boolean
                                        id:
                                          type: string
                                        keep_enabled:
                                          type: boolean
                                        policy_template:
                                          type: string
                                        streams:
                                          items:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              compiled_stream: {}
                                              config:
                                                additionalProperties:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    frozen:
                                                      type: boolean
                                                    type:
                                                      type: string
                                                    value: {}
                                                  required:
                                                    - value
                                                description: >-
                                                  Package variable (see integration
                                                  documentation for more information)
                                                type: object
                                              data_stream:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  dataset:
                                                    type: string
                                                  elasticsearch:
                                                    additionalProperties: false
                                                    type: object
                                                    properties:
                                                      dynamic_dataset:
                                                        type: boolean
                                                      dynamic_namespace:
                                                        type: boolean
                                                      privileges:
                                                        additionalProperties: false
                                                        type: object
                                                        properties:
                                                          indices:
                                                            items:
                                                              type: string
                                                            type: array
                                                  type:
                                                    type: string
                                                required:
                                                  - dataset
                                                  - type
                                              enabled:
                                                type: boolean
                                              id:
                                                type: string
                                              keep_enabled:
                                                type: boolean
                                              release:
                                                enum:
                                                  - ga
                                                  - beta
                                                  - experimental
                                                type: string
                                              vars:
                                                additionalProperties:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    frozen:
                                                      type: boolean
                                                    type:
                                                      type: string
                                                    value: {}
                                                  required:
                                                    - value
                                                description: >-
                                                  Package variable (see integration
                                                  documentation for more information)
                                                type: object
                                            required:
                                              - enabled
                                              - data_stream
                                              - compiled_stream
                                          type: array
                                        type:
                                          type: string
                                        vars:
                                          additionalProperties:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              frozen:
                                                type: boolean
                                              type:
                                                type: string
                                              value: {}
                                            required:
                                              - value
                                          description: >-
                                            Package variable (see integration
                                            documentation for more information)
                                          type: object
                                      required:
                                        - type
                                        - enabled
                                        - streams
                                        - compiled_input
                                    type: array
                                  is_managed:
                                    type: boolean
                                  name:
                                    description: Package policy name (should be unique)
                                    type: string
                                  namespace:
                                    description: >-
                                      The package policy namespace. Leave blank
                                      to inherit the agent policy's namespace.
                                    type: string
                                  output_id:
                                    nullable: true
                                    type: string
                                  overrides:
                                    additionalProperties: false
                                    description: >-
                                      Override settings that are defined in the
                                      package policy. The override option should
                                      be used only in unusual circumstances and
                                      not as a routine procedure.
                                    nullable: true
                                    type: object
                                    properties:
                                      inputs:
                                        additionalProperties: {}
                                        type: object
                                  package:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      experimental_data_stream_features:
                                        items:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            data_stream:
                                              type: string
                                            features:
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                doc_value_only_numeric:
                                                  type: boolean
                                                doc_value_only_other:
                                                  type: boolean
                                                synthetic_source:
                                                  type: boolean
                                                tsdb:
                                                  type: boolean
                                          required:
                                            - data_stream
                                            - features
                                        type: array
                                      name:
                                        description: Package name
                                        type: string
                                      requires_root:
                                        type: boolean
                                      title:
                                        type: string
                                      version:
                                        description: Package version
                                        type: string
                                    required:
                                      - name
                                      - version
                                  policy_id:
                                    deprecated: true
                                    description: >-
                                      Agent policy ID where that package policy
                                      will be added
                                    nullable: true
                                    type: string
                                  policy_ids:
                                    items:
                                      description: >-
                                        Agent policy IDs where that package
                                        policy will be added
                                      type: string
                                    type: array
                                  revision:
                                    type: number
                                  secret_references:
                                    items:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        id:
                                          type: string
                                      required:
                                        - id
                                    type: array
                                  updated_at:
                                    type: string
                                  updated_by:
                                    type: string
                                  vars:
                                    additionalProperties:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        frozen:
                                          type: boolean
                                        type:
                                          type: string
                                        value: {}
                                      required:
                                        - value
                                    description: >-
                                      Package variable (see integration
                                      documentation for more information)
                                    type: object
                                  version:
                                    type: string
                                required:
                                  - name
                                  - enabled
                                  - inputs
                                  - id
                                  - revision
                                  - updated_at
                                  - updated_by
                                  - created_at
                                  - created_by
                              type: array
                        revision:
                          type: number
                        schema_version:
                          type: string
                        space_ids:
                          items:
                            type: string
                          type: array
                        status:
                          enum:
                            - active
                            - inactive
                          type: string
                        supports_agentless:
                          default: false
                          description: >-
                            Indicates whether the agent policy supports
                            agentless integrations.
                          nullable: true
                          type: boolean
                        unenroll_timeout:
                          minimum: 0
                          type: number
                        unprivileged_agents:
                          type: number
                        updated_at:
                          type: string
                        updated_by:
                          type: string
                        version:
                          type: string
                      required:
                        - id
                        - name
                        - namespace
                        - is_managed
                        - is_protected
                        - status
                        - updated_at
                        - updated_by
                        - revision
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent policies
  /api/fleet/agent_policies/{agentPolicyId}:
    get:
      description: Get an agent policy by ID
      operationId: '%2Fapi%2Ffleet%2Fagent_policies%2F%7BagentPolicyId%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: agentPolicyId
          required: true
          schema:
            type: string
        - in: query
          name: format
          required: false
          schema:
            enum:
              - simplified
              - legacy
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      advanced_settings:
                        additionalProperties: false
                        type: object
                        properties:
                          agent_download_target_directory:
                            nullable: true
                          agent_download_timeout:
                            default: 2h
                            nullable: true
                          agent_limits_go_max_procs:
                            nullable: true
                          agent_logging_level:
                            default: info
                            nullable: true
                          agent_logging_metrics_period:
                            default: 30s
                            nullable: true
                      agent_features:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            enabled:
                              type: boolean
                            name:
                              type: string
                          required:
                            - name
                            - enabled
                        type: array
                      agents:
                        type: number
                      data_output_id:
                        nullable: true
                        type: string
                      description:
                        type: string
                      download_source_id:
                        nullable: true
                        type: string
                      fleet_server_host_id:
                        nullable: true
                        type: string
                      global_data_tags:
                        description: >-
                          User defined data tags that are added to all of the
                          inputs. The values can be strings or numbers.
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            name:
                              type: string
                            value:
                              anyOf:
                                - type: string
                                - type: number
                          required:
                            - name
                            - value
                        type: array
                      has_fleet_server:
                        type: boolean
                      id:
                        type: string
                      inactivity_timeout:
                        default: 1209600
                        minimum: 0
                        type: number
                      is_default:
                        type: boolean
                      is_default_fleet_server:
                        type: boolean
                      is_managed:
                        type: boolean
                      is_preconfigured:
                        type: boolean
                      is_protected:
                        description: >-
                          Indicates whether the agent policy has tamper
                          protection enabled. Default false.
                        type: boolean
                      keep_monitoring_alive:
                        default: false
                        description: >-
                          When set to true, monitoring will be enabled but
                          logs/metrics collection will be disabled
                        nullable: true
                        type: boolean
                      monitoring_diagnostics:
                        additionalProperties: false
                        type: object
                        properties:
                          limit:
                            additionalProperties: false
                            type: object
                            properties:
                              burst:
                                type: number
                              interval:
                                type: string
                          uploader:
                            additionalProperties: false
                            type: object
                            properties:
                              init_dur:
                                type: string
                              max_dur:
                                type: string
                              max_retries:
                                type: number
                      monitoring_enabled:
                        items:
                          enum:
                            - logs
                            - metrics
                            - traces
                          type: string
                        type: array
                      monitoring_http:
                        additionalProperties: false
                        type: object
                        properties:
                          buffer:
                            additionalProperties: false
                            type: object
                            properties:
                              enabled:
                                default: false
                                type: boolean
                          enabled:
                            type: boolean
                          host:
                            type: string
                          port:
                            maximum: 65353
                            minimum: 0
                            type: number
                        required:
                          - enabled
                      monitoring_output_id:
                        nullable: true
                        type: string
                      monitoring_pprof_enabled:
                        type: boolean
                      name:
                        minLength: 1
                        type: string
                      namespace:
                        minLength: 1
                        type: string
                      overrides:
                        additionalProperties: {}
                        description: >-
                          Override settings that are defined in the agent
                          policy. Input settings cannot be overridden. The
                          override option should be used only in unusual
                          circumstances and not as a routine procedure.
                        nullable: true
                        type: object
                      package_policies:
                        anyOf:
                          - items:
                              type: string
                            type: array
                          - description: >-
                              This field is present only when retrieving a
                              single agent policy, or when retrieving a list of
                              agent policies with the ?full=true parameter
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                created_at:
                                  type: string
                                created_by:
                                  type: string
                                description:
                                  description: Package policy description
                                  type: string
                                elasticsearch:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    privileges:
                                      additionalProperties: true
                                      type: object
                                      properties:
                                        cluster:
                                          items:
                                            type: string
                                          type: array
                                enabled:
                                  type: boolean
                                id:
                                  type: string
                                inputs:
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      compiled_input: {}
                                      config:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                      enabled:
                                        type: boolean
                                      id:
                                        type: string
                                      keep_enabled:
                                        type: boolean
                                      policy_template:
                                        type: string
                                      streams:
                                        items:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            compiled_stream: {}
                                            config:
                                              additionalProperties:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  frozen:
                                                    type: boolean
                                                  type:
                                                    type: string
                                                  value: {}
                                                required:
                                                  - value
                                              description: >-
                                                Package variable (see integration
                                                documentation for more information)
                                              type: object
                                            data_stream:
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                dataset:
                                                  type: string
                                                elasticsearch:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    dynamic_dataset:
                                                      type: boolean
                                                    dynamic_namespace:
                                                      type: boolean
                                                    privileges:
                                                      additionalProperties: false
                                                      type: object
                                                      properties:
                                                        indices:
                                                          items:
                                                            type: string
                                                          type: array
                                                type:
                                                  type: string
                                              required:
                                                - dataset
                                                - type
                                            enabled:
                                              type: boolean
                                            id:
                                              type: string
                                            keep_enabled:
                                              type: boolean
                                            release:
                                              enum:
                                                - ga
                                                - beta
                                                - experimental
                                              type: string
                                            vars:
                                              additionalProperties:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  frozen:
                                                    type: boolean
                                                  type:
                                                    type: string
                                                  value: {}
                                                required:
                                                  - value
                                              description: >-
                                                Package variable (see integration
                                                documentation for more information)
                                              type: object
                                          required:
                                            - enabled
                                            - data_stream
                                            - compiled_stream
                                        type: array
                                      type:
                                        type: string
                                      vars:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                    required:
                                      - type
                                      - enabled
                                      - streams
                                      - compiled_input
                                  type: array
                                is_managed:
                                  type: boolean
                                name:
                                  description: Package policy name (should be unique)
                                  type: string
                                namespace:
                                  description: >-
                                    The package policy namespace. Leave blank to
                                    inherit the agent policy's namespace.
                                  type: string
                                output_id:
                                  nullable: true
                                  type: string
                                overrides:
                                  additionalProperties: false
                                  description: >-
                                    Override settings that are defined in the
                                    package policy. The override option should
                                    be used only in unusual circumstances and
                                    not as a routine procedure.
                                  nullable: true
                                  type: object
                                  properties:
                                    inputs:
                                      additionalProperties: {}
                                      type: object
                                package:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    experimental_data_stream_features:
                                      items:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          data_stream:
                                            type: string
                                          features:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              doc_value_only_numeric:
                                                type: boolean
                                              doc_value_only_other:
                                                type: boolean
                                              synthetic_source:
                                                type: boolean
                                              tsdb:
                                                type: boolean
                                        required:
                                          - data_stream
                                          - features
                                      type: array
                                    name:
                                      description: Package name
                                      type: string
                                    requires_root:
                                      type: boolean
                                    title:
                                      type: string
                                    version:
                                      description: Package version
                                      type: string
                                  required:
                                    - name
                                    - version
                                policy_id:
                                  deprecated: true
                                  description: >-
                                    Agent policy ID where that package policy
                                    will be added
                                  nullable: true
                                  type: string
                                policy_ids:
                                  items:
                                    description: >-
                                      Agent policy IDs where that package policy
                                      will be added
                                    type: string
                                  type: array
                                revision:
                                  type: number
                                secret_references:
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                    required:
                                      - id
                                  type: array
                                updated_at:
                                  type: string
                                updated_by:
                                  type: string
                                vars:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                                version:
                                  type: string
                              required:
                                - name
                                - enabled
                                - inputs
                                - id
                                - revision
                                - updated_at
                                - updated_by
                                - created_at
                                - created_by
                            type: array
                      revision:
                        type: number
                      schema_version:
                        type: string
                      space_ids:
                        items:
                          type: string
                        type: array
                      status:
                        enum:
                          - active
                          - inactive
                        type: string
                      supports_agentless:
                        default: false
                        description: >-
                          Indicates whether the agent policy supports agentless
                          integrations.
                        nullable: true
                        type: boolean
                      unenroll_timeout:
                        minimum: 0
                        type: number
                      unprivileged_agents:
                        type: number
                      updated_at:
                        type: string
                      updated_by:
                        type: string
                      version:
                        type: string
                    required:
                      - id
                      - name
                      - namespace
                      - is_managed
                      - is_protected
                      - status
                      - updated_at
                      - updated_by
                      - revision
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent policies
    put:
      description: Update an agent policy by ID
      operationId: '%2Fapi%2Ffleet%2Fagent_policies%2F%7BagentPolicyId%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: agentPolicyId
          required: true
          schema:
            type: string
        - in: query
          name: format
          required: false
          schema:
            enum:
              - simplified
              - legacy
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                advanced_settings:
                  additionalProperties: false
                  type: object
                  properties:
                    agent_download_target_directory:
                      nullable: true
                    agent_download_timeout:
                      default: 2h
                      nullable: true
                    agent_limits_go_max_procs:
                      nullable: true
                    agent_logging_level:
                      default: info
                      nullable: true
                    agent_logging_metrics_period:
                      default: 30s
                      nullable: true
                agent_features:
                  items:
                    additionalProperties: false
                    type: object
                    properties:
                      enabled:
                        type: boolean
                      name:
                        type: string
                    required:
                      - name
                      - enabled
                  type: array
                data_output_id:
                  nullable: true
                  type: string
                description:
                  type: string
                download_source_id:
                  nullable: true
                  type: string
                fleet_server_host_id:
                  nullable: true
                  type: string
                force:
                  type: boolean
                global_data_tags:
                  description: >-
                    User defined data tags that are added to all of the inputs.
                    The values can be strings or numbers.
                  items:
                    additionalProperties: false
                    type: object
                    properties:
                      name:
                        type: string
                      value:
                        anyOf:
                          - type: string
                          - type: number
                    required:
                      - name
                      - value
                  type: array
                has_fleet_server:
                  type: boolean
                id:
                  type: string
                inactivity_timeout:
                  default: 1209600
                  minimum: 0
                  type: number
                is_default:
                  type: boolean
                is_default_fleet_server:
                  type: boolean
                is_managed:
                  type: boolean
                is_protected:
                  type: boolean
                keep_monitoring_alive:
                  default: false
                  description: >-
                    When set to true, monitoring will be enabled but
                    logs/metrics collection will be disabled
                  nullable: true
                  type: boolean
                monitoring_diagnostics:
                  additionalProperties: false
                  type: object
                  properties:
                    limit:
                      additionalProperties: false
                      type: object
                      properties:
                        burst:
                          type: number
                        interval:
                          type: string
                    uploader:
                      additionalProperties: false
                      type: object
                      properties:
                        init_dur:
                          type: string
                        max_dur:
                          type: string
                        max_retries:
                          type: number
                monitoring_enabled:
                  items:
                    enum:
                      - logs
                      - metrics
                      - traces
                    type: string
                  type: array
                monitoring_http:
                  additionalProperties: false
                  type: object
                  properties:
                    buffer:
                      additionalProperties: false
                      type: object
                      properties:
                        enabled:
                          default: false
                          type: boolean
                    enabled:
                      type: boolean
                    host:
                      type: string
                    port:
                      maximum: 65353
                      minimum: 0
                      type: number
                  required:
                    - enabled
                monitoring_output_id:
                  nullable: true
                  type: string
                monitoring_pprof_enabled:
                  type: boolean
                name:
                  minLength: 1
                  type: string
                namespace:
                  minLength: 1
                  type: string
                overrides:
                  additionalProperties: {}
                  description: >-
                    Override settings that are defined in the agent policy.
                    Input settings cannot be overridden. The override option
                    should be used only in unusual circumstances and not as a
                    routine procedure.
                  nullable: true
                  type: object
                space_ids:
                  items:
                    type: string
                  type: array
                supports_agentless:
                  default: false
                  description: >-
                    Indicates whether the agent policy supports agentless
                    integrations.
                  nullable: true
                  type: boolean
                unenroll_timeout:
                  minimum: 0
                  type: number
              required:
                - name
                - namespace
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      advanced_settings:
                        additionalProperties: false
                        type: object
                        properties:
                          agent_download_target_directory:
                            nullable: true
                          agent_download_timeout:
                            default: 2h
                            nullable: true
                          agent_limits_go_max_procs:
                            nullable: true
                          agent_logging_level:
                            default: info
                            nullable: true
                          agent_logging_metrics_period:
                            default: 30s
                            nullable: true
                      agent_features:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            enabled:
                              type: boolean
                            name:
                              type: string
                          required:
                            - name
                            - enabled
                        type: array
                      agents:
                        type: number
                      data_output_id:
                        nullable: true
                        type: string
                      description:
                        type: string
                      download_source_id:
                        nullable: true
                        type: string
                      fleet_server_host_id:
                        nullable: true
                        type: string
                      global_data_tags:
                        description: >-
                          User defined data tags that are added to all of the
                          inputs. The values can be strings or numbers.
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            name:
                              type: string
                            value:
                              anyOf:
                                - type: string
                                - type: number
                          required:
                            - name
                            - value
                        type: array
                      has_fleet_server:
                        type: boolean
                      id:
                        type: string
                      inactivity_timeout:
                        default: 1209600
                        minimum: 0
                        type: number
                      is_default:
                        type: boolean
                      is_default_fleet_server:
                        type: boolean
                      is_managed:
                        type: boolean
                      is_preconfigured:
                        type: boolean
                      is_protected:
                        description: >-
                          Indicates whether the agent policy has tamper
                          protection enabled. Default false.
                        type: boolean
                      keep_monitoring_alive:
                        default: false
                        description: >-
                          When set to true, monitoring will be enabled but
                          logs/metrics collection will be disabled
                        nullable: true
                        type: boolean
                      monitoring_diagnostics:
                        additionalProperties: false
                        type: object
                        properties:
                          limit:
                            additionalProperties: false
                            type: object
                            properties:
                              burst:
                                type: number
                              interval:
                                type: string
                          uploader:
                            additionalProperties: false
                            type: object
                            properties:
                              init_dur:
                                type: string
                              max_dur:
                                type: string
                              max_retries:
                                type: number
                      monitoring_enabled:
                        items:
                          enum:
                            - logs
                            - metrics
                            - traces
                          type: string
                        type: array
                      monitoring_http:
                        additionalProperties: false
                        type: object
                        properties:
                          buffer:
                            additionalProperties: false
                            type: object
                            properties:
                              enabled:
                                default: false
                                type: boolean
                          enabled:
                            type: boolean
                          host:
                            type: string
                          port:
                            maximum: 65353
                            minimum: 0
                            type: number
                        required:
                          - enabled
                      monitoring_output_id:
                        nullable: true
                        type: string
                      monitoring_pprof_enabled:
                        type: boolean
                      name:
                        minLength: 1
                        type: string
                      namespace:
                        minLength: 1
                        type: string
                      overrides:
                        additionalProperties: {}
                        description: >-
                          Override settings that are defined in the agent
                          policy. Input settings cannot be overridden. The
                          override option should be used only in unusual
                          circumstances and not as a routine procedure.
                        nullable: true
                        type: object
                      package_policies:
                        anyOf:
                          - items:
                              type: string
                            type: array
                          - description: >-
                              This field is present only when retrieving a
                              single agent policy, or when retrieving a list of
                              agent policies with the ?full=true parameter
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                created_at:
                                  type: string
                                created_by:
                                  type: string
                                description:
                                  description: Package policy description
                                  type: string
                                elasticsearch:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    privileges:
                                      additionalProperties: true
                                      type: object
                                      properties:
                                        cluster:
                                          items:
                                            type: string
                                          type: array
                                enabled:
                                  type: boolean
                                id:
                                  type: string
                                inputs:
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      compiled_input: {}
                                      config:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                      enabled:
                                        type: boolean
                                      id:
                                        type: string
                                      keep_enabled:
                                        type: boolean
                                      policy_template:
                                        type: string
                                      streams:
                                        items:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            compiled_stream: {}
                                            config:
                                              additionalProperties:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  frozen:
                                                    type: boolean
                                                  type:
                                                    type: string
                                                  value: {}
                                                required:
                                                  - value
                                              description: >-
                                                Package variable (see integration
                                                documentation for more information)
                                              type: object
                                            data_stream:
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                dataset:
                                                  type: string
                                                elasticsearch:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    dynamic_dataset:
                                                      type: boolean
                                                    dynamic_namespace:
                                                      type: boolean
                                                    privileges:
                                                      additionalProperties: false
                                                      type: object
                                                      properties:
                                                        indices:
                                                          items:
                                                            type: string
                                                          type: array
                                                type:
                                                  type: string
                                              required:
                                                - dataset
                                                - type
                                            enabled:
                                              type: boolean
                                            id:
                                              type: string
                                            keep_enabled:
                                              type: boolean
                                            release:
                                              enum:
                                                - ga
                                                - beta
                                                - experimental
                                              type: string
                                            vars:
                                              additionalProperties:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  frozen:
                                                    type: boolean
                                                  type:
                                                    type: string
                                                  value: {}
                                                required:
                                                  - value
                                              description: >-
                                                Package variable (see integration
                                                documentation for more information)
                                              type: object
                                          required:
                                            - enabled
                                            - data_stream
                                            - compiled_stream
                                        type: array
                                      type:
                                        type: string
                                      vars:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                    required:
                                      - type
                                      - enabled
                                      - streams
                                      - compiled_input
                                  type: array
                                is_managed:
                                  type: boolean
                                name:
                                  description: Package policy name (should be unique)
                                  type: string
                                namespace:
                                  description: >-
                                    The package policy namespace. Leave blank to
                                    inherit the agent policy's namespace.
                                  type: string
                                output_id:
                                  nullable: true
                                  type: string
                                overrides:
                                  additionalProperties: false
                                  description: >-
                                    Override settings that are defined in the
                                    package policy. The override option should
                                    be used only in unusual circumstances and
                                    not as a routine procedure.
                                  nullable: true
                                  type: object
                                  properties:
                                    inputs:
                                      additionalProperties: {}
                                      type: object
                                package:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    experimental_data_stream_features:
                                      items:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          data_stream:
                                            type: string
                                          features:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              doc_value_only_numeric:
                                                type: boolean
                                              doc_value_only_other:
                                                type: boolean
                                              synthetic_source:
                                                type: boolean
                                              tsdb:
                                                type: boolean
                                        required:
                                          - data_stream
                                          - features
                                      type: array
                                    name:
                                      description: Package name
                                      type: string
                                    requires_root:
                                      type: boolean
                                    title:
                                      type: string
                                    version:
                                      description: Package version
                                      type: string
                                  required:
                                    - name
                                    - version
                                policy_id:
                                  deprecated: true
                                  description: >-
                                    Agent policy ID where that package policy
                                    will be added
                                  nullable: true
                                  type: string
                                policy_ids:
                                  items:
                                    description: >-
                                      Agent policy IDs where that package policy
                                      will be added
                                    type: string
                                  type: array
                                revision:
                                  type: number
                                secret_references:
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                    required:
                                      - id
                                  type: array
                                updated_at:
                                  type: string
                                updated_by:
                                  type: string
                                vars:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                                version:
                                  type: string
                              required:
                                - name
                                - enabled
                                - inputs
                                - id
                                - revision
                                - updated_at
                                - updated_by
                                - created_at
                                - created_by
                            type: array
                      revision:
                        type: number
                      schema_version:
                        type: string
                      space_ids:
                        items:
                          type: string
                        type: array
                      status:
                        enum:
                          - active
                          - inactive
                        type: string
                      supports_agentless:
                        default: false
                        description: >-
                          Indicates whether the agent policy supports agentless
                          integrations.
                        nullable: true
                        type: boolean
                      unenroll_timeout:
                        minimum: 0
                        type: number
                      unprivileged_agents:
                        type: number
                      updated_at:
                        type: string
                      updated_by:
                        type: string
                      version:
                        type: string
                    required:
                      - id
                      - name
                      - namespace
                      - is_managed
                      - is_protected
                      - status
                      - updated_at
                      - updated_by
                      - revision
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent policies
  /api/fleet/agent_policies/{agentPolicyId}/copy:
    post:
      description: Copy an agent policy by ID
      operationId: '%2Fapi%2Ffleet%2Fagent_policies%2F%7BagentPolicyId%7D%2Fcopy#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: agentPolicyId
          required: true
          schema:
            type: string
        - in: query
          name: format
          required: false
          schema:
            enum:
              - simplified
              - legacy
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                description:
                  type: string
                name:
                  minLength: 1
                  type: string
              required:
                - name
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      advanced_settings:
                        additionalProperties: false
                        type: object
                        properties:
                          agent_download_target_directory:
                            nullable: true
                          agent_download_timeout:
                            default: 2h
                            nullable: true
                          agent_limits_go_max_procs:
                            nullable: true
                          agent_logging_level:
                            default: info
                            nullable: true
                          agent_logging_metrics_period:
                            default: 30s
                            nullable: true
                      agent_features:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            enabled:
                              type: boolean
                            name:
                              type: string
                          required:
                            - name
                            - enabled
                        type: array
                      agents:
                        type: number
                      data_output_id:
                        nullable: true
                        type: string
                      description:
                        type: string
                      download_source_id:
                        nullable: true
                        type: string
                      fleet_server_host_id:
                        nullable: true
                        type: string
                      global_data_tags:
                        description: >-
                          User defined data tags that are added to all of the
                          inputs. The values can be strings or numbers.
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            name:
                              type: string
                            value:
                              anyOf:
                                - type: string
                                - type: number
                          required:
                            - name
                            - value
                        type: array
                      has_fleet_server:
                        type: boolean
                      id:
                        type: string
                      inactivity_timeout:
                        default: 1209600
                        minimum: 0
                        type: number
                      is_default:
                        type: boolean
                      is_default_fleet_server:
                        type: boolean
                      is_managed:
                        type: boolean
                      is_preconfigured:
                        type: boolean
                      is_protected:
                        description: >-
                          Indicates whether the agent policy has tamper
                          protection enabled. Default false.
                        type: boolean
                      keep_monitoring_alive:
                        default: false
                        description: >-
                          When set to true, monitoring will be enabled but
                          logs/metrics collection will be disabled
                        nullable: true
                        type: boolean
                      monitoring_diagnostics:
                        additionalProperties: false
                        type: object
                        properties:
                          limit:
                            additionalProperties: false
                            type: object
                            properties:
                              burst:
                                type: number
                              interval:
                                type: string
                          uploader:
                            additionalProperties: false
                            type: object
                            properties:
                              init_dur:
                                type: string
                              max_dur:
                                type: string
                              max_retries:
                                type: number
                      monitoring_enabled:
                        items:
                          enum:
                            - logs
                            - metrics
                            - traces
                          type: string
                        type: array
                      monitoring_http:
                        additionalProperties: false
                        type: object
                        properties:
                          buffer:
                            additionalProperties: false
                            type: object
                            properties:
                              enabled:
                                default: false
                                type: boolean
                          enabled:
                            type: boolean
                          host:
                            type: string
                          port:
                            maximum: 65353
                            minimum: 0
                            type: number
                        required:
                          - enabled
                      monitoring_output_id:
                        nullable: true
                        type: string
                      monitoring_pprof_enabled:
                        type: boolean
                      name:
                        minLength: 1
                        type: string
                      namespace:
                        minLength: 1
                        type: string
                      overrides:
                        additionalProperties: {}
                        description: >-
                          Override settings that are defined in the agent
                          policy. Input settings cannot be overridden. The
                          override option should be used only in unusual
                          circumstances and not as a routine procedure.
                        nullable: true
                        type: object
                      package_policies:
                        anyOf:
                          - items:
                              type: string
                            type: array
                          - description: >-
                              This field is present only when retrieving a
                              single agent policy, or when retrieving a list of
                              agent policies with the ?full=true parameter
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                created_at:
                                  type: string
                                created_by:
                                  type: string
                                description:
                                  description: Package policy description
                                  type: string
                                elasticsearch:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    privileges:
                                      additionalProperties: true
                                      type: object
                                      properties:
                                        cluster:
                                          items:
                                            type: string
                                          type: array
                                enabled:
                                  type: boolean
                                id:
                                  type: string
                                inputs:
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      compiled_input: {}
                                      config:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                      enabled:
                                        type: boolean
                                      id:
                                        type: string
                                      keep_enabled:
                                        type: boolean
                                      policy_template:
                                        type: string
                                      streams:
                                        items:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            compiled_stream: {}
                                            config:
                                              additionalProperties:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  frozen:
                                                    type: boolean
                                                  type:
                                                    type: string
                                                  value: {}
                                                required:
                                                  - value
                                              description: >-
                                                Package variable (see integration
                                                documentation for more information)
                                              type: object
                                            data_stream:
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                dataset:
                                                  type: string
                                                elasticsearch:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    dynamic_dataset:
                                                      type: boolean
                                                    dynamic_namespace:
                                                      type: boolean
                                                    privileges:
                                                      additionalProperties: false
                                                      type: object
                                                      properties:
                                                        indices:
                                                          items:
                                                            type: string
                                                          type: array
                                                type:
                                                  type: string
                                              required:
                                                - dataset
                                                - type
                                            enabled:
                                              type: boolean
                                            id:
                                              type: string
                                            keep_enabled:
                                              type: boolean
                                            release:
                                              enum:
                                                - ga
                                                - beta
                                                - experimental
                                              type: string
                                            vars:
                                              additionalProperties:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  frozen:
                                                    type: boolean
                                                  type:
                                                    type: string
                                                  value: {}
                                                required:
                                                  - value
                                              description: >-
                                                Package variable (see integration
                                                documentation for more information)
                                              type: object
                                          required:
                                            - enabled
                                            - data_stream
                                            - compiled_stream
                                        type: array
                                      type:
                                        type: string
                                      vars:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                    required:
                                      - type
                                      - enabled
                                      - streams
                                      - compiled_input
                                  type: array
                                is_managed:
                                  type: boolean
                                name:
                                  description: Package policy name (should be unique)
                                  type: string
                                namespace:
                                  description: >-
                                    The package policy namespace. Leave blank to
                                    inherit the agent policy's namespace.
                                  type: string
                                output_id:
                                  nullable: true
                                  type: string
                                overrides:
                                  additionalProperties: false
                                  description: >-
                                    Override settings that are defined in the
                                    package policy. The override option should
                                    be used only in unusual circumstances and
                                    not as a routine procedure.
                                  nullable: true
                                  type: object
                                  properties:
                                    inputs:
                                      additionalProperties: {}
                                      type: object
                                package:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    experimental_data_stream_features:
                                      items:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          data_stream:
                                            type: string
                                          features:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              doc_value_only_numeric:
                                                type: boolean
                                              doc_value_only_other:
                                                type: boolean
                                              synthetic_source:
                                                type: boolean
                                              tsdb:
                                                type: boolean
                                        required:
                                          - data_stream
                                          - features
                                      type: array
                                    name:
                                      description: Package name
                                      type: string
                                    requires_root:
                                      type: boolean
                                    title:
                                      type: string
                                    version:
                                      description: Package version
                                      type: string
                                  required:
                                    - name
                                    - version
                                policy_id:
                                  deprecated: true
                                  description: >-
                                    Agent policy ID where that package policy
                                    will be added
                                  nullable: true
                                  type: string
                                policy_ids:
                                  items:
                                    description: >-
                                      Agent policy IDs where that package policy
                                      will be added
                                    type: string
                                  type: array
                                revision:
                                  type: number
                                secret_references:
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                    required:
                                      - id
                                  type: array
                                updated_at:
                                  type: string
                                updated_by:
                                  type: string
                                vars:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                                version:
                                  type: string
                              required:
                                - name
                                - enabled
                                - inputs
                                - id
                                - revision
                                - updated_at
                                - updated_by
                                - created_at
                                - created_by
                            type: array
                      revision:
                        type: number
                      schema_version:
                        type: string
                      space_ids:
                        items:
                          type: string
                        type: array
                      status:
                        enum:
                          - active
                          - inactive
                        type: string
                      supports_agentless:
                        default: false
                        description: >-
                          Indicates whether the agent policy supports agentless
                          integrations.
                        nullable: true
                        type: boolean
                      unenroll_timeout:
                        minimum: 0
                        type: number
                      unprivileged_agents:
                        type: number
                      updated_at:
                        type: string
                      updated_by:
                        type: string
                      version:
                        type: string
                    required:
                      - id
                      - name
                      - namespace
                      - is_managed
                      - is_protected
                      - status
                      - updated_at
                      - updated_by
                      - revision
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent policies
  /api/fleet/agent_policies/{agentPolicyId}/download:
    get:
      description: Download an agent policy by ID
      operationId: '%2Fapi%2Ffleet%2Fagent_policies%2F%7BagentPolicyId%7D%2Fdownload#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: agentPolicyId
          required: true
          schema:
            type: string
        - in: query
          name: download
          required: false
          schema:
            type: boolean
        - in: query
          name: standalone
          required: false
          schema:
            type: boolean
        - in: query
          name: kubernetes
          required: false
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: string
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent policies
  /api/fleet/agent_policies/{agentPolicyId}/full:
    get:
      description: Get a full agent policy by ID
      operationId: '%2Fapi%2Ffleet%2Fagent_policies%2F%7BagentPolicyId%7D%2Ffull#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: agentPolicyId
          required: true
          schema:
            type: string
        - in: query
          name: download
          required: false
          schema:
            type: boolean
        - in: query
          name: standalone
          required: false
          schema:
            type: boolean
        - in: query
          name: kubernetes
          required: false
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    anyOf:
                      - type: string
                      - additionalProperties: false
                        type: object
                        properties:
                          agent:
                            additionalProperties: false
                            type: object
                            properties:
                              download:
                                additionalProperties: false
                                type: object
                                properties:
                                  sourceURI:
                                    type: string
                                required:
                                  - sourceURI
                              features:
                                additionalProperties:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    enabled:
                                      type: boolean
                                  required:
                                    - enabled
                                type: object
                              monitoring:
                                additionalProperties: false
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                  logs:
                                    type: boolean
                                  metrics:
                                    type: boolean
                                  namespace:
                                    type: string
                                  traces:
                                    type: boolean
                                  use_output:
                                    type: string
                                required:
                                  - enabled
                                  - metrics
                                  - logs
                                  - traces
                              protection:
                                additionalProperties: false
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                  signing_key:
                                    type: string
                                  uninstall_token_hash:
                                    type: string
                                required:
                                  - enabled
                                  - uninstall_token_hash
                                  - signing_key
                            required:
                              - monitoring
                              - download
                              - features
                          fleet:
                            anyOf:
                              - additionalProperties: false
                                type: object
                                properties:
                                  hosts:
                                    items:
                                      type: string
                                    type: array
                                  proxy_headers: {}
                                  proxy_url:
                                    type: string
                                  ssl:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      certificate:
                                        type: string
                                      certificate_authorities:
                                        items:
                                          type: string
                                        type: array
                                      key:
                                        type: string
                                      renegotiation:
                                        type: string
                                      verification_mode:
                                        type: string
                                required:
                                  - hosts
                                  - proxy_headers
                              - additionalProperties: false
                                type: object
                                properties:
                                  kibana:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      hosts:
                                        items:
                                          type: string
                                        type: array
                                      path:
                                        type: string
                                      protocol:
                                        type: string
                                    required:
                                      - hosts
                                      - protocol
                                required:
                                  - kibana
                          id:
                            type: string
                          inputs:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                data_stream:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    namespace:
                                      type: string
                                  required:
                                    - namespace
                                id:
                                  type: string
                                meta:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    package:
                                      additionalProperties: true
                                      type: object
                                      properties:
                                        name:
                                          type: string
                                        version:
                                          type: string
                                      required:
                                        - name
                                        - version
                                name:
                                  type: string
                                package_policy_id:
                                  type: string
                                processors:
                                  items:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      add_fields:
                                        additionalProperties: true
                                        type: object
                                        properties:
                                          fields:
                                            additionalProperties:
                                              anyOf:
                                                - type: string
                                                - type: number
                                            type: object
                                          target:
                                            type: string
                                        required:
                                          - target
                                          - fields
                                    required:
                                      - add_fields
                                  type: array
                                revision:
                                  type: number
                                streams:
                                  items:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      data_stream:
                                        additionalProperties: true
                                        type: object
                                        properties:
                                          dataset:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - dataset
                                      id:
                                        type: string
                                    required:
                                      - id
                                      - data_stream
                                  type: array
                                type:
                                  type: string
                                use_output:
                                  type: string
                              required:
                                - id
                                - name
                                - revision
                                - type
                                - data_stream
                                - use_output
                                - package_policy_id
                            type: array
                          namespaces:
                            items:
                              type: string
                            type: array
                          output_permissions:
                            additionalProperties:
                              additionalProperties: {}
                              type: object
                            type: object
                          outputs:
                            additionalProperties:
                              additionalProperties: true
                              type: object
                              properties:
                                ca_sha256:
                                  nullable: true
                                  type: string
                                hosts:
                                  items:
                                    type: string
                                  type: array
                                proxy_headers: {}
                                proxy_url:
                                  type: string
                                type:
                                  type: string
                              required:
                                - type
                                - proxy_headers
                            type: object
                          revision:
                            type: number
                          secret_references:
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                id:
                                  type: string
                              required:
                                - id
                            type: array
                          signed:
                            additionalProperties: false
                            type: object
                            properties:
                              data:
                                type: string
                              signature:
                                type: string
                            required:
                              - data
                              - signature
                        required:
                          - id
                          - outputs
                          - inputs
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent policies
  /api/fleet/agent_policies/delete:
    post:
      description: Delete agent policy by ID
      operationId: '%2Fapi%2Ffleet%2Fagent_policies%2Fdelete#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                agentPolicyId:
                  type: string
                force:
                  description: >-
                    bypass validation checks that can prevent agent policy
                    deletion
                  type: boolean
              required:
                - agentPolicyId
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                required:
                  - id
                  - name
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent policies
  /api/fleet/agent_status:
    get:
      description: Get agent status summary
      operationId: '%2Fapi%2Ffleet%2Fagent_status#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: policyId
          required: false
          schema:
            type: string
        - in: query
          name: policyIds
          required: false
          schema:
            anyOf:
              - items:
                  type: string
                type: array
              - type: string
        - in: query
          name: kuery
          required: false
          schema:
            deprecated: true
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  results:
                    additionalProperties: false
                    type: object
                    properties:
                      active:
                        type: number
                      all:
                        type: number
                      error:
                        type: number
                      events:
                        type: number
                      inactive:
                        type: number
                      offline:
                        type: number
                      online:
                        type: number
                      other:
                        type: number
                      total:
                        deprecated: true
                        type: number
                      unenrolled:
                        type: number
                      updating:
                        type: number
                    required:
                      - events
                      - total
                      - online
                      - error
                      - offline
                      - other
                      - updating
                      - inactive
                      - unenrolled
                      - all
                      - active
                required:
                  - results
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent status
  /api/fleet/agent_status/data:
    get:
      description: Get incoming agent data
      operationId: '%2Fapi%2Ffleet%2Fagent_status%2Fdata#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: agentsIds
          required: true
          schema:
            anyOf:
              - items:
                  type: string
                type: array
              - type: string
        - in: query
          name: previewData
          required: false
          schema:
            default: false
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  dataPreview:
                    items: {}
                    type: array
                  items:
                    items:
                      additionalProperties:
                        additionalProperties: false
                        type: object
                        properties:
                          data:
                            type: boolean
                        required:
                          - data
                      type: object
                    type: array
                required:
                  - items
                  - dataPreview
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
  /api/fleet/agent-status:
    get:
      deprecated: true
      operationId: '%2Fapi%2Ffleet%2Fagent-status#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: policyId
          required: false
          schema:
            type: string
        - in: query
          name: policyIds
          required: false
          schema:
            anyOf:
              - items:
                  type: string
                type: array
              - type: string
        - in: query
          name: kuery
          required: false
          schema:
            deprecated: true
            type: string
      responses: {}
      summary: ''
      tags: []
  /api/fleet/agents:
    get:
      description: List agents
      operationId: '%2Fapi%2Ffleet%2Fagents#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: page
          required: false
          schema:
            default: 1
            type: number
        - in: query
          name: perPage
          required: false
          schema:
            default: 20
            type: number
        - in: query
          name: kuery
          required: false
          schema:
            type: string
        - in: query
          name: showInactive
          required: false
          schema:
            default: false
            type: boolean
        - in: query
          name: withMetrics
          required: false
          schema:
            default: false
            type: boolean
        - in: query
          name: showUpgradeable
          required: false
          schema:
            default: false
            type: boolean
        - in: query
          name: getStatusSummary
          required: false
          schema:
            default: false
            type: boolean
        - in: query
          name: sortField
          required: false
          schema:
            type: string
        - in: query
          name: sortOrder
          required: false
          schema:
            enum:
              - asc
              - desc
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        access_api_key:
                          type: string
                        access_api_key_id:
                          type: string
                        active:
                          type: boolean
                        agent:
                          additionalProperties: true
                          type: object
                          properties:
                            id:
                              type: string
                            version:
                              type: string
                          required:
                            - id
                            - version
                        components:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              id:
                                type: string
                              message:
                                type: string
                              status:
                                enum:
                                  - STARTING
                                  - CONFIGURING
                                  - HEALTHY
                                  - DEGRADED
                                  - FAILED
                                  - STOPPING
                                  - STOPPED
                                type: string
                              type:
                                type: string
                              units:
                                items:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                    message:
                                      type: string
                                    payload:
                                      additionalProperties: {}
                                      type: object
                                    status:
                                      enum:
                                        - STARTING
                                        - CONFIGURING
                                        - HEALTHY
                                        - DEGRADED
                                        - FAILED
                                        - STOPPING
                                        - STOPPED
                                      type: string
                                    type:
                                      enum:
                                        - input
                                        - output
                                      type: string
                                  required:
                                    - id
                                    - type
                                    - status
                                    - message
                                type: array
                            required:
                              - id
                              - type
                              - status
                              - message
                          type: array
                        default_api_key:
                          type: string
                        default_api_key_history:
                          items:
                            additionalProperties: false
                            deprecated: true
                            type: object
                            properties:
                              id:
                                type: string
                              retired_at:
                                type: string
                            required:
                              - id
                              - retired_at
                          type: array
                        default_api_key_id:
                          type: string
                        enrolled_at:
                          type: string
                        id:
                          type: string
                        last_checkin:
                          type: string
                        last_checkin_message:
                          type: string
                        last_checkin_status:
                          enum:
                            - error
                            - online
                            - degraded
                            - updating
                            - starting
                          type: string
                        local_metadata:
                          additionalProperties: {}
                          type: object
                        metrics:
                          additionalProperties: false
                          type: object
                          properties:
                            cpu_avg:
                              type: number
                            memory_size_byte_avg:
                              type: number
                        namespaces:
                          items:
                            type: string
                          type: array
                        outputs:
                          additionalProperties:
                            additionalProperties: false
                            type: object
                            properties:
                              api_key_id:
                                type: string
                              to_retire_api_key_ids:
                                items:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                    retired_at:
                                      type: string
                                  required:
                                    - id
                                    - retired_at
                                type: array
                              type:
                                type: string
                            required:
                              - api_key_id
                              - type
                          type: object
                        packages:
                          items:
                            type: string
                          type: array
                        policy_id:
                          type: string
                        policy_revision:
                          nullable: true
                          type: number
                        sort:
                          items:
                            anyOf:
                              - type: number
                              - type: string
                              - enum: []
                                nullable: true
                          type: array
                        status:
                          enum:
                            - offline
                            - error
                            - online
                            - inactive
                            - enrolling
                            - unenrolling
                            - unenrolled
                            - updating
                            - degraded
                          type: string
                        tags:
                          items:
                            type: string
                          type: array
                        type:
                          enum:
                            - PERMANENT
                            - EPHEMERAL
                            - TEMPORARY
                          type: string
                        unenrolled_at:
                          type: string
                        unenrollment_started_at:
                          type: string
                        unhealthy_reason:
                          items:
                            enum:
                              - input
                              - output
                              - other
                            type: string
                          nullable: true
                          type: array
                        upgrade_details:
                          additionalProperties: false
                          type: object
                          properties:
                            action_id:
                              type: string
                            metadata:
                              additionalProperties: false
                              type: object
                              properties:
                                download_percent:
                                  type: number
                                download_rate:
                                  type: number
                                error_msg:
                                  type: string
                                failed_state:
                                  enum:
                                    - UPG_REQUESTED
                                    - UPG_SCHEDULED
                                    - UPG_DOWNLOADING
                                    - UPG_EXTRACTING
                                    - UPG_REPLACING
                                    - UPG_RESTARTING
                                    - UPG_FAILED
                                    - UPG_WATCHING
                                    - UPG_ROLLBACK
                                  type: string
                                retry_error_msg:
                                  type: string
                                retry_until:
                                  type: string
                                scheduled_at:
                                  type: string
                            state:
                              enum:
                                - UPG_REQUESTED
                                - UPG_SCHEDULED
                                - UPG_DOWNLOADING
                                - UPG_EXTRACTING
                                - UPG_REPLACING
                                - UPG_RESTARTING
                                - UPG_FAILED
                                - UPG_WATCHING
                                - UPG_ROLLBACK
                              type: string
                            target_version:
                              type: string
                          required:
                            - target_version
                            - action_id
                            - state
                        upgrade_started_at:
                          nullable: true
                          type: string
                        upgraded_at:
                          nullable: true
                          type: string
                        user_provided_metadata:
                          additionalProperties: {}
                          type: object
                      required:
                        - id
                        - packages
                        - type
                        - active
                        - enrolled_at
                        - local_metadata
                    type: array
                  list:
                    deprecated: true
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        access_api_key:
                          type: string
                        access_api_key_id:
                          type: string
                        active:
                          type: boolean
                        agent:
                          additionalProperties: true
                          type: object
                          properties:
                            id:
                              type: string
                            version:
                              type: string
                          required:
                            - id
                            - version
                        components:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              id:
                                type: string
                              message:
                                type: string
                              status:
                                enum:
                                  - STARTING
                                  - CONFIGURING
                                  - HEALTHY
                                  - DEGRADED
                                  - FAILED
                                  - STOPPING
                                  - STOPPED
                                type: string
                              type:
                                type: string
                              units:
                                items:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                    message:
                                      type: string
                                    payload:
                                      additionalProperties: {}
                                      type: object
                                    status:
                                      enum:
                                        - STARTING
                                        - CONFIGURING
                                        - HEALTHY
                                        - DEGRADED
                                        - FAILED
                                        - STOPPING
                                        - STOPPED
                                      type: string
                                    type:
                                      enum:
                                        - input
                                        - output
                                      type: string
                                  required:
                                    - id
                                    - type
                                    - status
                                    - message
                                type: array
                            required:
                              - id
                              - type
                              - status
                              - message
                          type: array
                        default_api_key:
                          type: string
                        default_api_key_history:
                          items:
                            additionalProperties: false
                            deprecated: true
                            type: object
                            properties:
                              id:
                                type: string
                              retired_at:
                                type: string
                            required:
                              - id
                              - retired_at
                          type: array
                        default_api_key_id:
                          type: string
                        enrolled_at:
                          type: string
                        id:
                          type: string
                        last_checkin:
                          type: string
                        last_checkin_message:
                          type: string
                        last_checkin_status:
                          enum:
                            - error
                            - online
                            - degraded
                            - updating
                            - starting
                          type: string
                        local_metadata:
                          additionalProperties: {}
                          type: object
                        metrics:
                          additionalProperties: false
                          type: object
                          properties:
                            cpu_avg:
                              type: number
                            memory_size_byte_avg:
                              type: number
                        namespaces:
                          items:
                            type: string
                          type: array
                        outputs:
                          additionalProperties:
                            additionalProperties: false
                            type: object
                            properties:
                              api_key_id:
                                type: string
                              to_retire_api_key_ids:
                                items:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                    retired_at:
                                      type: string
                                  required:
                                    - id
                                    - retired_at
                                type: array
                              type:
                                type: string
                            required:
                              - api_key_id
                              - type
                          type: object
                        packages:
                          items:
                            type: string
                          type: array
                        policy_id:
                          type: string
                        policy_revision:
                          nullable: true
                          type: number
                        sort:
                          items:
                            anyOf:
                              - type: number
                              - type: string
                              - enum: []
                                nullable: true
                          type: array
                        status:
                          enum:
                            - offline
                            - error
                            - online
                            - inactive
                            - enrolling
                            - unenrolling
                            - unenrolled
                            - updating
                            - degraded
                          type: string
                        tags:
                          items:
                            type: string
                          type: array
                        type:
                          enum:
                            - PERMANENT
                            - EPHEMERAL
                            - TEMPORARY
                          type: string
                        unenrolled_at:
                          type: string
                        unenrollment_started_at:
                          type: string
                        unhealthy_reason:
                          items:
                            enum:
                              - input
                              - output
                              - other
                            type: string
                          nullable: true
                          type: array
                        upgrade_details:
                          additionalProperties: false
                          type: object
                          properties:
                            action_id:
                              type: string
                            metadata:
                              additionalProperties: false
                              type: object
                              properties:
                                download_percent:
                                  type: number
                                download_rate:
                                  type: number
                                error_msg:
                                  type: string
                                failed_state:
                                  enum:
                                    - UPG_REQUESTED
                                    - UPG_SCHEDULED
                                    - UPG_DOWNLOADING
                                    - UPG_EXTRACTING
                                    - UPG_REPLACING
                                    - UPG_RESTARTING
                                    - UPG_FAILED
                                    - UPG_WATCHING
                                    - UPG_ROLLBACK
                                  type: string
                                retry_error_msg:
                                  type: string
                                retry_until:
                                  type: string
                                scheduled_at:
                                  type: string
                            state:
                              enum:
                                - UPG_REQUESTED
                                - UPG_SCHEDULED
                                - UPG_DOWNLOADING
                                - UPG_EXTRACTING
                                - UPG_REPLACING
                                - UPG_RESTARTING
                                - UPG_FAILED
                                - UPG_WATCHING
                                - UPG_ROLLBACK
                              type: string
                            target_version:
                              type: string
                          required:
                            - target_version
                            - action_id
                            - state
                        upgrade_started_at:
                          nullable: true
                          type: string
                        upgraded_at:
                          nullable: true
                          type: string
                        user_provided_metadata:
                          additionalProperties: {}
                          type: object
                      required:
                        - id
                        - packages
                        - type
                        - active
                        - enrolled_at
                        - local_metadata
                    type: array
                  page:
                    type: number
                  perPage:
                    type: number
                  statusSummary:
                    additionalProperties:
                      type: number
                    type: object
                  total:
                    type: number
                required:
                  - items
                  - total
                  - page
                  - perPage
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
    post:
      description: List agents by action ids
      operationId: '%2Fapi%2Ffleet%2Fagents#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                actionIds:
                  items:
                    type: string
                  type: array
              required:
                - actionIds
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      type: string
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
  /api/fleet/agents/{agentId}:
    delete:
      description: Delete agent by ID
      operationId: '%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D#2'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: agentId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  action:
                    enum:
                      - deleted
                    type: string
                required:
                  - action
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
    get:
      description: Get agent by ID
      operationId: '%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: agentId
          required: true
          schema:
            type: string
        - in: query
          name: withMetrics
          required: false
          schema:
            default: false
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      access_api_key:
                        type: string
                      access_api_key_id:
                        type: string
                      active:
                        type: boolean
                      agent:
                        additionalProperties: true
                        type: object
                        properties:
                          id:
                            type: string
                          version:
                            type: string
                        required:
                          - id
                          - version
                      components:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                            message:
                              type: string
                            status:
                              enum:
                                - STARTING
                                - CONFIGURING
                                - HEALTHY
                                - DEGRADED
                                - FAILED
                                - STOPPING
                                - STOPPED
                              type: string
                            type:
                              type: string
                            units:
                              items:
                                additionalProperties: false
                                type: object
                                properties:
                                  id:
                                    type: string
                                  message:
                                    type: string
                                  payload:
                                    additionalProperties: {}
                                    type: object
                                  status:
                                    enum:
                                      - STARTING
                                      - CONFIGURING
                                      - HEALTHY
                                      - DEGRADED
                                      - FAILED
                                      - STOPPING
                                      - STOPPED
                                    type: string
                                  type:
                                    enum:
                                      - input
                                      - output
                                    type: string
                                required:
                                  - id
                                  - type
                                  - status
                                  - message
                              type: array
                          required:
                            - id
                            - type
                            - status
                            - message
                        type: array
                      default_api_key:
                        type: string
                      default_api_key_history:
                        items:
                          additionalProperties: false
                          deprecated: true
                          type: object
                          properties:
                            id:
                              type: string
                            retired_at:
                              type: string
                          required:
                            - id
                            - retired_at
                        type: array
                      default_api_key_id:
                        type: string
                      enrolled_at:
                        type: string
                      id:
                        type: string
                      last_checkin:
                        type: string
                      last_checkin_message:
                        type: string
                      last_checkin_status:
                        enum:
                          - error
                          - online
                          - degraded
                          - updating
                          - starting
                        type: string
                      local_metadata:
                        additionalProperties: {}
                        type: object
                      metrics:
                        additionalProperties: false
                        type: object
                        properties:
                          cpu_avg:
                            type: number
                          memory_size_byte_avg:
                            type: number
                      namespaces:
                        items:
                          type: string
                        type: array
                      outputs:
                        additionalProperties:
                          additionalProperties: false
                          type: object
                          properties:
                            api_key_id:
                              type: string
                            to_retire_api_key_ids:
                              items:
                                additionalProperties: false
                                type: object
                                properties:
                                  id:
                                    type: string
                                  retired_at:
                                    type: string
                                required:
                                  - id
                                  - retired_at
                              type: array
                            type:
                              type: string
                          required:
                            - api_key_id
                            - type
                        type: object
                      packages:
                        items:
                          type: string
                        type: array
                      policy_id:
                        type: string
                      policy_revision:
                        nullable: true
                        type: number
                      sort:
                        items:
                          anyOf:
                            - type: number
                            - type: string
                            - enum: []
                              nullable: true
                        type: array
                      status:
                        enum:
                          - offline
                          - error
                          - online
                          - inactive
                          - enrolling
                          - unenrolling
                          - unenrolled
                          - updating
                          - degraded
                        type: string
                      tags:
                        items:
                          type: string
                        type: array
                      type:
                        enum:
                          - PERMANENT
                          - EPHEMERAL
                          - TEMPORARY
                        type: string
                      unenrolled_at:
                        type: string
                      unenrollment_started_at:
                        type: string
                      unhealthy_reason:
                        items:
                          enum:
                            - input
                            - output
                            - other
                          type: string
                        nullable: true
                        type: array
                      upgrade_details:
                        additionalProperties: false
                        type: object
                        properties:
                          action_id:
                            type: string
                          metadata:
                            additionalProperties: false
                            type: object
                            properties:
                              download_percent:
                                type: number
                              download_rate:
                                type: number
                              error_msg:
                                type: string
                              failed_state:
                                enum:
                                  - UPG_REQUESTED
                                  - UPG_SCHEDULED
                                  - UPG_DOWNLOADING
                                  - UPG_EXTRACTING
                                  - UPG_REPLACING
                                  - UPG_RESTARTING
                                  - UPG_FAILED
                                  - UPG_WATCHING
                                  - UPG_ROLLBACK
                                type: string
                              retry_error_msg:
                                type: string
                              retry_until:
                                type: string
                              scheduled_at:
                                type: string
                          state:
                            enum:
                              - UPG_REQUESTED
                              - UPG_SCHEDULED
                              - UPG_DOWNLOADING
                              - UPG_EXTRACTING
                              - UPG_REPLACING
                              - UPG_RESTARTING
                              - UPG_FAILED
                              - UPG_WATCHING
                              - UPG_ROLLBACK
                            type: string
                          target_version:
                            type: string
                        required:
                          - target_version
                          - action_id
                          - state
                      upgrade_started_at:
                        nullable: true
                        type: string
                      upgraded_at:
                        nullable: true
                        type: string
                      user_provided_metadata:
                        additionalProperties: {}
                        type: object
                    required:
                      - id
                      - packages
                      - type
                      - active
                      - enrolled_at
                      - local_metadata
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
    put:
      description: Update agent by ID
      operationId: '%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: agentId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                tags:
                  items:
                    type: string
                  type: array
                user_provided_metadata:
                  additionalProperties: {}
                  type: object
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      access_api_key:
                        type: string
                      access_api_key_id:
                        type: string
                      active:
                        type: boolean
                      agent:
                        additionalProperties: true
                        type: object
                        properties:
                          id:
                            type: string
                          version:
                            type: string
                        required:
                          - id
                          - version
                      components:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                            message:
                              type: string
                            status:
                              enum:
                                - STARTING
                                - CONFIGURING
                                - HEALTHY
                                - DEGRADED
                                - FAILED
                                - STOPPING
                                - STOPPED
                              type: string
                            type:
                              type: string
                            units:
                              items:
                                additionalProperties: false
                                type: object
                                properties:
                                  id:
                                    type: string
                                  message:
                                    type: string
                                  payload:
                                    additionalProperties: {}
                                    type: object
                                  status:
                                    enum:
                                      - STARTING
                                      - CONFIGURING
                                      - HEALTHY
                                      - DEGRADED
                                      - FAILED
                                      - STOPPING
                                      - STOPPED
                                    type: string
                                  type:
                                    enum:
                                      - input
                                      - output
                                    type: string
                                required:
                                  - id
                                  - type
                                  - status
                                  - message
                              type: array
                          required:
                            - id
                            - type
                            - status
                            - message
                        type: array
                      default_api_key:
                        type: string
                      default_api_key_history:
                        items:
                          additionalProperties: false
                          deprecated: true
                          type: object
                          properties:
                            id:
                              type: string
                            retired_at:
                              type: string
                          required:
                            - id
                            - retired_at
                        type: array
                      default_api_key_id:
                        type: string
                      enrolled_at:
                        type: string
                      id:
                        type: string
                      last_checkin:
                        type: string
                      last_checkin_message:
                        type: string
                      last_checkin_status:
                        enum:
                          - error
                          - online
                          - degraded
                          - updating
                          - starting
                        type: string
                      local_metadata:
                        additionalProperties: {}
                        type: object
                      metrics:
                        additionalProperties: false
                        type: object
                        properties:
                          cpu_avg:
                            type: number
                          memory_size_byte_avg:
                            type: number
                      namespaces:
                        items:
                          type: string
                        type: array
                      outputs:
                        additionalProperties:
                          additionalProperties: false
                          type: object
                          properties:
                            api_key_id:
                              type: string
                            to_retire_api_key_ids:
                              items:
                                additionalProperties: false
                                type: object
                                properties:
                                  id:
                                    type: string
                                  retired_at:
                                    type: string
                                required:
                                  - id
                                  - retired_at
                              type: array
                            type:
                              type: string
                          required:
                            - api_key_id
                            - type
                        type: object
                      packages:
                        items:
                          type: string
                        type: array
                      policy_id:
                        type: string
                      policy_revision:
                        nullable: true
                        type: number
                      sort:
                        items:
                          anyOf:
                            - type: number
                            - type: string
                            - enum: []
                              nullable: true
                        type: array
                      status:
                        enum:
                          - offline
                          - error
                          - online
                          - inactive
                          - enrolling
                          - unenrolling
                          - unenrolled
                          - updating
                          - degraded
                        type: string
                      tags:
                        items:
                          type: string
                        type: array
                      type:
                        enum:
                          - PERMANENT
                          - EPHEMERAL
                          - TEMPORARY
                        type: string
                      unenrolled_at:
                        type: string
                      unenrollment_started_at:
                        type: string
                      unhealthy_reason:
                        items:
                          enum:
                            - input
                            - output
                            - other
                          type: string
                        nullable: true
                        type: array
                      upgrade_details:
                        additionalProperties: false
                        type: object
                        properties:
                          action_id:
                            type: string
                          metadata:
                            additionalProperties: false
                            type: object
                            properties:
                              download_percent:
                                type: number
                              download_rate:
                                type: number
                              error_msg:
                                type: string
                              failed_state:
                                enum:
                                  - UPG_REQUESTED
                                  - UPG_SCHEDULED
                                  - UPG_DOWNLOADING
                                  - UPG_EXTRACTING
                                  - UPG_REPLACING
                                  - UPG_RESTARTING
                                  - UPG_FAILED
                                  - UPG_WATCHING
                                  - UPG_ROLLBACK
                                type: string
                              retry_error_msg:
                                type: string
                              retry_until:
                                type: string
                              scheduled_at:
                                type: string
                          state:
                            enum:
                              - UPG_REQUESTED
                              - UPG_SCHEDULED
                              - UPG_DOWNLOADING
                              - UPG_EXTRACTING
                              - UPG_REPLACING
                              - UPG_RESTARTING
                              - UPG_FAILED
                              - UPG_WATCHING
                              - UPG_ROLLBACK
                            type: string
                          target_version:
                            type: string
                        required:
                          - target_version
                          - action_id
                          - state
                      upgrade_started_at:
                        nullable: true
                        type: string
                      upgraded_at:
                        nullable: true
                        type: string
                      user_provided_metadata:
                        additionalProperties: {}
                        type: object
                    required:
                      - id
                      - packages
                      - type
                      - active
                      - enrolled_at
                      - local_metadata
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
  /api/fleet/agents/{agentId}/actions:
    post:
      description: Create agent action
      operationId: '%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Factions#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: agentId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                action:
                  anyOf:
                    - additionalProperties: false
                      type: object
                      properties:
                        ack_data: {}
                        data: {}
                        type:
                          enum:
                            - UNENROLL
                            - UPGRADE
                            - POLICY_REASSIGN
                          type: string
                      required:
                        - type
                        - data
                        - ack_data
                    - additionalProperties: false
                      type: object
                      properties:
                        data:
                          additionalProperties: false
                          type: object
                          properties:
                            log_level:
                              enum:
                                - debug
                                - info
                                - warning
                                - error
                              nullable: true
                              type: string
                          required:
                            - log_level
                        type:
                          enum:
                            - SETTINGS
                          type: string
                      required:
                        - type
                        - data
              required:
                - action
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      ack_data: {}
                      agents:
                        items:
                          type: string
                        type: array
                      created_at:
                        type: string
                      data: {}
                      expiration:
                        type: string
                      id:
                        type: string
                      minimum_execution_duration:
                        type: number
                      namespaces:
                        items:
                          type: string
                        type: array
                      rollout_duration_seconds:
                        type: number
                      sent_at:
                        type: string
                      source_uri:
                        type: string
                      start_time:
                        type: string
                      total:
                        type: number
                      type:
                        type: string
                    required:
                      - id
                      - type
                      - data
                      - created_at
                      - ack_data
                      - agents
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent actions
  /api/fleet/agents/{agentId}/reassign:
    post:
      description: Reassign agent
      operationId: '%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Freassign#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: agentId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                policy_id:
                  type: string
              required:
                - policy_id
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties: {}
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent actions
    put:
      deprecated: true
      operationId: '%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Freassign#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: agentId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                policy_id:
                  type: string
              required:
                - policy_id
      responses: {}
      summary: ''
      tags: []
  /api/fleet/agents/{agentId}/request_diagnostics:
    post:
      description: Request agent diagnostics
      operationId: '%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Frequest_diagnostics#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: agentId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              nullable: true
              type: object
              properties:
                additional_metrics:
                  items:
                    enum:
                      - CPU
                    type: string
                  type: array
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  actionId:
                    type: string
                required:
                  - actionId
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent actions
  /api/fleet/agents/{agentId}/unenroll:
    post:
      description: Unenroll agent
      operationId: '%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Funenroll#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: agentId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              nullable: true
              type: object
              properties:
                force:
                  type: boolean
                revoke:
                  type: boolean
      responses: {}
      summary: ''
      tags:
        - Elastic Agent actions
  /api/fleet/agents/{agentId}/upgrade:
    post:
      description: Upgrade agent
      operationId: '%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Fupgrade#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: agentId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                force:
                  type: boolean
                skipRateLimitCheck:
                  type: boolean
                source_uri:
                  type: string
                version:
                  type: string
              required:
                - version
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties: {}
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent actions
  /api/fleet/agents/{agentId}/uploads:
    get:
      description: List agent uploads
      operationId: '%2Fapi%2Ffleet%2Fagents%2F%7BagentId%7D%2Fuploads#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: agentId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        actionId:
                          type: string
                        createTime:
                          type: string
                        error:
                          type: string
                        filePath:
                          type: string
                        id:
                          type: string
                        name:
                          type: string
                        status:
                          enum:
                            - READY
                            - AWAITING_UPLOAD
                            - DELETED
                            - EXPIRED
                            - IN_PROGRESS
                            - FAILED
                          type: string
                      required:
                        - id
                        - name
                        - filePath
                        - createTime
                        - status
                        - actionId
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
  /api/fleet/agents/action_status:
    get:
      description: Get agent action status
      operationId: '%2Fapi%2Ffleet%2Fagents%2Faction_status#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: page
          required: false
          schema:
            default: 0
            type: number
        - in: query
          name: perPage
          required: false
          schema:
            default: 20
            type: number
        - in: query
          name: date
          required: false
          schema:
            type: string
        - in: query
          name: latest
          required: false
          schema:
            type: number
        - in: query
          name: errorSize
          required: false
          schema:
            default: 5
            type: number
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        actionId:
                          type: string
                        cancellationTime:
                          type: string
                        completionTime:
                          type: string
                        creationTime:
                          description: creation time of action
                          type: string
                        expiration:
                          type: string
                        hasRolloutPeriod:
                          type: boolean
                        latestErrors:
                          items:
                            additionalProperties: false
                            description: >-
                              latest errors that happened when the agents
                              executed the action
                            type: object
                            properties:
                              agentId:
                                type: string
                              error:
                                type: string
                              hostname:
                                type: string
                              timestamp:
                                type: string
                            required:
                              - agentId
                              - error
                              - timestamp
                          type: array
                        nbAgentsAck:
                          description: number of agents that acknowledged the action
                          type: number
                        nbAgentsActionCreated:
                          description: number of agents included in action from kibana
                          type: number
                        nbAgentsActioned:
                          description: number of agents actioned
                          type: number
                        nbAgentsFailed:
                          description: number of agents that failed to execute the action
                          type: number
                        newPolicyId:
                          description: new policy id (POLICY_REASSIGN action)
                          type: string
                        policyId:
                          description: policy id (POLICY_CHANGE action)
                          type: string
                        revision:
                          description: new policy revision (POLICY_CHANGE action)
                          type: number
                        startTime:
                          description: start time of action (scheduled actions)
                          type: string
                        status:
                          enum:
                            - COMPLETE
                            - EXPIRED
                            - CANCELLED
                            - FAILED
                            - IN_PROGRESS
                            - ROLLOUT_PASSED
                          type: string
                        type:
                          enum:
                            - UPGRADE
                            - UNENROLL
                            - SETTINGS
                            - POLICY_REASSIGN
                            - CANCEL
                            - FORCE_UNENROLL
                            - REQUEST_DIAGNOSTICS
                            - UPDATE_TAGS
                            - POLICY_CHANGE
                            - INPUT_ACTION
                          type: string
                        version:
                          description: agent version number (UPGRADE action)
                          type: string
                      required:
                        - actionId
                        - nbAgentsActionCreated
                        - nbAgentsAck
                        - nbAgentsFailed
                        - type
                        - nbAgentsActioned
                        - status
                        - creationTime
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent actions
  /api/fleet/agents/actions/{actionId}/cancel:
    post:
      description: Cancel agent action
      operationId: '%2Fapi%2Ffleet%2Fagents%2Factions%2F%7BactionId%7D%2Fcancel#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: actionId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      ack_data: {}
                      agents:
                        items:
                          type: string
                        type: array
                      created_at:
                        type: string
                      data: {}
                      expiration:
                        type: string
                      id:
                        type: string
                      minimum_execution_duration:
                        type: number
                      namespaces:
                        items:
                          type: string
                        type: array
                      rollout_duration_seconds:
                        type: number
                      sent_at:
                        type: string
                      source_uri:
                        type: string
                      start_time:
                        type: string
                      total:
                        type: number
                      type:
                        type: string
                    required:
                      - id
                      - type
                      - data
                      - created_at
                      - ack_data
                      - agents
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent actions
  /api/fleet/agents/available_versions:
    get:
      description: Get available agent versions
      operationId: '%2Fapi%2Ffleet%2Fagents%2Favailable_versions#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      type: string
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
  /api/fleet/agents/bulk_reassign:
    post:
      description: Bulk reassign agents
      operationId: '%2Fapi%2Ffleet%2Fagents%2Fbulk_reassign#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                agents:
                  anyOf:
                    - items:
                        type: string
                      type: array
                    - type: string
                batchSize:
                  type: number
                includeInactive:
                  default: false
                  type: boolean
                policy_id:
                  type: string
              required:
                - policy_id
                - agents
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  actionId:
                    type: string
                required:
                  - actionId
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent actions
  /api/fleet/agents/bulk_request_diagnostics:
    post:
      description: Bulk request diagnostics from agents
      operationId: '%2Fapi%2Ffleet%2Fagents%2Fbulk_request_diagnostics#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                additional_metrics:
                  items:
                    enum:
                      - CPU
                    type: string
                  type: array
                agents:
                  anyOf:
                    - items:
                        type: string
                      type: array
                    - type: string
                batchSize:
                  type: number
              required:
                - agents
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  actionId:
                    type: string
                required:
                  - actionId
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent actions
  /api/fleet/agents/bulk_unenroll:
    post:
      description: Bulk unenroll agents
      operationId: '%2Fapi%2Ffleet%2Fagents%2Fbulk_unenroll#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                agents:
                  anyOf:
                    - items:
                        description: KQL query string, leave empty to action all agents
                        type: string
                      type: array
                    - description: list of agent IDs
                      type: string
                batchSize:
                  type: number
                force:
                  description: Unenrolls hosted agents too
                  type: boolean
                includeInactive:
                  description: >-
                    When passing agents by KQL query, unenrolls inactive agents
                    too
                  type: boolean
                revoke:
                  description: Revokes API keys of agents
                  type: boolean
              required:
                - agents
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  actionId:
                    type: string
                required:
                  - actionId
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent actions
  /api/fleet/agents/bulk_update_agent_tags:
    post:
      description: Bulk update agent tags
      operationId: '%2Fapi%2Ffleet%2Fagents%2Fbulk_update_agent_tags#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                agents:
                  anyOf:
                    - items:
                        type: string
                      type: array
                    - type: string
                batchSize:
                  type: number
                includeInactive:
                  default: false
                  type: boolean
                tagsToAdd:
                  items:
                    type: string
                  type: array
                tagsToRemove:
                  items:
                    type: string
                  type: array
              required:
                - agents
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  actionId:
                    type: string
                required:
                  - actionId
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent actions
  /api/fleet/agents/bulk_upgrade:
    post:
      description: Bulk upgrade agents
      operationId: '%2Fapi%2Ffleet%2Fagents%2Fbulk_upgrade#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                agents:
                  anyOf:
                    - items:
                        type: string
                      type: array
                    - type: string
                batchSize:
                  type: number
                force:
                  type: boolean
                includeInactive:
                  default: false
                  type: boolean
                rollout_duration_seconds:
                  minimum: 600
                  type: number
                skipRateLimitCheck:
                  type: boolean
                source_uri:
                  type: string
                start_time:
                  type: string
                version:
                  type: string
              required:
                - agents
                - version
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  actionId:
                    type: string
                required:
                  - actionId
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent actions
  /api/fleet/agents/files/{fileId}:
    delete:
      description: Delete file uploaded by agent
      operationId: '%2Fapi%2Ffleet%2Fagents%2Ffiles%2F%7BfileId%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: fileId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  deleted:
                    type: boolean
                  id:
                    type: string
                required:
                  - id
                  - deleted
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
  /api/fleet/agents/files/{fileId}/{fileName}:
    get:
      description: Get file uploaded by agent
      operationId: '%2Fapi%2Ffleet%2Fagents%2Ffiles%2F%7BfileId%7D%2F%7BfileName%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: fileId
          required: true
          schema:
            type: string
        - in: path
          name: fileName
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: object
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
  /api/fleet/agents/setup:
    get:
      description: Get agent setup info
      operationId: '%2Fapi%2Ffleet%2Fagents%2Fsetup#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: >-
                  A summary of the agent setup status. `isReady` indicates
                  whether the setup is ready. If the setup is not ready,
                  `missing_requirements` lists which requirements are missing.
                type: object
                properties:
                  is_secrets_storage_enabled:
                    type: boolean
                  is_space_awareness_enabled:
                    type: boolean
                  isReady:
                    type: boolean
                  missing_optional_features:
                    items:
                      enum:
                        - encrypted_saved_object_encryption_key_required
                      type: string
                    type: array
                  missing_requirements:
                    items:
                      enum:
                        - security_required
                        - tls_required
                        - api_keys
                        - fleet_admin_user
                        - fleet_server
                      type: string
                    type: array
                  package_verification_key_id:
                    type: string
                required:
                  - isReady
                  - missing_requirements
                  - missing_optional_features
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
    post:
      description: Initiate agent setup
      operationId: '%2Fapi%2Ffleet%2Fagents%2Fsetup#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: >-
                  A summary of the result of Fleet's `setup` lifecycle. If
                  `isInitialized` is true, Fleet is ready to accept agent
                  enrollment. `nonFatalErrors` may include useful insight into
                  non-blocking issues with Fleet setup.
                type: object
                properties:
                  isInitialized:
                    type: boolean
                  nonFatalErrors:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        message:
                          type: string
                        name:
                          type: string
                      required:
                        - name
                        - message
                    type: array
                required:
                  - isInitialized
                  - nonFatalErrors
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
  /api/fleet/agents/tags:
    get:
      description: List agent tags
      operationId: '%2Fapi%2Ffleet%2Fagents%2Ftags#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: kuery
          required: false
          schema:
            type: string
        - in: query
          name: showInactive
          required: false
          schema:
            default: false
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      type: string
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agents
  /api/fleet/check-permissions:
    get:
      description: Check permissions
      operationId: '%2Fapi%2Ffleet%2Fcheck-permissions#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: fleetServerSetup
          required: false
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  error:
                    enum:
                      - MISSING_SECURITY
                      - MISSING_PRIVILEGES
                      - MISSING_FLEET_SERVER_SETUP_PRIVILEGES
                    type: string
                  success:
                    type: boolean
                required:
                  - success
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet internals
  /api/fleet/data_streams:
    get:
      description: List data streams
      operationId: '%2Fapi%2Ffleet%2Fdata_streams#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  data_streams:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        dashboards:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              id:
                                type: string
                              title:
                                type: string
                            required:
                              - id
                              - title
                          type: array
                        dataset:
                          type: string
                        index:
                          type: string
                        last_activity_ms:
                          type: number
                        namespace:
                          type: string
                        package:
                          type: string
                        package_version:
                          type: string
                        serviceDetails:
                          additionalProperties: false
                          nullable: true
                          type: object
                          properties:
                            environment:
                              type: string
                            serviceName:
                              type: string
                          required:
                            - environment
                            - serviceName
                        size_in_bytes:
                          type: number
                        size_in_bytes_formatted:
                          anyOf:
                            - type: number
                            - type: string
                        type:
                          type: string
                      required:
                        - index
                        - dataset
                        - namespace
                        - type
                        - package
                        - package_version
                        - last_activity_ms
                        - size_in_bytes
                        - size_in_bytes_formatted
                        - dashboards
                        - serviceDetails
                    type: array
                required:
                  - data_streams
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Data streams
  /api/fleet/enrollment_api_keys:
    get:
      description: List enrollment API keys
      operationId: '%2Fapi%2Ffleet%2Fenrollment_api_keys#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: page
          required: false
          schema:
            default: 1
            type: number
        - in: query
          name: perPage
          required: false
          schema:
            default: 20
            type: number
        - in: query
          name: kuery
          required: false
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        active:
                          description: >-
                            When false, the enrollment API key is revoked and
                            cannot be used for enrolling Elastic Agents.
                          type: boolean
                        api_key:
                          description: >-
                            The enrollment API key (token) used for enrolling
                            Elastic Agents.
                          type: string
                        api_key_id:
                          description: The ID of the API key in the Security API.
                          type: string
                        created_at:
                          type: string
                        id:
                          type: string
                        name:
                          description: The name of the enrollment API key.
                          type: string
                        policy_id:
                          description: >-
                            The ID of the agent policy the Elastic Agent will be
                            enrolled in.
                          type: string
                      required:
                        - id
                        - api_key_id
                        - api_key
                        - active
                        - created_at
                    type: array
                  list:
                    deprecated: true
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        active:
                          description: >-
                            When false, the enrollment API key is revoked and
                            cannot be used for enrolling Elastic Agents.
                          type: boolean
                        api_key:
                          description: >-
                            The enrollment API key (token) used for enrolling
                            Elastic Agents.
                          type: string
                        api_key_id:
                          description: The ID of the API key in the Security API.
                          type: string
                        created_at:
                          type: string
                        id:
                          type: string
                        name:
                          description: The name of the enrollment API key.
                          type: string
                        policy_id:
                          description: >-
                            The ID of the agent policy the Elastic Agent will be
                            enrolled in.
                          type: string
                      required:
                        - id
                        - api_key_id
                        - api_key
                        - active
                        - created_at
                    type: array
                  page:
                    type: number
                  perPage:
                    type: number
                  total:
                    type: number
                required:
                  - items
                  - total
                  - page
                  - perPage
                  - list
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet enrollment API keys
    post:
      description: Create enrollment API key
      operationId: '%2Fapi%2Ffleet%2Fenrollment_api_keys#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                expiration:
                  type: string
                name:
                  type: string
                policy_id:
                  type: string
              required:
                - policy_id
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  action:
                    enum:
                      - created
                    type: string
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      active:
                        description: >-
                          When false, the enrollment API key is revoked and
                          cannot be used for enrolling Elastic Agents.
                        type: boolean
                      api_key:
                        description: >-
                          The enrollment API key (token) used for enrolling
                          Elastic Agents.
                        type: string
                      api_key_id:
                        description: The ID of the API key in the Security API.
                        type: string
                      created_at:
                        type: string
                      id:
                        type: string
                      name:
                        description: The name of the enrollment API key.
                        type: string
                      policy_id:
                        description: >-
                          The ID of the agent policy the Elastic Agent will be
                          enrolled in.
                        type: string
                    required:
                      - id
                      - api_key_id
                      - api_key
                      - active
                      - created_at
                required:
                  - item
                  - action
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet enrollment API keys
  /api/fleet/enrollment_api_keys/{keyId}:
    delete:
      description: Revoke enrollment API key by ID by marking it as inactive
      operationId: '%2Fapi%2Ffleet%2Fenrollment_api_keys%2F%7BkeyId%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: keyId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  action:
                    enum:
                      - deleted
                    type: string
                required:
                  - action
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet enrollment API keys
    get:
      description: Get enrollment API key by ID
      operationId: '%2Fapi%2Ffleet%2Fenrollment_api_keys%2F%7BkeyId%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: keyId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      active:
                        description: >-
                          When false, the enrollment API key is revoked and
                          cannot be used for enrolling Elastic Agents.
                        type: boolean
                      api_key:
                        description: >-
                          The enrollment API key (token) used for enrolling
                          Elastic Agents.
                        type: string
                      api_key_id:
                        description: The ID of the API key in the Security API.
                        type: string
                      created_at:
                        type: string
                      id:
                        type: string
                      name:
                        description: The name of the enrollment API key.
                        type: string
                      policy_id:
                        description: >-
                          The ID of the agent policy the Elastic Agent will be
                          enrolled in.
                        type: string
                    required:
                      - id
                      - api_key_id
                      - api_key
                      - active
                      - created_at
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet enrollment API keys
  /api/fleet/enrollment-api-keys:
    get:
      deprecated: true
      operationId: '%2Fapi%2Ffleet%2Fenrollment-api-keys#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: page
          required: false
          schema:
            default: 1
            type: number
        - in: query
          name: perPage
          required: false
          schema:
            default: 20
            type: number
        - in: query
          name: kuery
          required: false
          schema:
            type: string
      responses: {}
      summary: ''
      tags: []
    post:
      deprecated: true
      operationId: '%2Fapi%2Ffleet%2Fenrollment-api-keys#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                expiration:
                  type: string
                name:
                  type: string
                policy_id:
                  type: string
              required:
                - policy_id
      responses: {}
      summary: ''
      tags: []
  /api/fleet/enrollment-api-keys/{keyId}:
    delete:
      deprecated: true
      operationId: '%2Fapi%2Ffleet%2Fenrollment-api-keys%2F%7BkeyId%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: keyId
          required: true
          schema:
            type: string
      responses: {}
      summary: ''
      tags: []
    get:
      deprecated: true
      operationId: '%2Fapi%2Ffleet%2Fenrollment-api-keys%2F%7BkeyId%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: keyId
          required: true
          schema:
            type: string
      responses: {}
      summary: ''
      tags: []
  /api/fleet/epm/bulk_assets:
    post:
      description: Bulk get assets
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fbulk_assets#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                assetIds:
                  items:
                    additionalProperties: false
                    type: object
                    properties:
                      id:
                        type: string
                      type:
                        type: string
                    required:
                      - id
                      - type
                  type: array
              required:
                - assetIds
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        appLink:
                          type: string
                        attributes:
                          additionalProperties: false
                          type: object
                          properties:
                            description:
                              type: string
                            service:
                              type: string
                            title:
                              type: string
                        id:
                          type: string
                        type:
                          type: string
                        updatedAt:
                          type: string
                      required:
                        - id
                        - type
                        - attributes
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/categories:
    get:
      description: List package categories
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fcategories#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: prerelease
          required: false
          schema:
            type: boolean
        - in: query
          name: experimental
          required: false
          schema:
            type: boolean
        - in: query
          name: include_policy_templates
          required: false
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        count:
                          type: number
                        id:
                          type: string
                        parent_id:
                          type: string
                        parent_title:
                          type: string
                        title:
                          type: string
                      required:
                        - id
                        - title
                        - count
                    type: array
                  response:
                    items:
                      additionalProperties: false
                      deprecated: true
                      type: object
                      properties:
                        count:
                          type: number
                        id:
                          type: string
                        parent_id:
                          type: string
                        parent_title:
                          type: string
                        title:
                          type: string
                      required:
                        - id
                        - title
                        - count
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/custom_integrations:
    post:
      description: Create custom integration
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fcustom_integrations#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                datasets:
                  items:
                    additionalProperties: false
                    type: object
                    properties:
                      name:
                        type: string
                      type:
                        enum:
                          - logs
                          - metrics
                          - traces
                          - synthetics
                          - profiling
                        type: string
                    required:
                      - name
                      - type
                  type: array
                force:
                  type: boolean
                integrationName:
                  type: string
              required:
                - integrationName
                - datasets
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  _meta:
                    additionalProperties: false
                    type: object
                    properties:
                      install_source:
                        type: string
                    required:
                      - install_source
                  items:
                    items:
                      anyOf:
                        - additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                            originId:
                              type: string
                            type:
                              enum:
                                - dashboard
                                - lens
                                - visualization
                                - search
                                - index-pattern
                                - map
                                - ml-module
                                - security-rule
                                - csp-rule-template
                                - osquery-pack-asset
                                - osquery-saved-query
                                - tag
                              type: string
                          required:
                            - id
                            - type
                        - additionalProperties: false
                          type: object
                          properties:
                            deferred:
                              type: boolean
                            id:
                              type: string
                            type:
                              enum:
                                - index
                                - index_template
                                - component_template
                                - ingest_pipeline
                                - ilm_policy
                                - data_stream_ilm_policy
                                - transform
                                - ml_model
                              type: string
                            version:
                              type: string
                          required:
                            - id
                            - type
                    type: array
                  response:
                    deprecated: true
                    items:
                      anyOf:
                        - additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                            originId:
                              type: string
                            type:
                              enum:
                                - dashboard
                                - lens
                                - visualization
                                - search
                                - index-pattern
                                - map
                                - ml-module
                                - security-rule
                                - csp-rule-template
                                - osquery-pack-asset
                                - osquery-saved-query
                                - tag
                              type: string
                          required:
                            - id
                            - type
                        - additionalProperties: false
                          type: object
                          properties:
                            deferred:
                              type: boolean
                            id:
                              type: string
                            type:
                              enum:
                                - index
                                - index_template
                                - component_template
                                - ingest_pipeline
                                - ilm_policy
                                - data_stream_ilm_policy
                                - transform
                                - ml_model
                              type: string
                            version:
                              type: string
                          required:
                            - id
                            - type
                    type: array
                required:
                  - items
                  - _meta
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/data_streams:
    get:
      description: List data streams
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fdata_streams#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: type
          required: false
          schema:
            enum:
              - logs
              - metrics
              - traces
              - synthetics
              - profiling
            type: string
        - in: query
          name: datasetQuery
          required: false
          schema:
            type: string
        - in: query
          name: sortOrder
          required: false
          schema:
            default: asc
            enum:
              - asc
              - desc
            type: string
        - in: query
          name: uncategorisedOnly
          required: false
          schema:
            default: false
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        name:
                          type: string
                      required:
                        - name
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Data streams
  /api/fleet/epm/packages:
    get:
      description: List packages
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: category
          required: false
          schema:
            type: string
        - in: query
          name: prerelease
          required: false
          schema:
            type: boolean
        - in: query
          name: experimental
          required: false
          schema:
            type: boolean
        - in: query
          name: excludeInstallStatus
          required: false
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: true
                      type: object
                      properties:
                        categories:
                          items:
                            type: string
                          type: array
                        conditions:
                          additionalProperties: true
                          type: object
                          properties:
                            elastic:
                              additionalProperties: true
                              type: object
                              properties:
                                capabilities:
                                  items:
                                    type: string
                                  type: array
                                subscription:
                                  type: string
                            kibana:
                              additionalProperties: true
                              type: object
                              properties:
                                version:
                                  type: string
                        data_streams:
                          items:
                            additionalProperties: {}
                            type: object
                          type: array
                        description:
                          type: string
                        download:
                          type: string
                        format_version:
                          type: string
                        icons:
                          items:
                            additionalProperties: true
                            type: object
                            properties:
                              dark_mode:
                                type: boolean
                              path:
                                type: string
                              size:
                                type: string
                              src:
                                type: string
                              title:
                                type: string
                              type:
                                type: string
                            required:
                              - src
                          type: array
                        id:
                          type: string
                        installationInfo:
                          additionalProperties: true
                          type: object
                          properties:
                            additional_spaces_installed_kibana:
                              additionalProperties:
                                items:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                    originId:
                                      type: string
                                    type:
                                      enum:
                                        - dashboard
                                        - lens
                                        - visualization
                                        - search
                                        - index-pattern
                                        - map
                                        - ml-module
                                        - security-rule
                                        - csp-rule-template
                                        - osquery-pack-asset
                                        - osquery-saved-query
                                        - tag
                                      type: string
                                  required:
                                    - id
                                    - type
                                type: array
                              type: object
                            created_at:
                              type: string
                            experimental_data_stream_features:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  data_stream:
                                    type: string
                                  features:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      doc_value_only_numeric:
                                        type: boolean
                                      doc_value_only_other:
                                        type: boolean
                                      synthetic_source:
                                        type: boolean
                                      tsdb:
                                        type: boolean
                                required:
                                  - data_stream
                                  - features
                              type: array
                            install_format_schema_version:
                              type: string
                            install_source:
                              enum:
                                - registry
                                - upload
                                - bundled
                                - custom
                              type: string
                            install_status:
                              enum:
                                - installed
                                - installing
                                - install_failed
                              type: string
                            installed_es:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  deferred:
                                    type: boolean
                                  id:
                                    type: string
                                  type:
                                    enum:
                                      - index
                                      - index_template
                                      - component_template
                                      - ingest_pipeline
                                      - ilm_policy
                                      - data_stream_ilm_policy
                                      - transform
                                      - ml_model
                                    type: string
                                  version:
                                    type: string
                                required:
                                  - id
                                  - type
                              type: array
                            installed_kibana:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  id:
                                    type: string
                                  originId:
                                    type: string
                                  type:
                                    enum:
                                      - dashboard
                                      - lens
                                      - visualization
                                      - search
                                      - index-pattern
                                      - map
                                      - ml-module
                                      - security-rule
                                      - csp-rule-template
                                      - osquery-pack-asset
                                      - osquery-saved-query
                                      - tag
                                    type: string
                                required:
                                  - id
                                  - type
                              type: array
                            installed_kibana_space_id:
                              type: string
                            latest_executed_state:
                              additionalProperties: true
                              type: object
                              properties:
                                error:
                                  type: string
                                name:
                                  type: string
                                started_at:
                                  type: string
                              required:
                                - name
                                - started_at
                            latest_install_failed_attempts:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  created_at:
                                    type: string
                                  error:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      message:
                                        type: string
                                      name:
                                        type: string
                                      stack:
                                        type: string
                                    required:
                                      - name
                                      - message
                                  target_version:
                                    type: string
                                required:
                                  - created_at
                                  - target_version
                                  - error
                              type: array
                            name:
                              type: string
                            namespaces:
                              items:
                                type: string
                              type: array
                            type:
                              type: string
                            updated_at:
                              type: string
                            verification_key_id:
                              nullable: true
                              type: string
                            verification_status:
                              enum:
                                - unverified
                                - verified
                                - unknown
                              type: string
                            version:
                              type: string
                          required:
                            - type
                            - installed_kibana
                            - installed_es
                            - name
                            - version
                            - install_status
                            - install_source
                            - verification_status
                        integration:
                          type: string
                        internal:
                          type: boolean
                        latestVersion:
                          type: string
                        name:
                          type: string
                        owner:
                          additionalProperties: true
                          type: object
                          properties:
                            github:
                              type: string
                            type:
                              enum:
                                - elastic
                                - partner
                                - community
                              type: string
                        path:
                          type: string
                        policy_templates:
                          items:
                            additionalProperties: {}
                            type: object
                          type: array
                        readme:
                          type: string
                        release:
                          enum:
                            - ga
                            - beta
                            - experimental
                          type: string
                        savedObject: {}
                        signature_path:
                          type: string
                        source:
                          additionalProperties: true
                          type: object
                          properties:
                            license:
                              type: string
                          required:
                            - license
                        status:
                          type: string
                        title:
                          type: string
                        type:
                          enum:
                            - integration
                            - input
                          type: string
                        vars:
                          items:
                            additionalProperties: {}
                            type: object
                          type: array
                        version:
                          type: string
                      required:
                        - savedObject
                        - name
                        - version
                        - title
                        - id
                    type: array
                  response:
                    items:
                      additionalProperties: true
                      deprecated: true
                      type: object
                      properties:
                        categories:
                          items:
                            type: string
                          type: array
                        conditions:
                          additionalProperties: true
                          type: object
                          properties:
                            elastic:
                              additionalProperties: true
                              type: object
                              properties:
                                capabilities:
                                  items:
                                    type: string
                                  type: array
                                subscription:
                                  type: string
                            kibana:
                              additionalProperties: true
                              type: object
                              properties:
                                version:
                                  type: string
                        data_streams:
                          items:
                            additionalProperties: {}
                            type: object
                          type: array
                        description:
                          type: string
                        download:
                          type: string
                        format_version:
                          type: string
                        icons:
                          items:
                            additionalProperties: true
                            type: object
                            properties:
                              dark_mode:
                                type: boolean
                              path:
                                type: string
                              size:
                                type: string
                              src:
                                type: string
                              title:
                                type: string
                              type:
                                type: string
                            required:
                              - src
                          type: array
                        id:
                          type: string
                        installationInfo:
                          additionalProperties: true
                          type: object
                          properties:
                            additional_spaces_installed_kibana:
                              additionalProperties:
                                items:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                    originId:
                                      type: string
                                    type:
                                      enum:
                                        - dashboard
                                        - lens
                                        - visualization
                                        - search
                                        - index-pattern
                                        - map
                                        - ml-module
                                        - security-rule
                                        - csp-rule-template
                                        - osquery-pack-asset
                                        - osquery-saved-query
                                        - tag
                                      type: string
                                  required:
                                    - id
                                    - type
                                type: array
                              type: object
                            created_at:
                              type: string
                            experimental_data_stream_features:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  data_stream:
                                    type: string
                                  features:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      doc_value_only_numeric:
                                        type: boolean
                                      doc_value_only_other:
                                        type: boolean
                                      synthetic_source:
                                        type: boolean
                                      tsdb:
                                        type: boolean
                                required:
                                  - data_stream
                                  - features
                              type: array
                            install_format_schema_version:
                              type: string
                            install_source:
                              enum:
                                - registry
                                - upload
                                - bundled
                                - custom
                              type: string
                            install_status:
                              enum:
                                - installed
                                - installing
                                - install_failed
                              type: string
                            installed_es:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  deferred:
                                    type: boolean
                                  id:
                                    type: string
                                  type:
                                    enum:
                                      - index
                                      - index_template
                                      - component_template
                                      - ingest_pipeline
                                      - ilm_policy
                                      - data_stream_ilm_policy
                                      - transform
                                      - ml_model
                                    type: string
                                  version:
                                    type: string
                                required:
                                  - id
                                  - type
                              type: array
                            installed_kibana:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  id:
                                    type: string
                                  originId:
                                    type: string
                                  type:
                                    enum:
                                      - dashboard
                                      - lens
                                      - visualization
                                      - search
                                      - index-pattern
                                      - map
                                      - ml-module
                                      - security-rule
                                      - csp-rule-template
                                      - osquery-pack-asset
                                      - osquery-saved-query
                                      - tag
                                    type: string
                                required:
                                  - id
                                  - type
                              type: array
                            installed_kibana_space_id:
                              type: string
                            latest_executed_state:
                              additionalProperties: true
                              type: object
                              properties:
                                error:
                                  type: string
                                name:
                                  type: string
                                started_at:
                                  type: string
                              required:
                                - name
                                - started_at
                            latest_install_failed_attempts:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  created_at:
                                    type: string
                                  error:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      message:
                                        type: string
                                      name:
                                        type: string
                                      stack:
                                        type: string
                                    required:
                                      - name
                                      - message
                                  target_version:
                                    type: string
                                required:
                                  - created_at
                                  - target_version
                                  - error
                              type: array
                            name:
                              type: string
                            namespaces:
                              items:
                                type: string
                              type: array
                            type:
                              type: string
                            updated_at:
                              type: string
                            verification_key_id:
                              nullable: true
                              type: string
                            verification_status:
                              enum:
                                - unverified
                                - verified
                                - unknown
                              type: string
                            version:
                              type: string
                          required:
                            - type
                            - installed_kibana
                            - installed_es
                            - name
                            - version
                            - install_status
                            - install_source
                            - verification_status
                        integration:
                          type: string
                        internal:
                          type: boolean
                        latestVersion:
                          type: string
                        name:
                          type: string
                        owner:
                          additionalProperties: true
                          type: object
                          properties:
                            github:
                              type: string
                            type:
                              enum:
                                - elastic
                                - partner
                                - community
                              type: string
                        path:
                          type: string
                        policy_templates:
                          items:
                            additionalProperties: {}
                            type: object
                          type: array
                        readme:
                          type: string
                        release:
                          enum:
                            - ga
                            - beta
                            - experimental
                          type: string
                        savedObject: {}
                        signature_path:
                          type: string
                        source:
                          additionalProperties: true
                          type: object
                          properties:
                            license:
                              type: string
                          required:
                            - license
                        status:
                          type: string
                        title:
                          type: string
                        type:
                          enum:
                            - integration
                            - input
                          type: string
                        vars:
                          items:
                            additionalProperties: {}
                            type: object
                          type: array
                        version:
                          type: string
                      required:
                        - savedObject
                        - name
                        - version
                        - title
                        - id
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
    post:
      description: Install package by upload
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: query
          name: ignoreMappingUpdateErrors
          required: false
          schema:
            default: false
            type: boolean
        - in: query
          name: skipDataStreamRollover
          required: false
          schema:
            default: false
            type: boolean
      requestBody:
        content:
          application/gzip; application/zip; Elastic-Api-Version=2023-10-31:
            schema:
              format: binary
              type: string
      responses:
        '200':
          content:
            application/gzip; application/zip; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  _meta:
                    additionalProperties: false
                    type: object
                    properties:
                      install_source:
                        type: string
                    required:
                      - install_source
                  items:
                    items:
                      anyOf:
                        - additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                            originId:
                              type: string
                            type:
                              enum:
                                - dashboard
                                - lens
                                - visualization
                                - search
                                - index-pattern
                                - map
                                - ml-module
                                - security-rule
                                - csp-rule-template
                                - osquery-pack-asset
                                - osquery-saved-query
                                - tag
                              type: string
                          required:
                            - id
                            - type
                        - additionalProperties: false
                          type: object
                          properties:
                            deferred:
                              type: boolean
                            id:
                              type: string
                            type:
                              enum:
                                - index
                                - index_template
                                - component_template
                                - ingest_pipeline
                                - ilm_policy
                                - data_stream_ilm_policy
                                - transform
                                - ml_model
                              type: string
                            version:
                              type: string
                          required:
                            - id
                            - type
                    type: array
                  response:
                    deprecated: true
                    items:
                      anyOf:
                        - additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                            originId:
                              type: string
                            type:
                              enum:
                                - dashboard
                                - lens
                                - visualization
                                - search
                                - index-pattern
                                - map
                                - ml-module
                                - security-rule
                                - csp-rule-template
                                - osquery-pack-asset
                                - osquery-saved-query
                                - tag
                              type: string
                          required:
                            - id
                            - type
                        - additionalProperties: false
                          type: object
                          properties:
                            deferred:
                              type: boolean
                            id:
                              type: string
                            type:
                              enum:
                                - index
                                - index_template
                                - component_template
                                - ingest_pipeline
                                - ilm_policy
                                - data_stream_ilm_policy
                                - transform
                                - ml_model
                              type: string
                            version:
                              type: string
                          required:
                            - id
                            - type
                    type: array
                required:
                  - items
                  - _meta
        '400':
          content:
            application/gzip; application/zip; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/packages/_bulk:
    post:
      description: Bulk install packages
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2F_bulk#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: query
          name: prerelease
          required: false
          schema:
            type: boolean
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                force:
                  default: false
                  type: boolean
                packages:
                  items:
                    anyOf:
                      - type: string
                      - additionalProperties: false
                        type: object
                        properties:
                          name:
                            type: string
                          prerelease:
                            type: boolean
                          version:
                            type: string
                        required:
                          - name
                          - version
                  minItems: 1
                  type: array
              required:
                - packages
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      anyOf:
                        - additionalProperties: false
                          type: object
                          properties:
                            name:
                              type: string
                            result:
                              additionalProperties: false
                              type: object
                              properties:
                                assets:
                                  items:
                                    anyOf:
                                      - additionalProperties: false
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                          originId:
                                            type: string
                                          type:
                                            enum:
                                              - dashboard
                                              - lens
                                              - visualization
                                              - search
                                              - index-pattern
                                              - map
                                              - ml-module
                                              - security-rule
                                              - csp-rule-template
                                              - osquery-pack-asset
                                              - osquery-saved-query
                                              - tag
                                            type: string
                                        required:
                                          - id
                                          - type
                                      - additionalProperties: false
                                        type: object
                                        properties:
                                          deferred:
                                            type: boolean
                                          id:
                                            type: string
                                          type:
                                            enum:
                                              - index
                                              - index_template
                                              - component_template
                                              - ingest_pipeline
                                              - ilm_policy
                                              - data_stream_ilm_policy
                                              - transform
                                              - ml_model
                                            type: string
                                          version:
                                            type: string
                                        required:
                                          - id
                                          - type
                                  type: array
                                error: {}
                                installSource:
                                  type: string
                                installType:
                                  type: string
                                status:
                                  enum:
                                    - installed
                                    - already_installed
                                  type: string
                              required:
                                - error
                                - installType
                            version:
                              type: string
                          required:
                            - name
                            - version
                            - result
                        - additionalProperties: false
                          type: object
                          properties:
                            error:
                              anyOf:
                                - type: string
                                - {}
                            name:
                              type: string
                            statusCode:
                              type: number
                          required:
                            - name
                            - statusCode
                            - error
                    type: array
                  response:
                    deprecated: true
                    items:
                      anyOf:
                        - additionalProperties: false
                          type: object
                          properties:
                            name:
                              type: string
                            result:
                              additionalProperties: false
                              type: object
                              properties:
                                assets:
                                  items:
                                    anyOf:
                                      - additionalProperties: false
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                          originId:
                                            type: string
                                          type:
                                            enum:
                                              - dashboard
                                              - lens
                                              - visualization
                                              - search
                                              - index-pattern
                                              - map
                                              - ml-module
                                              - security-rule
                                              - csp-rule-template
                                              - osquery-pack-asset
                                              - osquery-saved-query
                                              - tag
                                            type: string
                                        required:
                                          - id
                                          - type
                                      - additionalProperties: false
                                        type: object
                                        properties:
                                          deferred:
                                            type: boolean
                                          id:
                                            type: string
                                          type:
                                            enum:
                                              - index
                                              - index_template
                                              - component_template
                                              - ingest_pipeline
                                              - ilm_policy
                                              - data_stream_ilm_policy
                                              - transform
                                              - ml_model
                                            type: string
                                          version:
                                            type: string
                                        required:
                                          - id
                                          - type
                                  type: array
                                error: {}
                                installSource:
                                  type: string
                                installType:
                                  type: string
                                status:
                                  enum:
                                    - installed
                                    - already_installed
                                  type: string
                              required:
                                - error
                                - installType
                            version:
                              type: string
                          required:
                            - name
                            - version
                            - result
                        - additionalProperties: false
                          type: object
                          properties:
                            error:
                              anyOf:
                                - type: string
                                - {}
                            name:
                              type: string
                            statusCode:
                              type: number
                          required:
                            - name
                            - statusCode
                            - error
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/packages/{pkgkey}:
    delete:
      deprecated: true
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7Bpkgkey%7D#3'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: pkgkey
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              nullable: true
              type: object
              properties:
                force:
                  type: boolean
              required:
                - force
      responses: {}
      summary: ''
      tags: []
    get:
      deprecated: true
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7Bpkgkey%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: pkgkey
          required: true
          schema:
            type: string
        - in: query
          name: ignoreUnverified
          required: false
          schema:
            type: boolean
        - in: query
          name: prerelease
          required: false
          schema:
            type: boolean
        - in: query
          name: full
          required: false
          schema:
            type: boolean
        - in: query
          name: withMetadata
          required: false
          schema:
            default: false
            type: boolean
      responses: {}
      summary: ''
      tags: []
    post:
      deprecated: true
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7Bpkgkey%7D#2'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: pkgkey
          required: true
          schema:
            type: string
        - in: query
          name: prerelease
          required: false
          schema:
            type: boolean
        - in: query
          name: ignoreMappingUpdateErrors
          required: false
          schema:
            default: false
            type: boolean
        - in: query
          name: skipDataStreamRollover
          required: false
          schema:
            default: false
            type: boolean
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              nullable: true
              type: object
              properties:
                force:
                  type: boolean
              required:
                - force
      responses: {}
      summary: ''
      tags: []
    put:
      deprecated: true
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7Bpkgkey%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: pkgkey
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                keepPoliciesUpToDate:
                  type: boolean
              required:
                - keepPoliciesUpToDate
      responses: {}
      summary: ''
      tags: []
  /api/fleet/epm/packages/{pkgName}/{pkgVersion}:
    delete:
      description: Delete package
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D#3'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: pkgName
          required: true
          schema:
            type: string
        - in: path
          name: pkgVersion
          required: true
          schema:
            type: string
        - in: query
          name: force
          required: false
          schema:
            type: boolean
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              nullable: true
              type: object
              properties:
                force:
                  type: boolean
              required:
                - force
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      anyOf:
                        - additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                            originId:
                              type: string
                            type:
                              enum:
                                - dashboard
                                - lens
                                - visualization
                                - search
                                - index-pattern
                                - map
                                - ml-module
                                - security-rule
                                - csp-rule-template
                                - osquery-pack-asset
                                - osquery-saved-query
                                - tag
                              type: string
                          required:
                            - id
                            - type
                        - additionalProperties: false
                          type: object
                          properties:
                            deferred:
                              type: boolean
                            id:
                              type: string
                            type:
                              enum:
                                - index
                                - index_template
                                - component_template
                                - ingest_pipeline
                                - ilm_policy
                                - data_stream_ilm_policy
                                - transform
                                - ml_model
                              type: string
                            version:
                              type: string
                          required:
                            - id
                            - type
                    type: array
                  response:
                    deprecated: true
                    items:
                      anyOf:
                        - additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                            originId:
                              type: string
                            type:
                              enum:
                                - dashboard
                                - lens
                                - visualization
                                - search
                                - index-pattern
                                - map
                                - ml-module
                                - security-rule
                                - csp-rule-template
                                - osquery-pack-asset
                                - osquery-saved-query
                                - tag
                              type: string
                          required:
                            - id
                            - type
                        - additionalProperties: false
                          type: object
                          properties:
                            deferred:
                              type: boolean
                            id:
                              type: string
                            type:
                              enum:
                                - index
                                - index_template
                                - component_template
                                - ingest_pipeline
                                - ilm_policy
                                - data_stream_ilm_policy
                                - transform
                                - ml_model
                              type: string
                            version:
                              type: string
                          required:
                            - id
                            - type
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
    get:
      description: Get package
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: pkgName
          required: true
          schema:
            type: string
        - in: path
          name: pkgVersion
          required: true
          schema:
            type: string
        - in: query
          name: ignoreUnverified
          required: false
          schema:
            type: boolean
        - in: query
          name: prerelease
          required: false
          schema:
            type: boolean
        - in: query
          name: full
          required: false
          schema:
            type: boolean
        - in: query
          name: withMetadata
          required: false
          schema:
            default: false
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: true
                    type: object
                    properties:
                      agent:
                        additionalProperties: false
                        type: object
                        properties:
                          privileges:
                            additionalProperties: false
                            type: object
                            properties:
                              root:
                                type: boolean
                      asset_tags:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            asset_ids:
                              items:
                                type: string
                              type: array
                            asset_types:
                              items:
                                type: string
                              type: array
                            text:
                              type: string
                          required:
                            - text
                        type: array
                      assets:
                        additionalProperties: {}
                        type: object
                      categories:
                        items:
                          type: string
                        type: array
                      conditions:
                        additionalProperties: true
                        type: object
                        properties:
                          elastic:
                            additionalProperties: true
                            type: object
                            properties:
                              capabilities:
                                items:
                                  type: string
                                type: array
                              subscription:
                                type: string
                          kibana:
                            additionalProperties: true
                            type: object
                            properties:
                              version:
                                type: string
                      data_streams:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      description:
                        type: string
                      download:
                        type: string
                      elasticsearch:
                        additionalProperties: {}
                        type: object
                      format_version:
                        type: string
                      icons:
                        items:
                          additionalProperties: true
                          type: object
                          properties:
                            dark_mode:
                              type: boolean
                            path:
                              type: string
                            size:
                              type: string
                            src:
                              type: string
                            title:
                              type: string
                            type:
                              type: string
                          required:
                            - src
                        type: array
                      installationInfo:
                        additionalProperties: true
                        type: object
                        properties:
                          additional_spaces_installed_kibana:
                            additionalProperties:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  id:
                                    type: string
                                  originId:
                                    type: string
                                  type:
                                    enum:
                                      - dashboard
                                      - lens
                                      - visualization
                                      - search
                                      - index-pattern
                                      - map
                                      - ml-module
                                      - security-rule
                                      - csp-rule-template
                                      - osquery-pack-asset
                                      - osquery-saved-query
                                      - tag
                                    type: string
                                required:
                                  - id
                                  - type
                              type: array
                            type: object
                          created_at:
                            type: string
                          experimental_data_stream_features:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                data_stream:
                                  type: string
                                features:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    doc_value_only_numeric:
                                      type: boolean
                                    doc_value_only_other:
                                      type: boolean
                                    synthetic_source:
                                      type: boolean
                                    tsdb:
                                      type: boolean
                              required:
                                - data_stream
                                - features
                            type: array
                          install_format_schema_version:
                            type: string
                          install_source:
                            enum:
                              - registry
                              - upload
                              - bundled
                              - custom
                            type: string
                          install_status:
                            enum:
                              - installed
                              - installing
                              - install_failed
                            type: string
                          installed_es:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                deferred:
                                  type: boolean
                                id:
                                  type: string
                                type:
                                  enum:
                                    - index
                                    - index_template
                                    - component_template
                                    - ingest_pipeline
                                    - ilm_policy
                                    - data_stream_ilm_policy
                                    - transform
                                    - ml_model
                                  type: string
                                version:
                                  type: string
                              required:
                                - id
                                - type
                            type: array
                          installed_kibana:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                id:
                                  type: string
                                originId:
                                  type: string
                                type:
                                  enum:
                                    - dashboard
                                    - lens
                                    - visualization
                                    - search
                                    - index-pattern
                                    - map
                                    - ml-module
                                    - security-rule
                                    - csp-rule-template
                                    - osquery-pack-asset
                                    - osquery-saved-query
                                    - tag
                                  type: string
                              required:
                                - id
                                - type
                            type: array
                          installed_kibana_space_id:
                            type: string
                          latest_executed_state:
                            additionalProperties: true
                            type: object
                            properties:
                              error:
                                type: string
                              name:
                                type: string
                              started_at:
                                type: string
                            required:
                              - name
                              - started_at
                          latest_install_failed_attempts:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                created_at:
                                  type: string
                                error:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    message:
                                      type: string
                                    name:
                                      type: string
                                    stack:
                                      type: string
                                  required:
                                    - name
                                    - message
                                target_version:
                                  type: string
                              required:
                                - created_at
                                - target_version
                                - error
                            type: array
                          name:
                            type: string
                          namespaces:
                            items:
                              type: string
                            type: array
                          type:
                            type: string
                          updated_at:
                            type: string
                          verification_key_id:
                            nullable: true
                            type: string
                          verification_status:
                            enum:
                              - unverified
                              - verified
                              - unknown
                            type: string
                          version:
                            type: string
                        required:
                          - type
                          - installed_kibana
                          - installed_es
                          - name
                          - version
                          - install_status
                          - install_source
                          - verification_status
                      internal:
                        type: boolean
                      keepPoliciesUpToDate:
                        type: boolean
                      latestVersion:
                        type: string
                      license:
                        type: string
                      licensePath:
                        type: string
                      name:
                        type: string
                      notice:
                        type: string
                      owner:
                        additionalProperties: true
                        type: object
                        properties:
                          github:
                            type: string
                          type:
                            enum:
                              - elastic
                              - partner
                              - community
                            type: string
                      path:
                        type: string
                      policy_templates:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      readme:
                        type: string
                      release:
                        enum:
                          - ga
                          - beta
                          - experimental
                        type: string
                      savedObject: {}
                      screenshots:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            dark_mode:
                              type: boolean
                            path:
                              type: string
                            size:
                              type: string
                            src:
                              type: string
                            title:
                              type: string
                            type:
                              type: string
                          required:
                            - src
                        type: array
                      signature_path:
                        type: string
                      source:
                        additionalProperties: true
                        type: object
                        properties:
                          license:
                            type: string
                        required:
                          - license
                      status:
                        type: string
                      title:
                        type: string
                      type:
                        enum:
                          - integration
                          - input
                        type: string
                      vars:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      version:
                        type: string
                    required:
                      - savedObject
                      - name
                      - version
                      - title
                      - assets
                  metadata:
                    additionalProperties: false
                    type: object
                    properties:
                      has_policies:
                        type: boolean
                    required:
                      - has_policies
                  response:
                    additionalProperties: true
                    deprecated: true
                    type: object
                    properties:
                      agent:
                        additionalProperties: false
                        type: object
                        properties:
                          privileges:
                            additionalProperties: false
                            type: object
                            properties:
                              root:
                                type: boolean
                      asset_tags:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            asset_ids:
                              items:
                                type: string
                              type: array
                            asset_types:
                              items:
                                type: string
                              type: array
                            text:
                              type: string
                          required:
                            - text
                        type: array
                      assets:
                        additionalProperties: {}
                        type: object
                      categories:
                        items:
                          type: string
                        type: array
                      conditions:
                        additionalProperties: true
                        type: object
                        properties:
                          elastic:
                            additionalProperties: true
                            type: object
                            properties:
                              capabilities:
                                items:
                                  type: string
                                type: array
                              subscription:
                                type: string
                          kibana:
                            additionalProperties: true
                            type: object
                            properties:
                              version:
                                type: string
                      data_streams:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      description:
                        type: string
                      download:
                        type: string
                      elasticsearch:
                        additionalProperties: {}
                        type: object
                      format_version:
                        type: string
                      icons:
                        items:
                          additionalProperties: true
                          type: object
                          properties:
                            dark_mode:
                              type: boolean
                            path:
                              type: string
                            size:
                              type: string
                            src:
                              type: string
                            title:
                              type: string
                            type:
                              type: string
                          required:
                            - src
                        type: array
                      installationInfo:
                        additionalProperties: true
                        type: object
                        properties:
                          additional_spaces_installed_kibana:
                            additionalProperties:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  id:
                                    type: string
                                  originId:
                                    type: string
                                  type:
                                    enum:
                                      - dashboard
                                      - lens
                                      - visualization
                                      - search
                                      - index-pattern
                                      - map
                                      - ml-module
                                      - security-rule
                                      - csp-rule-template
                                      - osquery-pack-asset
                                      - osquery-saved-query
                                      - tag
                                    type: string
                                required:
                                  - id
                                  - type
                              type: array
                            type: object
                          created_at:
                            type: string
                          experimental_data_stream_features:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                data_stream:
                                  type: string
                                features:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    doc_value_only_numeric:
                                      type: boolean
                                    doc_value_only_other:
                                      type: boolean
                                    synthetic_source:
                                      type: boolean
                                    tsdb:
                                      type: boolean
                              required:
                                - data_stream
                                - features
                            type: array
                          install_format_schema_version:
                            type: string
                          install_source:
                            enum:
                              - registry
                              - upload
                              - bundled
                              - custom
                            type: string
                          install_status:
                            enum:
                              - installed
                              - installing
                              - install_failed
                            type: string
                          installed_es:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                deferred:
                                  type: boolean
                                id:
                                  type: string
                                type:
                                  enum:
                                    - index
                                    - index_template
                                    - component_template
                                    - ingest_pipeline
                                    - ilm_policy
                                    - data_stream_ilm_policy
                                    - transform
                                    - ml_model
                                  type: string
                                version:
                                  type: string
                              required:
                                - id
                                - type
                            type: array
                          installed_kibana:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                id:
                                  type: string
                                originId:
                                  type: string
                                type:
                                  enum:
                                    - dashboard
                                    - lens
                                    - visualization
                                    - search
                                    - index-pattern
                                    - map
                                    - ml-module
                                    - security-rule
                                    - csp-rule-template
                                    - osquery-pack-asset
                                    - osquery-saved-query
                                    - tag
                                  type: string
                              required:
                                - id
                                - type
                            type: array
                          installed_kibana_space_id:
                            type: string
                          latest_executed_state:
                            additionalProperties: true
                            type: object
                            properties:
                              error:
                                type: string
                              name:
                                type: string
                              started_at:
                                type: string
                            required:
                              - name
                              - started_at
                          latest_install_failed_attempts:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                created_at:
                                  type: string
                                error:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    message:
                                      type: string
                                    name:
                                      type: string
                                    stack:
                                      type: string
                                  required:
                                    - name
                                    - message
                                target_version:
                                  type: string
                              required:
                                - created_at
                                - target_version
                                - error
                            type: array
                          name:
                            type: string
                          namespaces:
                            items:
                              type: string
                            type: array
                          type:
                            type: string
                          updated_at:
                            type: string
                          verification_key_id:
                            nullable: true
                            type: string
                          verification_status:
                            enum:
                              - unverified
                              - verified
                              - unknown
                            type: string
                          version:
                            type: string
                        required:
                          - type
                          - installed_kibana
                          - installed_es
                          - name
                          - version
                          - install_status
                          - install_source
                          - verification_status
                      internal:
                        type: boolean
                      keepPoliciesUpToDate:
                        type: boolean
                      latestVersion:
                        type: string
                      license:
                        type: string
                      licensePath:
                        type: string
                      name:
                        type: string
                      notice:
                        type: string
                      owner:
                        additionalProperties: true
                        type: object
                        properties:
                          github:
                            type: string
                          type:
                            enum:
                              - elastic
                              - partner
                              - community
                            type: string
                      path:
                        type: string
                      policy_templates:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      readme:
                        type: string
                      release:
                        enum:
                          - ga
                          - beta
                          - experimental
                        type: string
                      savedObject: {}
                      screenshots:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            dark_mode:
                              type: boolean
                            path:
                              type: string
                            size:
                              type: string
                            src:
                              type: string
                            title:
                              type: string
                            type:
                              type: string
                          required:
                            - src
                        type: array
                      signature_path:
                        type: string
                      source:
                        additionalProperties: true
                        type: object
                        properties:
                          license:
                            type: string
                        required:
                          - license
                      status:
                        type: string
                      title:
                        type: string
                      type:
                        enum:
                          - integration
                          - input
                        type: string
                      vars:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      version:
                        type: string
                    required:
                      - savedObject
                      - name
                      - version
                      - title
                      - assets
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
    post:
      description: Install package from registry
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D#2'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: pkgName
          required: true
          schema:
            type: string
        - in: path
          name: pkgVersion
          required: true
          schema:
            type: string
        - in: query
          name: prerelease
          required: false
          schema:
            type: boolean
        - in: query
          name: ignoreMappingUpdateErrors
          required: false
          schema:
            default: false
            type: boolean
        - in: query
          name: skipDataStreamRollover
          required: false
          schema:
            default: false
            type: boolean
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              nullable: true
              type: object
              properties:
                force:
                  default: false
                  type: boolean
                ignore_constraints:
                  default: false
                  type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  _meta:
                    additionalProperties: false
                    type: object
                    properties:
                      install_source:
                        type: string
                    required:
                      - install_source
                  items:
                    items:
                      anyOf:
                        - additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                            originId:
                              type: string
                            type:
                              enum:
                                - dashboard
                                - lens
                                - visualization
                                - search
                                - index-pattern
                                - map
                                - ml-module
                                - security-rule
                                - csp-rule-template
                                - osquery-pack-asset
                                - osquery-saved-query
                                - tag
                              type: string
                          required:
                            - id
                            - type
                        - additionalProperties: false
                          type: object
                          properties:
                            deferred:
                              type: boolean
                            id:
                              type: string
                            type:
                              enum:
                                - index
                                - index_template
                                - component_template
                                - ingest_pipeline
                                - ilm_policy
                                - data_stream_ilm_policy
                                - transform
                                - ml_model
                              type: string
                            version:
                              type: string
                          required:
                            - id
                            - type
                    type: array
                  response:
                    deprecated: true
                    items:
                      anyOf:
                        - additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                            originId:
                              type: string
                            type:
                              enum:
                                - dashboard
                                - lens
                                - visualization
                                - search
                                - index-pattern
                                - map
                                - ml-module
                                - security-rule
                                - csp-rule-template
                                - osquery-pack-asset
                                - osquery-saved-query
                                - tag
                              type: string
                          required:
                            - id
                            - type
                        - additionalProperties: false
                          type: object
                          properties:
                            deferred:
                              type: boolean
                            id:
                              type: string
                            type:
                              enum:
                                - index
                                - index_template
                                - component_template
                                - ingest_pipeline
                                - ilm_policy
                                - data_stream_ilm_policy
                                - transform
                                - ml_model
                              type: string
                            version:
                              type: string
                          required:
                            - id
                            - type
                    type: array
                required:
                  - items
                  - _meta
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
    put:
      description: Update package settings
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: pkgName
          required: true
          schema:
            type: string
        - in: path
          name: pkgVersion
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                keepPoliciesUpToDate:
                  type: boolean
              required:
                - keepPoliciesUpToDate
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: true
                    type: object
                    properties:
                      agent:
                        additionalProperties: false
                        type: object
                        properties:
                          privileges:
                            additionalProperties: false
                            type: object
                            properties:
                              root:
                                type: boolean
                      asset_tags:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            asset_ids:
                              items:
                                type: string
                              type: array
                            asset_types:
                              items:
                                type: string
                              type: array
                            text:
                              type: string
                          required:
                            - text
                        type: array
                      assets:
                        additionalProperties: {}
                        type: object
                      categories:
                        items:
                          type: string
                        type: array
                      conditions:
                        additionalProperties: true
                        type: object
                        properties:
                          elastic:
                            additionalProperties: true
                            type: object
                            properties:
                              capabilities:
                                items:
                                  type: string
                                type: array
                              subscription:
                                type: string
                          kibana:
                            additionalProperties: true
                            type: object
                            properties:
                              version:
                                type: string
                      data_streams:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      description:
                        type: string
                      download:
                        type: string
                      elasticsearch:
                        additionalProperties: {}
                        type: object
                      format_version:
                        type: string
                      icons:
                        items:
                          additionalProperties: true
                          type: object
                          properties:
                            dark_mode:
                              type: boolean
                            path:
                              type: string
                            size:
                              type: string
                            src:
                              type: string
                            title:
                              type: string
                            type:
                              type: string
                          required:
                            - src
                        type: array
                      installationInfo:
                        additionalProperties: true
                        type: object
                        properties:
                          additional_spaces_installed_kibana:
                            additionalProperties:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  id:
                                    type: string
                                  originId:
                                    type: string
                                  type:
                                    enum:
                                      - dashboard
                                      - lens
                                      - visualization
                                      - search
                                      - index-pattern
                                      - map
                                      - ml-module
                                      - security-rule
                                      - csp-rule-template
                                      - osquery-pack-asset
                                      - osquery-saved-query
                                      - tag
                                    type: string
                                required:
                                  - id
                                  - type
                              type: array
                            type: object
                          created_at:
                            type: string
                          experimental_data_stream_features:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                data_stream:
                                  type: string
                                features:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    doc_value_only_numeric:
                                      type: boolean
                                    doc_value_only_other:
                                      type: boolean
                                    synthetic_source:
                                      type: boolean
                                    tsdb:
                                      type: boolean
                              required:
                                - data_stream
                                - features
                            type: array
                          install_format_schema_version:
                            type: string
                          install_source:
                            enum:
                              - registry
                              - upload
                              - bundled
                              - custom
                            type: string
                          install_status:
                            enum:
                              - installed
                              - installing
                              - install_failed
                            type: string
                          installed_es:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                deferred:
                                  type: boolean
                                id:
                                  type: string
                                type:
                                  enum:
                                    - index
                                    - index_template
                                    - component_template
                                    - ingest_pipeline
                                    - ilm_policy
                                    - data_stream_ilm_policy
                                    - transform
                                    - ml_model
                                  type: string
                                version:
                                  type: string
                              required:
                                - id
                                - type
                            type: array
                          installed_kibana:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                id:
                                  type: string
                                originId:
                                  type: string
                                type:
                                  enum:
                                    - dashboard
                                    - lens
                                    - visualization
                                    - search
                                    - index-pattern
                                    - map
                                    - ml-module
                                    - security-rule
                                    - csp-rule-template
                                    - osquery-pack-asset
                                    - osquery-saved-query
                                    - tag
                                  type: string
                              required:
                                - id
                                - type
                            type: array
                          installed_kibana_space_id:
                            type: string
                          latest_executed_state:
                            additionalProperties: true
                            type: object
                            properties:
                              error:
                                type: string
                              name:
                                type: string
                              started_at:
                                type: string
                            required:
                              - name
                              - started_at
                          latest_install_failed_attempts:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                created_at:
                                  type: string
                                error:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    message:
                                      type: string
                                    name:
                                      type: string
                                    stack:
                                      type: string
                                  required:
                                    - name
                                    - message
                                target_version:
                                  type: string
                              required:
                                - created_at
                                - target_version
                                - error
                            type: array
                          name:
                            type: string
                          namespaces:
                            items:
                              type: string
                            type: array
                          type:
                            type: string
                          updated_at:
                            type: string
                          verification_key_id:
                            nullable: true
                            type: string
                          verification_status:
                            enum:
                              - unverified
                              - verified
                              - unknown
                            type: string
                          version:
                            type: string
                        required:
                          - type
                          - installed_kibana
                          - installed_es
                          - name
                          - version
                          - install_status
                          - install_source
                          - verification_status
                      internal:
                        type: boolean
                      keepPoliciesUpToDate:
                        type: boolean
                      latestVersion:
                        type: string
                      license:
                        type: string
                      licensePath:
                        type: string
                      name:
                        type: string
                      notice:
                        type: string
                      owner:
                        additionalProperties: true
                        type: object
                        properties:
                          github:
                            type: string
                          type:
                            enum:
                              - elastic
                              - partner
                              - community
                            type: string
                      path:
                        type: string
                      policy_templates:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      readme:
                        type: string
                      release:
                        enum:
                          - ga
                          - beta
                          - experimental
                        type: string
                      savedObject: {}
                      screenshots:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            dark_mode:
                              type: boolean
                            path:
                              type: string
                            size:
                              type: string
                            src:
                              type: string
                            title:
                              type: string
                            type:
                              type: string
                          required:
                            - src
                        type: array
                      signature_path:
                        type: string
                      source:
                        additionalProperties: true
                        type: object
                        properties:
                          license:
                            type: string
                        required:
                          - license
                      status:
                        type: string
                      title:
                        type: string
                      type:
                        enum:
                          - integration
                          - input
                        type: string
                      vars:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      version:
                        type: string
                    required:
                      - savedObject
                      - name
                      - version
                      - title
                      - assets
                  response:
                    additionalProperties: true
                    deprecated: true
                    type: object
                    properties:
                      agent:
                        additionalProperties: false
                        type: object
                        properties:
                          privileges:
                            additionalProperties: false
                            type: object
                            properties:
                              root:
                                type: boolean
                      asset_tags:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            asset_ids:
                              items:
                                type: string
                              type: array
                            asset_types:
                              items:
                                type: string
                              type: array
                            text:
                              type: string
                          required:
                            - text
                        type: array
                      assets:
                        additionalProperties: {}
                        type: object
                      categories:
                        items:
                          type: string
                        type: array
                      conditions:
                        additionalProperties: true
                        type: object
                        properties:
                          elastic:
                            additionalProperties: true
                            type: object
                            properties:
                              capabilities:
                                items:
                                  type: string
                                type: array
                              subscription:
                                type: string
                          kibana:
                            additionalProperties: true
                            type: object
                            properties:
                              version:
                                type: string
                      data_streams:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      description:
                        type: string
                      download:
                        type: string
                      elasticsearch:
                        additionalProperties: {}
                        type: object
                      format_version:
                        type: string
                      icons:
                        items:
                          additionalProperties: true
                          type: object
                          properties:
                            dark_mode:
                              type: boolean
                            path:
                              type: string
                            size:
                              type: string
                            src:
                              type: string
                            title:
                              type: string
                            type:
                              type: string
                          required:
                            - src
                        type: array
                      installationInfo:
                        additionalProperties: true
                        type: object
                        properties:
                          additional_spaces_installed_kibana:
                            additionalProperties:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  id:
                                    type: string
                                  originId:
                                    type: string
                                  type:
                                    enum:
                                      - dashboard
                                      - lens
                                      - visualization
                                      - search
                                      - index-pattern
                                      - map
                                      - ml-module
                                      - security-rule
                                      - csp-rule-template
                                      - osquery-pack-asset
                                      - osquery-saved-query
                                      - tag
                                    type: string
                                required:
                                  - id
                                  - type
                              type: array
                            type: object
                          created_at:
                            type: string
                          experimental_data_stream_features:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                data_stream:
                                  type: string
                                features:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    doc_value_only_numeric:
                                      type: boolean
                                    doc_value_only_other:
                                      type: boolean
                                    synthetic_source:
                                      type: boolean
                                    tsdb:
                                      type: boolean
                              required:
                                - data_stream
                                - features
                            type: array
                          install_format_schema_version:
                            type: string
                          install_source:
                            enum:
                              - registry
                              - upload
                              - bundled
                              - custom
                            type: string
                          install_status:
                            enum:
                              - installed
                              - installing
                              - install_failed
                            type: string
                          installed_es:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                deferred:
                                  type: boolean
                                id:
                                  type: string
                                type:
                                  enum:
                                    - index
                                    - index_template
                                    - component_template
                                    - ingest_pipeline
                                    - ilm_policy
                                    - data_stream_ilm_policy
                                    - transform
                                    - ml_model
                                  type: string
                                version:
                                  type: string
                              required:
                                - id
                                - type
                            type: array
                          installed_kibana:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                id:
                                  type: string
                                originId:
                                  type: string
                                type:
                                  enum:
                                    - dashboard
                                    - lens
                                    - visualization
                                    - search
                                    - index-pattern
                                    - map
                                    - ml-module
                                    - security-rule
                                    - csp-rule-template
                                    - osquery-pack-asset
                                    - osquery-saved-query
                                    - tag
                                  type: string
                              required:
                                - id
                                - type
                            type: array
                          installed_kibana_space_id:
                            type: string
                          latest_executed_state:
                            additionalProperties: true
                            type: object
                            properties:
                              error:
                                type: string
                              name:
                                type: string
                              started_at:
                                type: string
                            required:
                              - name
                              - started_at
                          latest_install_failed_attempts:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                created_at:
                                  type: string
                                error:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    message:
                                      type: string
                                    name:
                                      type: string
                                    stack:
                                      type: string
                                  required:
                                    - name
                                    - message
                                target_version:
                                  type: string
                              required:
                                - created_at
                                - target_version
                                - error
                            type: array
                          name:
                            type: string
                          namespaces:
                            items:
                              type: string
                            type: array
                          type:
                            type: string
                          updated_at:
                            type: string
                          verification_key_id:
                            nullable: true
                            type: string
                          verification_status:
                            enum:
                              - unverified
                              - verified
                              - unknown
                            type: string
                          version:
                            type: string
                        required:
                          - type
                          - installed_kibana
                          - installed_es
                          - name
                          - version
                          - install_status
                          - install_source
                          - verification_status
                      internal:
                        type: boolean
                      keepPoliciesUpToDate:
                        type: boolean
                      latestVersion:
                        type: string
                      license:
                        type: string
                      licensePath:
                        type: string
                      name:
                        type: string
                      notice:
                        type: string
                      owner:
                        additionalProperties: true
                        type: object
                        properties:
                          github:
                            type: string
                          type:
                            enum:
                              - elastic
                              - partner
                              - community
                            type: string
                      path:
                        type: string
                      policy_templates:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      readme:
                        type: string
                      release:
                        enum:
                          - ga
                          - beta
                          - experimental
                        type: string
                      savedObject: {}
                      screenshots:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            dark_mode:
                              type: boolean
                            path:
                              type: string
                            size:
                              type: string
                            src:
                              type: string
                            title:
                              type: string
                            type:
                              type: string
                          required:
                            - src
                        type: array
                      signature_path:
                        type: string
                      source:
                        additionalProperties: true
                        type: object
                        properties:
                          license:
                            type: string
                        required:
                          - license
                      status:
                        type: string
                      title:
                        type: string
                      type:
                        enum:
                          - integration
                          - input
                        type: string
                      vars:
                        items:
                          additionalProperties: {}
                          type: object
                        type: array
                      version:
                        type: string
                    required:
                      - savedObject
                      - name
                      - version
                      - title
                      - assets
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/packages/{pkgName}/{pkgVersion}/{filePath*}:
    get:
      description: Get package file
      operationId: >-
        %2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D%2F%7BfilePath*%7D#0
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: pkgName
          required: true
          schema:
            type: string
        - in: path
          name: pkgVersion
          required: true
          schema:
            type: string
        - in: path
          name: filePath
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema: {}
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/packages/{pkgName}/{pkgVersion}/transforms/authorize:
    post:
      description: Authorize transforms
      operationId: >-
        %2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2F%7BpkgVersion%7D%2Ftransforms%2Fauthorize#0
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: pkgName
          required: true
          schema:
            type: string
        - in: path
          name: pkgVersion
          required: true
          schema:
            type: string
        - in: query
          name: prerelease
          required: false
          schema:
            type: boolean
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                transforms:
                  items:
                    additionalProperties: false
                    type: object
                    properties:
                      transformId:
                        type: string
                    required:
                      - transformId
                  type: array
              required:
                - transforms
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                items:
                  additionalProperties: false
                  type: object
                  properties:
                    error:
                      nullable: true
                    success:
                      type: boolean
                    transformId:
                      type: string
                  required:
                    - transformId
                    - success
                    - error
                type: array
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/packages/{pkgName}/stats:
    get:
      description: Get package stats
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2F%7BpkgName%7D%2Fstats#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: pkgName
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  response:
                    additionalProperties: false
                    type: object
                    properties:
                      agent_policy_count:
                        type: number
                    required:
                      - agent_policy_count
                required:
                  - response
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/packages/installed:
    get:
      description: Get installed packages
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2Finstalled#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: dataStreamType
          required: false
          schema:
            enum:
              - logs
              - metrics
              - traces
              - synthetics
              - profiling
            type: string
        - in: query
          name: showOnlyActiveDataStreams
          required: false
          schema:
            type: boolean
        - in: query
          name: nameQuery
          required: false
          schema:
            type: string
        - in: query
          name: searchAfter
          required: false
          schema:
            items:
              anyOf:
                - type: string
                - type: number
            type: array
        - in: query
          name: perPage
          required: false
          schema:
            default: 15
            type: number
        - in: query
          name: sortOrder
          required: false
          schema:
            default: asc
            enum:
              - asc
              - desc
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        dataStreams:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              name:
                                type: string
                              title:
                                type: string
                            required:
                              - name
                              - title
                          type: array
                        description:
                          type: string
                        icons:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              dark_mode:
                                type: boolean
                              path:
                                type: string
                              size:
                                type: string
                              src:
                                type: string
                              title:
                                type: string
                              type:
                                type: string
                            required:
                              - src
                          type: array
                        name:
                          type: string
                        status:
                          type: string
                        title:
                          type: string
                        version:
                          type: string
                      required:
                        - name
                        - version
                        - status
                        - dataStreams
                    type: array
                  searchAfter:
                    items:
                      anyOf:
                        - type: string
                        - type: number
                        - type: boolean
                        - enum: []
                          nullable: true
                        - {}
                    type: array
                  total:
                    type: number
                required:
                  - items
                  - total
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/packages/limited:
    get:
      description: Get limited package list
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fpackages%2Flimited#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      type: string
                    type: array
                  response:
                    deprecated: true
                    items:
                      type: string
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/templates/{pkgName}/{pkgVersion}/inputs:
    get:
      description: Get inputs template
      operationId: >-
        %2Fapi%2Ffleet%2Fepm%2Ftemplates%2F%7BpkgName%7D%2F%7BpkgVersion%7D%2Finputs#0
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: pkgName
          required: true
          schema:
            type: string
        - in: path
          name: pkgVersion
          required: true
          schema:
            type: string
        - in: query
          name: format
          required: false
          schema:
            default: json
            enum:
              - json
              - yml
              - yaml
            type: string
        - in: query
          name: prerelease
          required: false
          schema:
            type: boolean
        - in: query
          name: ignoreUnverified
          required: false
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                anyOf:
                  - type: string
                  - additionalProperties: false
                    type: object
                    properties:
                      inputs:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                            streams:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  data_stream:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      dataset:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - dataset
                                  id:
                                    type: string
                                required:
                                  - id
                                  - data_stream
                              type: array
                            type:
                              type: string
                          required:
                            - id
                            - type
                        type: array
                    required:
                      - inputs
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/epm/verification_key_id:
    get:
      description: Get a package signature verification key ID
      operationId: '%2Fapi%2Ffleet%2Fepm%2Fverification_key_id#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  id:
                    nullable: true
                    type: string
                required:
                  - id
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Package Manager (EPM)
  /api/fleet/fleet_server_hosts:
    get:
      description: List Fleet Server hosts
      operationId: '%2Fapi%2Ffleet%2Ffleet_server_hosts#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        host_urls:
                          items:
                            type: string
                          minItems: 1
                          type: array
                        id:
                          type: string
                        is_default:
                          default: false
                          type: boolean
                        is_internal:
                          type: boolean
                        is_preconfigured:
                          default: false
                          type: boolean
                        name:
                          type: string
                        proxy_id:
                          nullable: true
                          type: string
                      required:
                        - id
                        - name
                        - host_urls
                    type: array
                  page:
                    type: number
                  perPage:
                    type: number
                  total:
                    type: number
                required:
                  - items
                  - total
                  - page
                  - perPage
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet Server hosts
    post:
      description: Create Fleet Server host
      operationId: '%2Fapi%2Ffleet%2Ffleet_server_hosts#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                host_urls:
                  items:
                    type: string
                  minItems: 1
                  type: array
                id:
                  type: string
                is_default:
                  default: false
                  type: boolean
                is_internal:
                  type: boolean
                is_preconfigured:
                  default: false
                  type: boolean
                name:
                  type: string
                proxy_id:
                  nullable: true
                  type: string
              required:
                - name
                - host_urls
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      host_urls:
                        items:
                          type: string
                        minItems: 1
                        type: array
                      id:
                        type: string
                      is_default:
                        default: false
                        type: boolean
                      is_internal:
                        type: boolean
                      is_preconfigured:
                        default: false
                        type: boolean
                      name:
                        type: string
                      proxy_id:
                        nullable: true
                        type: string
                    required:
                      - id
                      - name
                      - host_urls
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet Server hosts
  /api/fleet/fleet_server_hosts/{itemId}:
    delete:
      description: Delete Fleet Server host by ID
      operationId: '%2Fapi%2Ffleet%2Ffleet_server_hosts%2F%7BitemId%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: itemId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  id:
                    type: string
                required:
                  - id
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet Server hosts
    get:
      description: Get Fleet Server host by ID
      operationId: '%2Fapi%2Ffleet%2Ffleet_server_hosts%2F%7BitemId%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: itemId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      host_urls:
                        items:
                          type: string
                        minItems: 1
                        type: array
                      id:
                        type: string
                      is_default:
                        default: false
                        type: boolean
                      is_internal:
                        type: boolean
                      is_preconfigured:
                        default: false
                        type: boolean
                      name:
                        type: string
                      proxy_id:
                        nullable: true
                        type: string
                    required:
                      - id
                      - name
                      - host_urls
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet Server hosts
    put:
      description: Update Fleet Server host by ID
      operationId: '%2Fapi%2Ffleet%2Ffleet_server_hosts%2F%7BitemId%7D#2'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: itemId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                host_urls:
                  items:
                    type: string
                  minItems: 1
                  type: array
                is_default:
                  type: boolean
                is_internal:
                  type: boolean
                name:
                  type: string
                proxy_id:
                  nullable: true
                  type: string
              required:
                - proxy_id
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      host_urls:
                        items:
                          type: string
                        minItems: 1
                        type: array
                      id:
                        type: string
                      is_default:
                        default: false
                        type: boolean
                      is_internal:
                        type: boolean
                      is_preconfigured:
                        default: false
                        type: boolean
                      name:
                        type: string
                      proxy_id:
                        nullable: true
                        type: string
                    required:
                      - id
                      - name
                      - host_urls
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet Server hosts
  /api/fleet/health_check:
    post:
      description: Check Fleet Server health
      operationId: '%2Fapi%2Ffleet%2Fhealth_check#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                host:
                  format: uri
                  type: string
                id:
                  type: string
              required:
                - id
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  host:
                    deprecated: true
                    type: string
                  host_id:
                    type: string
                  name:
                    type: string
                  status:
                    type: string
                required:
                  - status
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet internals
  /api/fleet/kubernetes:
    get:
      description: Get full K8s agent manifest
      operationId: '%2Fapi%2Ffleet%2Fkubernetes#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: download
          required: false
          schema:
            type: boolean
        - in: query
          name: fleetServer
          required: false
          schema:
            type: string
        - in: query
          name: enrolToken
          required: false
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    type: string
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent policies
  /api/fleet/kubernetes/download:
    get:
      operationId: '%2Fapi%2Ffleet%2Fkubernetes%2Fdownload#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: download
          required: false
          schema:
            type: boolean
        - in: query
          name: fleetServer
          required: false
          schema:
            type: string
        - in: query
          name: enrolToken
          required: false
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                type: string
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Elastic Agent policies
  /api/fleet/logstash_api_keys:
    post:
      description: Generate Logstash API keyy
      operationId: '%2Fapi%2Ffleet%2Flogstash_api_keys#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  api_key:
                    type: string
                required:
                  - api_key
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet outputs
  /api/fleet/message_signing_service/rotate_key_pair:
    post:
      description: Rotate fleet message signing key pair
      operationId: '%2Fapi%2Ffleet%2Fmessage_signing_service%2Frotate_key_pair#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: query
          name: acknowledge
          required: false
          schema:
            default: false
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  message:
                    type: string
                required:
                  - message
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '500':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Message Signing Service
  /api/fleet/outputs:
    get:
      description: List outputs
      operationId: '%2Fapi%2Ffleet%2Foutputs#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      anyOf:
                        - additionalProperties: true
                          type: object
                          properties:
                            allow_edit:
                              items:
                                type: string
                              type: array
                            ca_sha256:
                              nullable: true
                              type: string
                            ca_trusted_fingerprint:
                              nullable: true
                              type: string
                            config_yaml:
                              nullable: true
                              type: string
                            hosts:
                              items:
                                format: uri
                                type: string
                              minItems: 1
                              type: array
                            id:
                              type: string
                            is_default:
                              default: false
                              type: boolean
                            is_default_monitoring:
                              default: false
                              type: boolean
                            is_internal:
                              type: boolean
                            is_preconfigured:
                              type: boolean
                            name:
                              type: string
                            preset:
                              enum:
                                - balanced
                                - custom
                                - throughput
                                - scale
                                - latency
                              type: string
                            proxy_id:
                              nullable: true
                              type: string
                            shipper:
                              additionalProperties: true
                              nullable: true
                              type: object
                              properties:
                                compression_level:
                                  nullable: true
                                  type: number
                                disk_queue_compression_enabled:
                                  nullable: true
                                  type: boolean
                                disk_queue_enabled:
                                  default: false
                                  nullable: true
                                  type: boolean
                                disk_queue_encryption_enabled:
                                  nullable: true
                                  type: boolean
                                disk_queue_max_size:
                                  nullable: true
                                  type: number
                                disk_queue_path:
                                  nullable: true
                                  type: string
                                loadbalance:
                                  nullable: true
                                  type: boolean
                                max_batch_bytes:
                                  nullable: true
                                  type: number
                                mem_queue_events:
                                  nullable: true
                                  type: number
                                queue_flush_timeout:
                                  nullable: true
                                  type: number
                              required:
                                - disk_queue_path
                                - disk_queue_max_size
                                - disk_queue_encryption_enabled
                                - disk_queue_compression_enabled
                                - compression_level
                                - loadbalance
                                - mem_queue_events
                                - queue_flush_timeout
                                - max_batch_bytes
                            ssl:
                              additionalProperties: true
                              nullable: true
                              type: object
                              properties:
                                certificate:
                                  type: string
                                certificate_authorities:
                                  items:
                                    type: string
                                  type: array
                                key:
                                  type: string
                                verification_mode:
                                  enum:
                                    - full
                                    - none
                                    - certificate
                                    - strict
                                  type: string
                            type:
                              enum:
                                - elasticsearch
                              type: string
                          required:
                            - name
                            - type
                            - hosts
                        - additionalProperties: true
                          type: object
                          properties:
                            allow_edit:
                              items:
                                type: string
                              type: array
                            ca_sha256:
                              nullable: true
                              type: string
                            ca_trusted_fingerprint:
                              nullable: true
                              type: string
                            config_yaml:
                              nullable: true
                              type: string
                            hosts:
                              items:
                                format: uri
                                type: string
                              minItems: 1
                              type: array
                            id:
                              type: string
                            is_default:
                              default: false
                              type: boolean
                            is_default_monitoring:
                              default: false
                              type: boolean
                            is_internal:
                              type: boolean
                            is_preconfigured:
                              type: boolean
                            name:
                              type: string
                            preset:
                              enum:
                                - balanced
                                - custom
                                - throughput
                                - scale
                                - latency
                              type: string
                            proxy_id:
                              nullable: true
                              type: string
                            secrets:
                              additionalProperties: true
                              type: object
                              properties:
                                service_token:
                                  anyOf:
                                    - additionalProperties: true
                                      type: object
                                      properties:
                                        id:
                                          type: string
                                      required:
                                        - id
                                    - type: string
                            service_token:
                              nullable: true
                              type: string
                            shipper:
                              additionalProperties: true
                              nullable: true
                              type: object
                              properties:
                                compression_level:
                                  nullable: true
                                  type: number
                                disk_queue_compression_enabled:
                                  nullable: true
                                  type: boolean
                                disk_queue_enabled:
                                  default: false
                                  nullable: true
                                  type: boolean
                                disk_queue_encryption_enabled:
                                  nullable: true
                                  type: boolean
                                disk_queue_max_size:
                                  nullable: true
                                  type: number
                                disk_queue_path:
                                  nullable: true
                                  type: string
                                loadbalance:
                                  nullable: true
                                  type: boolean
                                max_batch_bytes:
                                  nullable: true
                                  type: number
                                mem_queue_events:
                                  nullable: true
                                  type: number
                                queue_flush_timeout:
                                  nullable: true
                                  type: number
                              required:
                                - disk_queue_path
                                - disk_queue_max_size
                                - disk_queue_encryption_enabled
                                - disk_queue_compression_enabled
                                - compression_level
                                - loadbalance
                                - mem_queue_events
                                - queue_flush_timeout
                                - max_batch_bytes
                            ssl:
                              additionalProperties: true
                              nullable: true
                              type: object
                              properties:
                                certificate:
                                  type: string
                                certificate_authorities:
                                  items:
                                    type: string
                                  type: array
                                key:
                                  type: string
                                verification_mode:
                                  enum:
                                    - full
                                    - none
                                    - certificate
                                    - strict
                                  type: string
                            type:
                              enum:
                                - remote_elasticsearch
                              type: string
                          required:
                            - name
                            - type
                            - hosts
                        - additionalProperties: true
                          type: object
                          properties:
                            allow_edit:
                              items:
                                type: string
                              type: array
                            ca_sha256:
                              nullable: true
                              type: string
                            ca_trusted_fingerprint:
                              nullable: true
                              type: string
                            config_yaml:
                              nullable: true
                              type: string
                            hosts:
                              items:
                                type: string
                              minItems: 1
                              type: array
                            id:
                              type: string
                            is_default:
                              default: false
                              type: boolean
                            is_default_monitoring:
                              default: false
                              type: boolean
                            is_internal:
                              type: boolean
                            is_preconfigured:
                              type: boolean
                            name:
                              type: string
                            proxy_id:
                              nullable: true
                              type: string
                            secrets:
                              additionalProperties: true
                              type: object
                              properties:
                                ssl:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    key:
                                      anyOf:
                                        - additionalProperties: true
                                          type: object
                                          properties:
                                            id:
                                              type: string
                                          required:
                                            - id
                                        - type: string
                            shipper:
                              additionalProperties: true
                              nullable: true
                              type: object
                              properties:
                                compression_level:
                                  nullable: true
                                  type: number
                                disk_queue_compression_enabled:
                                  nullable: true
                                  type: boolean
                                disk_queue_enabled:
                                  default: false
                                  nullable: true
                                  type: boolean
                                disk_queue_encryption_enabled:
                                  nullable: true
                                  type: boolean
                                disk_queue_max_size:
                                  nullable: true
                                  type: number
                                disk_queue_path:
                                  nullable: true
                                  type: string
                                loadbalance:
                                  nullable: true
                                  type: boolean
                                max_batch_bytes:
                                  nullable: true
                                  type: number
                                mem_queue_events:
                                  nullable: true
                                  type: number
                                queue_flush_timeout:
                                  nullable: true
                                  type: number
                              required:
                                - disk_queue_path
                                - disk_queue_max_size
                                - disk_queue_encryption_enabled
                                - disk_queue_compression_enabled
                                - compression_level
                                - loadbalance
                                - mem_queue_events
                                - queue_flush_timeout
                                - max_batch_bytes
                            ssl:
                              additionalProperties: true
                              nullable: true
                              type: object
                              properties:
                                certificate:
                                  type: string
                                certificate_authorities:
                                  items:
                                    type: string
                                  type: array
                                key:
                                  type: string
                                verification_mode:
                                  enum:
                                    - full
                                    - none
                                    - certificate
                                    - strict
                                  type: string
                            type:
                              enum:
                                - logstash
                              type: string
                          required:
                            - name
                            - type
                            - hosts
                        - additionalProperties: true
                          type: object
                          properties:
                            allow_edit:
                              items:
                                type: string
                              type: array
                            auth_type:
                              enum:
                                - none
                                - user_pass
                                - ssl
                                - kerberos
                              type: string
                            broker_timeout:
                              type: number
                            ca_sha256:
                              nullable: true
                              type: string
                            ca_trusted_fingerprint:
                              nullable: true
                              type: string
                            client_id:
                              type: string
                            compression:
                              enum:
                                - gzip
                                - snappy
                                - lz4
                                - none
                              type: string
                            compression_level:
                              anyOf:
                                - items: {}
                                  type: array
                                - type: boolean
                                - type: number
                                - type: object
                                - type: string
                              nullable: true
                              oneOf:
                                - type: number
                                - not: {}
                            config_yaml:
                              nullable: true
                              type: string
                            connection_type:
                              anyOf:
                                - items: {}
                                  type: array
                                - type: boolean
                                - type: number
                                - type: object
                                - type: string
                              nullable: true
                              oneOf:
                                - enum:
                                    - plaintext
                                    - encryption
                                  type: string
                                - not: {}
                            hash:
                              additionalProperties: true
                              type: object
                              properties:
                                hash:
                                  type: string
                                random:
                                  type: boolean
                            headers:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  key:
                                    type: string
                                  value:
                                    type: string
                                required:
                                  - key
                                  - value
                              type: array
                            hosts:
                              items:
                                type: string
                              minItems: 1
                              type: array
                            id:
                              type: string
                            is_default:
                              default: false
                              type: boolean
                            is_default_monitoring:
                              default: false
                              type: boolean
                            is_internal:
                              type: boolean
                            is_preconfigured:
                              type: boolean
                            key:
                              type: string
                            name:
                              type: string
                            partition:
                              enum:
                                - random
                                - round_robin
                                - hash
                              type: string
                            password:
                              anyOf:
                                - items: {}
                                  type: array
                                - type: boolean
                                - type: number
                                - type: object
                                - type: string
                              nullable: true
                              oneOf:
                                - not: {}
                                - anyOf:
                                    - items: {}
                                      type: array
                                    - type: boolean
                                    - type: number
                                    - type: object
                                    - type: string
                                  nullable: true
                                  oneOf:
                                    - type: string
                                    - not: {}
                            proxy_id:
                              nullable: true
                              type: string
                            random:
                              additionalProperties: true
                              type: object
                              properties:
                                group_events:
                                  type: number
                            required_acks:
                              enum:
                                - 1
                                - 0
                                - -1
                              type: integer
                            round_robin:
                              additionalProperties: true
                              type: object
                              properties:
                                group_events:
                                  type: number
                            sasl:
                              additionalProperties: true
                              nullable: true
                              type: object
                              properties:
                                mechanism:
                                  enum:
                                    - PLAIN
                                    - SCRAM-SHA-256
                                    - SCRAM-SHA-512
                                  type: string
                            secrets:
                              additionalProperties: true
                              type: object
                              properties:
                                password:
                                  anyOf:
                                    - additionalProperties: true
                                      type: object
                                      properties:
                                        id:
                                          type: string
                                      required:
                                        - id
                                    - type: string
                                ssl:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    key:
                                      anyOf:
                                        - additionalProperties: true
                                          type: object
                                          properties:
                                            id:
                                              type: string
                                          required:
                                            - id
                                        - type: string
                                  required:
                                    - key
                            shipper:
                              additionalProperties: true
                              nullable: true
                              type: object
                              properties:
                                compression_level:
                                  nullable: true
                                  type: number
                                disk_queue_compression_enabled:
                                  nullable: true
                                  type: boolean
                                disk_queue_enabled:
                                  default: false
                                  nullable: true
                                  type: boolean
                                disk_queue_encryption_enabled:
                                  nullable: true
                                  type: boolean
                                disk_queue_max_size:
                                  nullable: true
                                  type: number
                                disk_queue_path:
                                  nullable: true
                                  type: string
                                loadbalance:
                                  nullable: true
                                  type: boolean
                                max_batch_bytes:
                                  nullable: true
                                  type: number
                                mem_queue_events:
                                  nullable: true
                                  type: number
                                queue_flush_timeout:
                                  nullable: true
                                  type: number
                              required:
                                - disk_queue_path
                                - disk_queue_max_size
                                - disk_queue_encryption_enabled
                                - disk_queue_compression_enabled
                                - compression_level
                                - loadbalance
                                - mem_queue_events
                                - queue_flush_timeout
                                - max_batch_bytes
                            ssl:
                              additionalProperties: true
                              nullable: true
                              type: object
                              properties:
                                certificate:
                                  type: string
                                certificate_authorities:
                                  items:
                                    type: string
                                  type: array
                                key:
                                  type: string
                                verification_mode:
                                  enum:
                                    - full
                                    - none
                                    - certificate
                                    - strict
                                  type: string
                            timeout:
                              type: number
                            topic:
                              type: string
                            topics:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  topic:
                                    type: string
                                  when:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      condition:
                                        type: string
                                      type:
                                        enum:
                                          - equals
                                          - contains
                                          - regexp
                                        type: string
                                required:
                                  - topic
                              minItems: 1
                              type: array
                            type:
                              enum:
                                - kafka
                              type: string
                            username:
                              anyOf:
                                - items: {}
                                  type: array
                                - type: boolean
                                - type: number
                                - type: object
                                - type: string
                              nullable: true
                              oneOf:
                                - type: string
                                - not: {}
                            version:
                              type: string
                          required:
                            - name
                            - type
                            - hosts
                            - compression_level
                            - auth_type
                            - connection_type
                            - username
                            - password
                    type: array
                  page:
                    type: number
                  perPage:
                    type: number
                  total:
                    type: number
                required:
                  - items
                  - total
                  - page
                  - perPage
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet outputs
    post:
      description: Create output
      operationId: '%2Fapi%2Ffleet%2Foutputs#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              anyOf:
                - additionalProperties: false
                  type: object
                  properties:
                    allow_edit:
                      items:
                        type: string
                      type: array
                    ca_sha256:
                      nullable: true
                      type: string
                    ca_trusted_fingerprint:
                      nullable: true
                      type: string
                    config_yaml:
                      nullable: true
                      type: string
                    hosts:
                      items:
                        format: uri
                        type: string
                      minItems: 1
                      type: array
                    id:
                      type: string
                    is_default:
                      default: false
                      type: boolean
                    is_default_monitoring:
                      default: false
                      type: boolean
                    is_internal:
                      type: boolean
                    is_preconfigured:
                      type: boolean
                    name:
                      type: string
                    preset:
                      enum:
                        - balanced
                        - custom
                        - throughput
                        - scale
                        - latency
                      type: string
                    proxy_id:
                      nullable: true
                      type: string
                    shipper:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        compression_level:
                          nullable: true
                          type: number
                        disk_queue_compression_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_enabled:
                          default: false
                          nullable: true
                          type: boolean
                        disk_queue_encryption_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_max_size:
                          nullable: true
                          type: number
                        disk_queue_path:
                          nullable: true
                          type: string
                        loadbalance:
                          nullable: true
                          type: boolean
                        max_batch_bytes:
                          nullable: true
                          type: number
                        mem_queue_events:
                          nullable: true
                          type: number
                        queue_flush_timeout:
                          nullable: true
                          type: number
                      required:
                        - disk_queue_path
                        - disk_queue_max_size
                        - disk_queue_encryption_enabled
                        - disk_queue_compression_enabled
                        - compression_level
                        - loadbalance
                        - mem_queue_events
                        - queue_flush_timeout
                        - max_batch_bytes
                    ssl:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        certificate:
                          type: string
                        certificate_authorities:
                          items:
                            type: string
                          type: array
                        key:
                          type: string
                        verification_mode:
                          enum:
                            - full
                            - none
                            - certificate
                            - strict
                          type: string
                    type:
                      enum:
                        - elasticsearch
                      type: string
                  required:
                    - name
                    - type
                    - hosts
                - additionalProperties: false
                  type: object
                  properties:
                    allow_edit:
                      items:
                        type: string
                      type: array
                    ca_sha256:
                      nullable: true
                      type: string
                    ca_trusted_fingerprint:
                      nullable: true
                      type: string
                    config_yaml:
                      nullable: true
                      type: string
                    hosts:
                      items:
                        format: uri
                        type: string
                      minItems: 1
                      type: array
                    id:
                      type: string
                    is_default:
                      default: false
                      type: boolean
                    is_default_monitoring:
                      default: false
                      type: boolean
                    is_internal:
                      type: boolean
                    is_preconfigured:
                      type: boolean
                    name:
                      type: string
                    preset:
                      enum:
                        - balanced
                        - custom
                        - throughput
                        - scale
                        - latency
                      type: string
                    proxy_id:
                      nullable: true
                      type: string
                    secrets:
                      additionalProperties: false
                      type: object
                      properties:
                        service_token:
                          anyOf:
                            - additionalProperties: false
                              type: object
                              properties:
                                id:
                                  type: string
                              required:
                                - id
                            - type: string
                    service_token:
                      nullable: true
                      type: string
                    shipper:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        compression_level:
                          nullable: true
                          type: number
                        disk_queue_compression_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_enabled:
                          default: false
                          nullable: true
                          type: boolean
                        disk_queue_encryption_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_max_size:
                          nullable: true
                          type: number
                        disk_queue_path:
                          nullable: true
                          type: string
                        loadbalance:
                          nullable: true
                          type: boolean
                        max_batch_bytes:
                          nullable: true
                          type: number
                        mem_queue_events:
                          nullable: true
                          type: number
                        queue_flush_timeout:
                          nullable: true
                          type: number
                      required:
                        - disk_queue_path
                        - disk_queue_max_size
                        - disk_queue_encryption_enabled
                        - disk_queue_compression_enabled
                        - compression_level
                        - loadbalance
                        - mem_queue_events
                        - queue_flush_timeout
                        - max_batch_bytes
                    ssl:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        certificate:
                          type: string
                        certificate_authorities:
                          items:
                            type: string
                          type: array
                        key:
                          type: string
                        verification_mode:
                          enum:
                            - full
                            - none
                            - certificate
                            - strict
                          type: string
                    type:
                      enum:
                        - remote_elasticsearch
                      type: string
                  required:
                    - name
                    - type
                    - hosts
                - additionalProperties: false
                  type: object
                  properties:
                    allow_edit:
                      items:
                        type: string
                      type: array
                    ca_sha256:
                      nullable: true
                      type: string
                    ca_trusted_fingerprint:
                      nullable: true
                      type: string
                    config_yaml:
                      nullable: true
                      type: string
                    hosts:
                      items:
                        type: string
                      minItems: 1
                      type: array
                    id:
                      type: string
                    is_default:
                      default: false
                      type: boolean
                    is_default_monitoring:
                      default: false
                      type: boolean
                    is_internal:
                      type: boolean
                    is_preconfigured:
                      type: boolean
                    name:
                      type: string
                    proxy_id:
                      nullable: true
                      type: string
                    secrets:
                      additionalProperties: false
                      type: object
                      properties:
                        ssl:
                          additionalProperties: false
                          type: object
                          properties:
                            key:
                              anyOf:
                                - additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                  required:
                                    - id
                                - type: string
                    shipper:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        compression_level:
                          nullable: true
                          type: number
                        disk_queue_compression_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_enabled:
                          default: false
                          nullable: true
                          type: boolean
                        disk_queue_encryption_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_max_size:
                          nullable: true
                          type: number
                        disk_queue_path:
                          nullable: true
                          type: string
                        loadbalance:
                          nullable: true
                          type: boolean
                        max_batch_bytes:
                          nullable: true
                          type: number
                        mem_queue_events:
                          nullable: true
                          type: number
                        queue_flush_timeout:
                          nullable: true
                          type: number
                      required:
                        - disk_queue_path
                        - disk_queue_max_size
                        - disk_queue_encryption_enabled
                        - disk_queue_compression_enabled
                        - compression_level
                        - loadbalance
                        - mem_queue_events
                        - queue_flush_timeout
                        - max_batch_bytes
                    ssl:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        certificate:
                          type: string
                        certificate_authorities:
                          items:
                            type: string
                          type: array
                        key:
                          type: string
                        verification_mode:
                          enum:
                            - full
                            - none
                            - certificate
                            - strict
                          type: string
                    type:
                      enum:
                        - logstash
                      type: string
                  required:
                    - name
                    - type
                    - hosts
                - additionalProperties: false
                  type: object
                  properties:
                    allow_edit:
                      items:
                        type: string
                      type: array
                    auth_type:
                      enum:
                        - none
                        - user_pass
                        - ssl
                        - kerberos
                      type: string
                    broker_timeout:
                      type: number
                    ca_sha256:
                      nullable: true
                      type: string
                    ca_trusted_fingerprint:
                      nullable: true
                      type: string
                    client_id:
                      type: string
                    compression:
                      enum:
                        - gzip
                        - snappy
                        - lz4
                        - none
                      type: string
                    compression_level:
                      anyOf:
                        - items: {}
                          type: array
                        - type: boolean
                        - type: number
                        - type: object
                        - type: string
                      nullable: true
                      oneOf:
                        - type: number
                        - not: {}
                    config_yaml:
                      nullable: true
                      type: string
                    connection_type:
                      anyOf:
                        - items: {}
                          type: array
                        - type: boolean
                        - type: number
                        - type: object
                        - type: string
                      nullable: true
                      oneOf:
                        - enum:
                            - plaintext
                            - encryption
                          type: string
                        - not: {}
                    hash:
                      additionalProperties: false
                      type: object
                      properties:
                        hash:
                          type: string
                        random:
                          type: boolean
                    headers:
                      items:
                        additionalProperties: false
                        type: object
                        properties:
                          key:
                            type: string
                          value:
                            type: string
                        required:
                          - key
                          - value
                      type: array
                    hosts:
                      items:
                        type: string
                      minItems: 1
                      type: array
                    id:
                      type: string
                    is_default:
                      default: false
                      type: boolean
                    is_default_monitoring:
                      default: false
                      type: boolean
                    is_internal:
                      type: boolean
                    is_preconfigured:
                      type: boolean
                    key:
                      type: string
                    name:
                      type: string
                    partition:
                      enum:
                        - random
                        - round_robin
                        - hash
                      type: string
                    password:
                      anyOf:
                        - items: {}
                          type: array
                        - type: boolean
                        - type: number
                        - type: object
                        - type: string
                      nullable: true
                      oneOf:
                        - not: {}
                        - anyOf:
                            - items: {}
                              type: array
                            - type: boolean
                            - type: number
                            - type: object
                            - type: string
                          nullable: true
                          oneOf:
                            - type: string
                            - not: {}
                    proxy_id:
                      nullable: true
                      type: string
                    random:
                      additionalProperties: false
                      type: object
                      properties:
                        group_events:
                          type: number
                    required_acks:
                      enum:
                        - 1
                        - 0
                        - -1
                      type: integer
                    round_robin:
                      additionalProperties: false
                      type: object
                      properties:
                        group_events:
                          type: number
                    sasl:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        mechanism:
                          enum:
                            - PLAIN
                            - SCRAM-SHA-256
                            - SCRAM-SHA-512
                          type: string
                    secrets:
                      additionalProperties: false
                      type: object
                      properties:
                        password:
                          anyOf:
                            - additionalProperties: false
                              type: object
                              properties:
                                id:
                                  type: string
                              required:
                                - id
                            - type: string
                        ssl:
                          additionalProperties: false
                          type: object
                          properties:
                            key:
                              anyOf:
                                - additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                  required:
                                    - id
                                - type: string
                          required:
                            - key
                    shipper:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        compression_level:
                          nullable: true
                          type: number
                        disk_queue_compression_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_enabled:
                          default: false
                          nullable: true
                          type: boolean
                        disk_queue_encryption_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_max_size:
                          nullable: true
                          type: number
                        disk_queue_path:
                          nullable: true
                          type: string
                        loadbalance:
                          nullable: true
                          type: boolean
                        max_batch_bytes:
                          nullable: true
                          type: number
                        mem_queue_events:
                          nullable: true
                          type: number
                        queue_flush_timeout:
                          nullable: true
                          type: number
                      required:
                        - disk_queue_path
                        - disk_queue_max_size
                        - disk_queue_encryption_enabled
                        - disk_queue_compression_enabled
                        - compression_level
                        - loadbalance
                        - mem_queue_events
                        - queue_flush_timeout
                        - max_batch_bytes
                    ssl:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        certificate:
                          type: string
                        certificate_authorities:
                          items:
                            type: string
                          type: array
                        key:
                          type: string
                        verification_mode:
                          enum:
                            - full
                            - none
                            - certificate
                            - strict
                          type: string
                    timeout:
                      type: number
                    topic:
                      type: string
                    topics:
                      items:
                        additionalProperties: false
                        type: object
                        properties:
                          topic:
                            type: string
                          when:
                            additionalProperties: false
                            type: object
                            properties:
                              condition:
                                type: string
                              type:
                                enum:
                                  - equals
                                  - contains
                                  - regexp
                                type: string
                        required:
                          - topic
                      minItems: 1
                      type: array
                    type:
                      enum:
                        - kafka
                      type: string
                    username:
                      anyOf:
                        - items: {}
                          type: array
                        - type: boolean
                        - type: number
                        - type: object
                        - type: string
                      nullable: true
                      oneOf:
                        - type: string
                        - not: {}
                    version:
                      type: string
                  required:
                    - name
                    - type
                    - hosts
                    - compression_level
                    - auth_type
                    - connection_type
                    - username
                    - password
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    anyOf:
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          config_yaml:
                            nullable: true
                            type: string
                          hosts:
                            items:
                              format: uri
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          name:
                            type: string
                          preset:
                            enum:
                              - balanced
                              - custom
                              - throughput
                              - scale
                              - latency
                            type: string
                          proxy_id:
                            nullable: true
                            type: string
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          type:
                            enum:
                              - elasticsearch
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          config_yaml:
                            nullable: true
                            type: string
                          hosts:
                            items:
                              format: uri
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          name:
                            type: string
                          preset:
                            enum:
                              - balanced
                              - custom
                              - throughput
                              - scale
                              - latency
                            type: string
                          proxy_id:
                            nullable: true
                            type: string
                          secrets:
                            additionalProperties: true
                            type: object
                            properties:
                              service_token:
                                anyOf:
                                  - additionalProperties: true
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                    required:
                                      - id
                                  - type: string
                          service_token:
                            nullable: true
                            type: string
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          type:
                            enum:
                              - remote_elasticsearch
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          config_yaml:
                            nullable: true
                            type: string
                          hosts:
                            items:
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          name:
                            type: string
                          proxy_id:
                            nullable: true
                            type: string
                          secrets:
                            additionalProperties: true
                            type: object
                            properties:
                              ssl:
                                additionalProperties: true
                                type: object
                                properties:
                                  key:
                                    anyOf:
                                      - additionalProperties: true
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                        required:
                                          - id
                                      - type: string
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          type:
                            enum:
                              - logstash
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          auth_type:
                            enum:
                              - none
                              - user_pass
                              - ssl
                              - kerberos
                            type: string
                          broker_timeout:
                            type: number
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          client_id:
                            type: string
                          compression:
                            enum:
                              - gzip
                              - snappy
                              - lz4
                              - none
                            type: string
                          compression_level:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - type: number
                              - not: {}
                          config_yaml:
                            nullable: true
                            type: string
                          connection_type:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - enum:
                                  - plaintext
                                  - encryption
                                type: string
                              - not: {}
                          hash:
                            additionalProperties: true
                            type: object
                            properties:
                              hash:
                                type: string
                              random:
                                type: boolean
                          headers:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                key:
                                  type: string
                                value:
                                  type: string
                              required:
                                - key
                                - value
                            type: array
                          hosts:
                            items:
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          key:
                            type: string
                          name:
                            type: string
                          partition:
                            enum:
                              - random
                              - round_robin
                              - hash
                            type: string
                          password:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - not: {}
                              - anyOf:
                                  - items: {}
                                    type: array
                                  - type: boolean
                                  - type: number
                                  - type: object
                                  - type: string
                                nullable: true
                                oneOf:
                                  - type: string
                                  - not: {}
                          proxy_id:
                            nullable: true
                            type: string
                          random:
                            additionalProperties: true
                            type: object
                            properties:
                              group_events:
                                type: number
                          required_acks:
                            enum:
                              - 1
                              - 0
                              - -1
                            type: integer
                          round_robin:
                            additionalProperties: true
                            type: object
                            properties:
                              group_events:
                                type: number
                          sasl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              mechanism:
                                enum:
                                  - PLAIN
                                  - SCRAM-SHA-256
                                  - SCRAM-SHA-512
                                type: string
                          secrets:
                            additionalProperties: true
                            type: object
                            properties:
                              password:
                                anyOf:
                                  - additionalProperties: true
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                    required:
                                      - id
                                  - type: string
                              ssl:
                                additionalProperties: true
                                type: object
                                properties:
                                  key:
                                    anyOf:
                                      - additionalProperties: true
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                        required:
                                          - id
                                      - type: string
                                required:
                                  - key
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          timeout:
                            type: number
                          topic:
                            type: string
                          topics:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                topic:
                                  type: string
                                when:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    condition:
                                      type: string
                                    type:
                                      enum:
                                        - equals
                                        - contains
                                        - regexp
                                      type: string
                              required:
                                - topic
                            minItems: 1
                            type: array
                          type:
                            enum:
                              - kafka
                            type: string
                          username:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - type: string
                              - not: {}
                          version:
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                          - compression_level
                          - auth_type
                          - connection_type
                          - username
                          - password
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet outputs
  /api/fleet/outputs/{outputId}:
    delete:
      description: Delete output by ID
      operationId: '%2Fapi%2Ffleet%2Foutputs%2F%7BoutputId%7D#2'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: outputId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  id:
                    type: string
                required:
                  - id
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet outputs
    get:
      description: Get output by ID
      operationId: '%2Fapi%2Ffleet%2Foutputs%2F%7BoutputId%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: outputId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    anyOf:
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          config_yaml:
                            nullable: true
                            type: string
                          hosts:
                            items:
                              format: uri
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          name:
                            type: string
                          preset:
                            enum:
                              - balanced
                              - custom
                              - throughput
                              - scale
                              - latency
                            type: string
                          proxy_id:
                            nullable: true
                            type: string
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          type:
                            enum:
                              - elasticsearch
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          config_yaml:
                            nullable: true
                            type: string
                          hosts:
                            items:
                              format: uri
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          name:
                            type: string
                          preset:
                            enum:
                              - balanced
                              - custom
                              - throughput
                              - scale
                              - latency
                            type: string
                          proxy_id:
                            nullable: true
                            type: string
                          secrets:
                            additionalProperties: true
                            type: object
                            properties:
                              service_token:
                                anyOf:
                                  - additionalProperties: true
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                    required:
                                      - id
                                  - type: string
                          service_token:
                            nullable: true
                            type: string
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          type:
                            enum:
                              - remote_elasticsearch
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          config_yaml:
                            nullable: true
                            type: string
                          hosts:
                            items:
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          name:
                            type: string
                          proxy_id:
                            nullable: true
                            type: string
                          secrets:
                            additionalProperties: true
                            type: object
                            properties:
                              ssl:
                                additionalProperties: true
                                type: object
                                properties:
                                  key:
                                    anyOf:
                                      - additionalProperties: true
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                        required:
                                          - id
                                      - type: string
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          type:
                            enum:
                              - logstash
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          auth_type:
                            enum:
                              - none
                              - user_pass
                              - ssl
                              - kerberos
                            type: string
                          broker_timeout:
                            type: number
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          client_id:
                            type: string
                          compression:
                            enum:
                              - gzip
                              - snappy
                              - lz4
                              - none
                            type: string
                          compression_level:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - type: number
                              - not: {}
                          config_yaml:
                            nullable: true
                            type: string
                          connection_type:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - enum:
                                  - plaintext
                                  - encryption
                                type: string
                              - not: {}
                          hash:
                            additionalProperties: true
                            type: object
                            properties:
                              hash:
                                type: string
                              random:
                                type: boolean
                          headers:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                key:
                                  type: string
                                value:
                                  type: string
                              required:
                                - key
                                - value
                            type: array
                          hosts:
                            items:
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          key:
                            type: string
                          name:
                            type: string
                          partition:
                            enum:
                              - random
                              - round_robin
                              - hash
                            type: string
                          password:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - not: {}
                              - anyOf:
                                  - items: {}
                                    type: array
                                  - type: boolean
                                  - type: number
                                  - type: object
                                  - type: string
                                nullable: true
                                oneOf:
                                  - type: string
                                  - not: {}
                          proxy_id:
                            nullable: true
                            type: string
                          random:
                            additionalProperties: true
                            type: object
                            properties:
                              group_events:
                                type: number
                          required_acks:
                            enum:
                              - 1
                              - 0
                              - -1
                            type: integer
                          round_robin:
                            additionalProperties: true
                            type: object
                            properties:
                              group_events:
                                type: number
                          sasl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              mechanism:
                                enum:
                                  - PLAIN
                                  - SCRAM-SHA-256
                                  - SCRAM-SHA-512
                                type: string
                          secrets:
                            additionalProperties: true
                            type: object
                            properties:
                              password:
                                anyOf:
                                  - additionalProperties: true
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                    required:
                                      - id
                                  - type: string
                              ssl:
                                additionalProperties: true
                                type: object
                                properties:
                                  key:
                                    anyOf:
                                      - additionalProperties: true
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                        required:
                                          - id
                                      - type: string
                                required:
                                  - key
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          timeout:
                            type: number
                          topic:
                            type: string
                          topics:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                topic:
                                  type: string
                                when:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    condition:
                                      type: string
                                    type:
                                      enum:
                                        - equals
                                        - contains
                                        - regexp
                                      type: string
                              required:
                                - topic
                            minItems: 1
                            type: array
                          type:
                            enum:
                              - kafka
                            type: string
                          username:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - type: string
                              - not: {}
                          version:
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                          - compression_level
                          - auth_type
                          - connection_type
                          - username
                          - password
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet outputs
    put:
      description: Update output by ID
      operationId: '%2Fapi%2Ffleet%2Foutputs%2F%7BoutputId%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: outputId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              anyOf:
                - additionalProperties: false
                  type: object
                  properties:
                    allow_edit:
                      items:
                        type: string
                      type: array
                    ca_sha256:
                      nullable: true
                      type: string
                    ca_trusted_fingerprint:
                      nullable: true
                      type: string
                    config_yaml:
                      nullable: true
                      type: string
                    hosts:
                      items:
                        format: uri
                        type: string
                      minItems: 1
                      type: array
                    id:
                      type: string
                    is_default:
                      type: boolean
                    is_default_monitoring:
                      type: boolean
                    is_internal:
                      type: boolean
                    is_preconfigured:
                      type: boolean
                    name:
                      type: string
                    preset:
                      enum:
                        - balanced
                        - custom
                        - throughput
                        - scale
                        - latency
                      type: string
                    proxy_id:
                      nullable: true
                      type: string
                    shipper:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        compression_level:
                          nullable: true
                          type: number
                        disk_queue_compression_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_enabled:
                          default: false
                          nullable: true
                          type: boolean
                        disk_queue_encryption_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_max_size:
                          nullable: true
                          type: number
                        disk_queue_path:
                          nullable: true
                          type: string
                        loadbalance:
                          nullable: true
                          type: boolean
                        max_batch_bytes:
                          nullable: true
                          type: number
                        mem_queue_events:
                          nullable: true
                          type: number
                        queue_flush_timeout:
                          nullable: true
                          type: number
                      required:
                        - disk_queue_path
                        - disk_queue_max_size
                        - disk_queue_encryption_enabled
                        - disk_queue_compression_enabled
                        - compression_level
                        - loadbalance
                        - mem_queue_events
                        - queue_flush_timeout
                        - max_batch_bytes
                    ssl:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        certificate:
                          type: string
                        certificate_authorities:
                          items:
                            type: string
                          type: array
                        key:
                          type: string
                        verification_mode:
                          enum:
                            - full
                            - none
                            - certificate
                            - strict
                          type: string
                    type:
                      enum:
                        - elasticsearch
                      type: string
                - additionalProperties: false
                  type: object
                  properties:
                    allow_edit:
                      items:
                        type: string
                      type: array
                    ca_sha256:
                      nullable: true
                      type: string
                    ca_trusted_fingerprint:
                      nullable: true
                      type: string
                    config_yaml:
                      nullable: true
                      type: string
                    hosts:
                      items:
                        format: uri
                        type: string
                      minItems: 1
                      type: array
                    id:
                      type: string
                    is_default:
                      type: boolean
                    is_default_monitoring:
                      type: boolean
                    is_internal:
                      type: boolean
                    is_preconfigured:
                      type: boolean
                    name:
                      type: string
                    preset:
                      enum:
                        - balanced
                        - custom
                        - throughput
                        - scale
                        - latency
                      type: string
                    proxy_id:
                      nullable: true
                      type: string
                    secrets:
                      additionalProperties: false
                      type: object
                      properties:
                        service_token:
                          anyOf:
                            - additionalProperties: false
                              type: object
                              properties:
                                id:
                                  type: string
                              required:
                                - id
                            - type: string
                    service_token:
                      nullable: true
                      type: string
                    shipper:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        compression_level:
                          nullable: true
                          type: number
                        disk_queue_compression_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_enabled:
                          default: false
                          nullable: true
                          type: boolean
                        disk_queue_encryption_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_max_size:
                          nullable: true
                          type: number
                        disk_queue_path:
                          nullable: true
                          type: string
                        loadbalance:
                          nullable: true
                          type: boolean
                        max_batch_bytes:
                          nullable: true
                          type: number
                        mem_queue_events:
                          nullable: true
                          type: number
                        queue_flush_timeout:
                          nullable: true
                          type: number
                      required:
                        - disk_queue_path
                        - disk_queue_max_size
                        - disk_queue_encryption_enabled
                        - disk_queue_compression_enabled
                        - compression_level
                        - loadbalance
                        - mem_queue_events
                        - queue_flush_timeout
                        - max_batch_bytes
                    ssl:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        certificate:
                          type: string
                        certificate_authorities:
                          items:
                            type: string
                          type: array
                        key:
                          type: string
                        verification_mode:
                          enum:
                            - full
                            - none
                            - certificate
                            - strict
                          type: string
                    type:
                      enum:
                        - remote_elasticsearch
                      type: string
                - additionalProperties: false
                  type: object
                  properties:
                    allow_edit:
                      items:
                        type: string
                      type: array
                    ca_sha256:
                      nullable: true
                      type: string
                    ca_trusted_fingerprint:
                      nullable: true
                      type: string
                    config_yaml:
                      nullable: true
                      type: string
                    hosts:
                      items:
                        type: string
                      minItems: 1
                      type: array
                    id:
                      type: string
                    is_default:
                      type: boolean
                    is_default_monitoring:
                      type: boolean
                    is_internal:
                      type: boolean
                    is_preconfigured:
                      type: boolean
                    name:
                      type: string
                    proxy_id:
                      nullable: true
                      type: string
                    secrets:
                      additionalProperties: false
                      type: object
                      properties:
                        ssl:
                          additionalProperties: false
                          type: object
                          properties:
                            key:
                              anyOf:
                                - additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                  required:
                                    - id
                                - type: string
                    shipper:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        compression_level:
                          nullable: true
                          type: number
                        disk_queue_compression_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_enabled:
                          default: false
                          nullable: true
                          type: boolean
                        disk_queue_encryption_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_max_size:
                          nullable: true
                          type: number
                        disk_queue_path:
                          nullable: true
                          type: string
                        loadbalance:
                          nullable: true
                          type: boolean
                        max_batch_bytes:
                          nullable: true
                          type: number
                        mem_queue_events:
                          nullable: true
                          type: number
                        queue_flush_timeout:
                          nullable: true
                          type: number
                      required:
                        - disk_queue_path
                        - disk_queue_max_size
                        - disk_queue_encryption_enabled
                        - disk_queue_compression_enabled
                        - compression_level
                        - loadbalance
                        - mem_queue_events
                        - queue_flush_timeout
                        - max_batch_bytes
                    ssl:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        certificate:
                          type: string
                        certificate_authorities:
                          items:
                            type: string
                          type: array
                        key:
                          type: string
                        verification_mode:
                          enum:
                            - full
                            - none
                            - certificate
                            - strict
                          type: string
                    type:
                      enum:
                        - logstash
                      type: string
                - additionalProperties: false
                  type: object
                  properties:
                    allow_edit:
                      items:
                        type: string
                      type: array
                    auth_type:
                      enum:
                        - none
                        - user_pass
                        - ssl
                        - kerberos
                      type: string
                    broker_timeout:
                      type: number
                    ca_sha256:
                      nullable: true
                      type: string
                    ca_trusted_fingerprint:
                      nullable: true
                      type: string
                    client_id:
                      type: string
                    compression:
                      enum:
                        - gzip
                        - snappy
                        - lz4
                        - none
                      type: string
                    compression_level:
                      anyOf:
                        - items: {}
                          type: array
                        - type: boolean
                        - type: number
                        - type: object
                        - type: string
                      nullable: true
                      oneOf:
                        - type: number
                        - not: {}
                    config_yaml:
                      nullable: true
                      type: string
                    connection_type:
                      anyOf:
                        - items: {}
                          type: array
                        - type: boolean
                        - type: number
                        - type: object
                        - type: string
                      nullable: true
                      oneOf:
                        - enum:
                            - plaintext
                            - encryption
                          type: string
                        - not: {}
                    hash:
                      additionalProperties: false
                      type: object
                      properties:
                        hash:
                          type: string
                        random:
                          type: boolean
                    headers:
                      items:
                        additionalProperties: false
                        type: object
                        properties:
                          key:
                            type: string
                          value:
                            type: string
                        required:
                          - key
                          - value
                      type: array
                    hosts:
                      items:
                        type: string
                      minItems: 1
                      type: array
                    id:
                      type: string
                    is_default:
                      default: false
                      type: boolean
                    is_default_monitoring:
                      default: false
                      type: boolean
                    is_internal:
                      type: boolean
                    is_preconfigured:
                      type: boolean
                    key:
                      type: string
                    name:
                      type: string
                    partition:
                      enum:
                        - random
                        - round_robin
                        - hash
                      type: string
                    password:
                      anyOf:
                        - items: {}
                          type: array
                        - type: boolean
                        - type: number
                        - type: object
                        - type: string
                      nullable: true
                      oneOf:
                        - not: {}
                        - anyOf:
                            - items: {}
                              type: array
                            - type: boolean
                            - type: number
                            - type: object
                            - type: string
                          nullable: true
                          oneOf:
                            - type: string
                            - not: {}
                    proxy_id:
                      nullable: true
                      type: string
                    random:
                      additionalProperties: false
                      type: object
                      properties:
                        group_events:
                          type: number
                    required_acks:
                      enum:
                        - 1
                        - 0
                        - -1
                      type: integer
                    round_robin:
                      additionalProperties: false
                      type: object
                      properties:
                        group_events:
                          type: number
                    sasl:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        mechanism:
                          enum:
                            - PLAIN
                            - SCRAM-SHA-256
                            - SCRAM-SHA-512
                          type: string
                    secrets:
                      additionalProperties: false
                      type: object
                      properties:
                        password:
                          anyOf:
                            - additionalProperties: false
                              type: object
                              properties:
                                id:
                                  type: string
                              required:
                                - id
                            - type: string
                        ssl:
                          additionalProperties: false
                          type: object
                          properties:
                            key:
                              anyOf:
                                - additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                  required:
                                    - id
                                - type: string
                          required:
                            - key
                    shipper:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        compression_level:
                          nullable: true
                          type: number
                        disk_queue_compression_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_enabled:
                          default: false
                          nullable: true
                          type: boolean
                        disk_queue_encryption_enabled:
                          nullable: true
                          type: boolean
                        disk_queue_max_size:
                          nullable: true
                          type: number
                        disk_queue_path:
                          nullable: true
                          type: string
                        loadbalance:
                          nullable: true
                          type: boolean
                        max_batch_bytes:
                          nullable: true
                          type: number
                        mem_queue_events:
                          nullable: true
                          type: number
                        queue_flush_timeout:
                          nullable: true
                          type: number
                      required:
                        - disk_queue_path
                        - disk_queue_max_size
                        - disk_queue_encryption_enabled
                        - disk_queue_compression_enabled
                        - compression_level
                        - loadbalance
                        - mem_queue_events
                        - queue_flush_timeout
                        - max_batch_bytes
                    ssl:
                      additionalProperties: false
                      nullable: true
                      type: object
                      properties:
                        certificate:
                          type: string
                        certificate_authorities:
                          items:
                            type: string
                          type: array
                        key:
                          type: string
                        verification_mode:
                          enum:
                            - full
                            - none
                            - certificate
                            - strict
                          type: string
                    timeout:
                      type: number
                    topic:
                      type: string
                    topics:
                      items:
                        additionalProperties: false
                        type: object
                        properties:
                          topic:
                            type: string
                          when:
                            additionalProperties: false
                            type: object
                            properties:
                              condition:
                                type: string
                              type:
                                enum:
                                  - equals
                                  - contains
                                  - regexp
                                type: string
                        required:
                          - topic
                      minItems: 1
                      type: array
                    type:
                      enum:
                        - kafka
                      type: string
                    username:
                      anyOf:
                        - items: {}
                          type: array
                        - type: boolean
                        - type: number
                        - type: object
                        - type: string
                      nullable: true
                      oneOf:
                        - type: string
                        - not: {}
                    version:
                      type: string
                  required:
                    - name
                    - compression_level
                    - connection_type
                    - username
                    - password
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    anyOf:
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          config_yaml:
                            nullable: true
                            type: string
                          hosts:
                            items:
                              format: uri
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          name:
                            type: string
                          preset:
                            enum:
                              - balanced
                              - custom
                              - throughput
                              - scale
                              - latency
                            type: string
                          proxy_id:
                            nullable: true
                            type: string
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          type:
                            enum:
                              - elasticsearch
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          config_yaml:
                            nullable: true
                            type: string
                          hosts:
                            items:
                              format: uri
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          name:
                            type: string
                          preset:
                            enum:
                              - balanced
                              - custom
                              - throughput
                              - scale
                              - latency
                            type: string
                          proxy_id:
                            nullable: true
                            type: string
                          secrets:
                            additionalProperties: true
                            type: object
                            properties:
                              service_token:
                                anyOf:
                                  - additionalProperties: true
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                    required:
                                      - id
                                  - type: string
                          service_token:
                            nullable: true
                            type: string
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          type:
                            enum:
                              - remote_elasticsearch
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          config_yaml:
                            nullable: true
                            type: string
                          hosts:
                            items:
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          name:
                            type: string
                          proxy_id:
                            nullable: true
                            type: string
                          secrets:
                            additionalProperties: true
                            type: object
                            properties:
                              ssl:
                                additionalProperties: true
                                type: object
                                properties:
                                  key:
                                    anyOf:
                                      - additionalProperties: true
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                        required:
                                          - id
                                      - type: string
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          type:
                            enum:
                              - logstash
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                      - additionalProperties: true
                        type: object
                        properties:
                          allow_edit:
                            items:
                              type: string
                            type: array
                          auth_type:
                            enum:
                              - none
                              - user_pass
                              - ssl
                              - kerberos
                            type: string
                          broker_timeout:
                            type: number
                          ca_sha256:
                            nullable: true
                            type: string
                          ca_trusted_fingerprint:
                            nullable: true
                            type: string
                          client_id:
                            type: string
                          compression:
                            enum:
                              - gzip
                              - snappy
                              - lz4
                              - none
                            type: string
                          compression_level:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - type: number
                              - not: {}
                          config_yaml:
                            nullable: true
                            type: string
                          connection_type:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - enum:
                                  - plaintext
                                  - encryption
                                type: string
                              - not: {}
                          hash:
                            additionalProperties: true
                            type: object
                            properties:
                              hash:
                                type: string
                              random:
                                type: boolean
                          headers:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                key:
                                  type: string
                                value:
                                  type: string
                              required:
                                - key
                                - value
                            type: array
                          hosts:
                            items:
                              type: string
                            minItems: 1
                            type: array
                          id:
                            type: string
                          is_default:
                            default: false
                            type: boolean
                          is_default_monitoring:
                            default: false
                            type: boolean
                          is_internal:
                            type: boolean
                          is_preconfigured:
                            type: boolean
                          key:
                            type: string
                          name:
                            type: string
                          partition:
                            enum:
                              - random
                              - round_robin
                              - hash
                            type: string
                          password:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - not: {}
                              - anyOf:
                                  - items: {}
                                    type: array
                                  - type: boolean
                                  - type: number
                                  - type: object
                                  - type: string
                                nullable: true
                                oneOf:
                                  - type: string
                                  - not: {}
                          proxy_id:
                            nullable: true
                            type: string
                          random:
                            additionalProperties: true
                            type: object
                            properties:
                              group_events:
                                type: number
                          required_acks:
                            enum:
                              - 1
                              - 0
                              - -1
                            type: integer
                          round_robin:
                            additionalProperties: true
                            type: object
                            properties:
                              group_events:
                                type: number
                          sasl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              mechanism:
                                enum:
                                  - PLAIN
                                  - SCRAM-SHA-256
                                  - SCRAM-SHA-512
                                type: string
                          secrets:
                            additionalProperties: true
                            type: object
                            properties:
                              password:
                                anyOf:
                                  - additionalProperties: true
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                    required:
                                      - id
                                  - type: string
                              ssl:
                                additionalProperties: true
                                type: object
                                properties:
                                  key:
                                    anyOf:
                                      - additionalProperties: true
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                        required:
                                          - id
                                      - type: string
                                required:
                                  - key
                          shipper:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              compression_level:
                                nullable: true
                                type: number
                              disk_queue_compression_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_enabled:
                                default: false
                                nullable: true
                                type: boolean
                              disk_queue_encryption_enabled:
                                nullable: true
                                type: boolean
                              disk_queue_max_size:
                                nullable: true
                                type: number
                              disk_queue_path:
                                nullable: true
                                type: string
                              loadbalance:
                                nullable: true
                                type: boolean
                              max_batch_bytes:
                                nullable: true
                                type: number
                              mem_queue_events:
                                nullable: true
                                type: number
                              queue_flush_timeout:
                                nullable: true
                                type: number
                            required:
                              - disk_queue_path
                              - disk_queue_max_size
                              - disk_queue_encryption_enabled
                              - disk_queue_compression_enabled
                              - compression_level
                              - loadbalance
                              - mem_queue_events
                              - queue_flush_timeout
                              - max_batch_bytes
                          ssl:
                            additionalProperties: true
                            nullable: true
                            type: object
                            properties:
                              certificate:
                                type: string
                              certificate_authorities:
                                items:
                                  type: string
                                type: array
                              key:
                                type: string
                              verification_mode:
                                enum:
                                  - full
                                  - none
                                  - certificate
                                  - strict
                                type: string
                          timeout:
                            type: number
                          topic:
                            type: string
                          topics:
                            items:
                              additionalProperties: true
                              type: object
                              properties:
                                topic:
                                  type: string
                                when:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    condition:
                                      type: string
                                    type:
                                      enum:
                                        - equals
                                        - contains
                                        - regexp
                                      type: string
                              required:
                                - topic
                            minItems: 1
                            type: array
                          type:
                            enum:
                              - kafka
                            type: string
                          username:
                            anyOf:
                              - items: {}
                                type: array
                              - type: boolean
                              - type: number
                              - type: object
                              - type: string
                            nullable: true
                            oneOf:
                              - type: string
                              - not: {}
                          version:
                            type: string
                        required:
                          - name
                          - type
                          - hosts
                          - compression_level
                          - auth_type
                          - connection_type
                          - username
                          - password
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet outputs
  /api/fleet/outputs/{outputId}/health:
    get:
      description: Get latest output health
      operationId: '%2Fapi%2Ffleet%2Foutputs%2F%7BoutputId%7D%2Fhealth#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: outputId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  message:
                    description: long message if unhealthy
                    type: string
                  state:
                    description: state of output, HEALTHY or DEGRADED
                    type: string
                  timestamp:
                    description: timestamp of reported state
                    type: string
                required:
                  - state
                  - message
                  - timestamp
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet outputs
  /api/fleet/package_policies:
    get:
      description: List package policies
      operationId: '%2Fapi%2Ffleet%2Fpackage_policies#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: query
          name: page
          required: false
          schema:
            type: number
        - in: query
          name: perPage
          required: false
          schema:
            type: number
        - in: query
          name: sortField
          required: false
          schema:
            type: string
        - in: query
          name: sortOrder
          required: false
          schema:
            enum:
              - desc
              - asc
            type: string
        - in: query
          name: showUpgradeable
          required: false
          schema:
            type: boolean
        - in: query
          name: kuery
          required: false
          schema:
            type: string
        - in: query
          name: format
          required: false
          schema:
            enum:
              - simplified
              - legacy
            type: string
        - in: query
          name: withAgentCount
          required: false
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        agents:
                          type: number
                        created_at:
                          type: string
                        created_by:
                          type: string
                        description:
                          description: Package policy description
                          type: string
                        elasticsearch:
                          additionalProperties: true
                          type: object
                          properties:
                            privileges:
                              additionalProperties: true
                              type: object
                              properties:
                                cluster:
                                  items:
                                    type: string
                                  type: array
                        enabled:
                          type: boolean
                        id:
                          type: string
                        inputs:
                          anyOf:
                            - items:
                                additionalProperties: false
                                type: object
                                properties:
                                  compiled_input: {}
                                  config:
                                    additionalProperties:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        frozen:
                                          type: boolean
                                        type:
                                          type: string
                                        value: {}
                                      required:
                                        - value
                                    description: >-
                                      Package variable (see integration
                                      documentation for more information)
                                    type: object
                                  enabled:
                                    type: boolean
                                  id:
                                    type: string
                                  keep_enabled:
                                    type: boolean
                                  policy_template:
                                    type: string
                                  streams:
                                    items:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        compiled_stream: {}
                                        config:
                                          additionalProperties:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              frozen:
                                                type: boolean
                                              type:
                                                type: string
                                              value: {}
                                            required:
                                              - value
                                          description: >-
                                            Package variable (see integration
                                            documentation for more information)
                                          type: object
                                        data_stream:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            dataset:
                                              type: string
                                            elasticsearch:
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                dynamic_dataset:
                                                  type: boolean
                                                dynamic_namespace:
                                                  type: boolean
                                                privileges:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    indices:
                                                      items:
                                                        type: string
                                                      type: array
                                            type:
                                              type: string
                                          required:
                                            - dataset
                                            - type
                                        enabled:
                                          type: boolean
                                        id:
                                          type: string
                                        keep_enabled:
                                          type: boolean
                                        release:
                                          enum:
                                            - ga
                                            - beta
                                            - experimental
                                          type: string
                                        vars:
                                          additionalProperties:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              frozen:
                                                type: boolean
                                              type:
                                                type: string
                                              value: {}
                                            required:
                                              - value
                                          description: >-
                                            Package variable (see integration
                                            documentation for more information)
                                          type: object
                                      required:
                                        - enabled
                                        - data_stream
                                        - compiled_stream
                                    type: array
                                  type:
                                    type: string
                                  vars:
                                    additionalProperties:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        frozen:
                                          type: boolean
                                        type:
                                          type: string
                                        value: {}
                                      required:
                                        - value
                                    description: >-
                                      Package variable (see integration
                                      documentation for more information)
                                    type: object
                                required:
                                  - type
                                  - enabled
                                  - streams
                                  - compiled_input
                              type: array
                            - additionalProperties:
                                additionalProperties: false
                                type: object
                                properties:
                                  enabled:
                                    description: >-
                                      enable or disable that input, (default to
                                      true)
                                    type: boolean
                                  streams:
                                    additionalProperties:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        enabled:
                                          description: >-
                                            enable or disable that stream, (default
                                            to true)
                                          type: boolean
                                        vars:
                                          additionalProperties:
                                            anyOf:
                                              - type: boolean
                                              - type: string
                                              - type: number
                                              - items:
                                                  type: string
                                                type: array
                                              - items:
                                                  type: number
                                                type: array
                                              - additionalProperties: false
                                                type: object
                                                properties:
                                                  id:
                                                    type: string
                                                  isSecretRef:
                                                    type: boolean
                                                required:
                                                  - id
                                                  - isSecretRef
                                            nullable: true
                                          description: >-
                                            Input/stream level variable (see
                                            integration documentation for more
                                            information)
                                          type: object
                                    description: >-
                                      Input streams (see integration
                                      documentation to know what streams are
                                      available)
                                    type: object
                                  vars:
                                    additionalProperties:
                                      anyOf:
                                        - type: boolean
                                        - type: string
                                        - type: number
                                        - items:
                                            type: string
                                          type: array
                                        - items:
                                            type: number
                                          type: array
                                        - additionalProperties: false
                                          type: object
                                          properties:
                                            id:
                                              type: string
                                            isSecretRef:
                                              type: boolean
                                          required:
                                            - id
                                            - isSecretRef
                                      nullable: true
                                    description: >-
                                      Input/stream level variable (see
                                      integration documentation for more
                                      information)
                                    type: object
                              description: >-
                                Package policy inputs (see integration
                                documentation to know what inputs are available)
                              type: object
                              x-oas-optional: true
                        is_managed:
                          type: boolean
                        name:
                          description: Package policy name (should be unique)
                          type: string
                        namespace:
                          description: >-
                            The package policy namespace. Leave blank to inherit
                            the agent policy's namespace.
                          type: string
                        output_id:
                          nullable: true
                          type: string
                        overrides:
                          additionalProperties: false
                          description: >-
                            Override settings that are defined in the package
                            policy. The override option should be used only in
                            unusual circumstances and not as a routine
                            procedure.
                          nullable: true
                          type: object
                          properties:
                            inputs:
                              additionalProperties: {}
                              type: object
                        package:
                          additionalProperties: false
                          type: object
                          properties:
                            experimental_data_stream_features:
                              items:
                                additionalProperties: false
                                type: object
                                properties:
                                  data_stream:
                                    type: string
                                  features:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      doc_value_only_numeric:
                                        type: boolean
                                      doc_value_only_other:
                                        type: boolean
                                      synthetic_source:
                                        type: boolean
                                      tsdb:
                                        type: boolean
                                required:
                                  - data_stream
                                  - features
                              type: array
                            name:
                              description: Package name
                              type: string
                            requires_root:
                              type: boolean
                            title:
                              type: string
                            version:
                              description: Package version
                              type: string
                          required:
                            - name
                            - version
                        policy_id:
                          deprecated: true
                          description: >-
                            Agent policy ID where that package policy will be
                            added
                          nullable: true
                          type: string
                        policy_ids:
                          items:
                            description: >-
                              Agent policy IDs where that package policy will be
                              added
                            type: string
                          type: array
                        revision:
                          type: number
                        secret_references:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              id:
                                type: string
                            required:
                              - id
                          type: array
                        spaceIds:
                          items:
                            type: string
                          type: array
                        updated_at:
                          type: string
                        updated_by:
                          type: string
                        vars:
                          anyOf:
                            - additionalProperties:
                                additionalProperties: false
                                type: object
                                properties:
                                  frozen:
                                    type: boolean
                                  type:
                                    type: string
                                  value: {}
                                required:
                                  - value
                              description: >-
                                Package variable (see integration documentation
                                for more information)
                              type: object
                            - additionalProperties:
                                anyOf:
                                  - type: boolean
                                  - type: string
                                  - type: number
                                  - items:
                                      type: string
                                    type: array
                                  - items:
                                      type: number
                                    type: array
                                  - additionalProperties: false
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                      isSecretRef:
                                        type: boolean
                                    required:
                                      - id
                                      - isSecretRef
                                nullable: true
                              description: >-
                                Input/stream level variable (see integration
                                documentation for more information)
                              type: object
                              x-oas-optional: true
                        version:
                          type: string
                      required:
                        - name
                        - enabled
                        - inputs
                        - id
                        - revision
                        - updated_at
                        - updated_by
                        - created_at
                        - created_by
                    type: array
                  page:
                    type: number
                  perPage:
                    type: number
                  total:
                    type: number
                required:
                  - items
                  - total
                  - page
                  - perPage
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet package policies
    post:
      description: Create package policy
      operationId: '%2Fapi%2Ffleet%2Fpackage_policies#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: query
          name: format
          required: false
          schema:
            enum:
              - simplified
              - legacy
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              anyOf:
                - additionalProperties: false
                  type: object
                  properties:
                    description:
                      description: Package policy description
                      type: string
                    enabled:
                      type: boolean
                    force:
                      description: >-
                        Force package policy creation even if package is not
                        verified, or if the agent policy is managed.
                      type: boolean
                    id:
                      description: Package policy unique identifier
                      type: string
                    inputs:
                      items:
                        additionalProperties: false
                        type: object
                        properties:
                          config:
                            additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                frozen:
                                  type: boolean
                                type:
                                  type: string
                                value: {}
                              required:
                                - value
                            description: >-
                              Package variable (see integration documentation
                              for more information)
                            type: object
                          enabled:
                            type: boolean
                          id:
                            type: string
                          keep_enabled:
                            type: boolean
                          policy_template:
                            type: string
                          streams:
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                compiled_stream: {}
                                config:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                                data_stream:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    dataset:
                                      type: string
                                    elasticsearch:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        dynamic_dataset:
                                          type: boolean
                                        dynamic_namespace:
                                          type: boolean
                                        privileges:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            indices:
                                              items:
                                                type: string
                                              type: array
                                    type:
                                      type: string
                                  required:
                                    - dataset
                                    - type
                                enabled:
                                  type: boolean
                                id:
                                  type: string
                                keep_enabled:
                                  type: boolean
                                release:
                                  enum:
                                    - ga
                                    - beta
                                    - experimental
                                  type: string
                                vars:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                              required:
                                - enabled
                                - data_stream
                                - compiled_stream
                            type: array
                          type:
                            type: string
                          vars:
                            additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                frozen:
                                  type: boolean
                                type:
                                  type: string
                                value: {}
                              required:
                                - value
                            description: >-
                              Package variable (see integration documentation
                              for more information)
                            type: object
                        required:
                          - type
                          - enabled
                      type: array
                    is_managed:
                      type: boolean
                    name:
                      description: Package policy name (should be unique)
                      type: string
                    namespace:
                      description: >-
                        The package policy namespace. Leave blank to inherit the
                        agent policy's namespace.
                      type: string
                    output_id:
                      nullable: true
                      type: string
                    overrides:
                      additionalProperties: false
                      description: >-
                        Override settings that are defined in the package
                        policy. The override option should be used only in
                        unusual circumstances and not as a routine procedure.
                      nullable: true
                      type: object
                      properties:
                        inputs:
                          additionalProperties: {}
                          type: object
                    package:
                      additionalProperties: false
                      type: object
                      properties:
                        experimental_data_stream_features:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              data_stream:
                                type: string
                              features:
                                additionalProperties: false
                                type: object
                                properties:
                                  doc_value_only_numeric:
                                    type: boolean
                                  doc_value_only_other:
                                    type: boolean
                                  synthetic_source:
                                    type: boolean
                                  tsdb:
                                    type: boolean
                            required:
                              - data_stream
                              - features
                          type: array
                        name:
                          description: Package name
                          type: string
                        requires_root:
                          type: boolean
                        title:
                          type: string
                        version:
                          description: Package version
                          type: string
                      required:
                        - name
                        - version
                    policy_id:
                      deprecated: true
                      description: Agent policy ID where that package policy will be added
                      nullable: true
                      type: string
                    policy_ids:
                      items:
                        description: >-
                          Agent policy IDs where that package policy will be
                          added
                        type: string
                      type: array
                    vars:
                      additionalProperties:
                        additionalProperties: false
                        type: object
                        properties:
                          frozen:
                            type: boolean
                          type:
                            type: string
                          value: {}
                        required:
                          - value
                      description: >-
                        Package variable (see integration documentation for more
                        information)
                      type: object
                  required:
                    - name
                    - inputs
                - additionalProperties: false
                  type: object
                  properties:
                    description:
                      type: string
                    force:
                      type: boolean
                    id:
                      type: string
                    inputs:
                      additionalProperties:
                        additionalProperties: false
                        type: object
                        properties:
                          enabled:
                            description: enable or disable that input, (default to true)
                            type: boolean
                          streams:
                            additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                enabled:
                                  description: >-
                                    enable or disable that stream, (default to
                                    true)
                                  type: boolean
                                vars:
                                  additionalProperties:
                                    anyOf:
                                      - type: boolean
                                      - type: string
                                      - type: number
                                      - items:
                                          type: string
                                        type: array
                                      - items:
                                          type: number
                                        type: array
                                      - additionalProperties: false
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                          isSecretRef:
                                            type: boolean
                                        required:
                                          - id
                                          - isSecretRef
                                    nullable: true
                                  description: >-
                                    Input/stream level variable (see integration
                                    documentation for more information)
                                  type: object
                            description: >-
                              Input streams (see integration documentation to
                              know what streams are available)
                            type: object
                          vars:
                            additionalProperties:
                              anyOf:
                                - type: boolean
                                - type: string
                                - type: number
                                - items:
                                    type: string
                                  type: array
                                - items:
                                    type: number
                                  type: array
                                - additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                    isSecretRef:
                                      type: boolean
                                  required:
                                    - id
                                    - isSecretRef
                              nullable: true
                            description: >-
                              Input/stream level variable (see integration
                              documentation for more information)
                            type: object
                      description: >-
                        Package policy inputs (see integration documentation to
                        know what inputs are available)
                      type: object
                    name:
                      type: string
                    namespace:
                      type: string
                    output_id:
                      nullable: true
                      type: string
                    package:
                      additionalProperties: false
                      type: object
                      properties:
                        experimental_data_stream_features:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              data_stream:
                                type: string
                              features:
                                additionalProperties: false
                                type: object
                                properties:
                                  doc_value_only_numeric:
                                    type: boolean
                                  doc_value_only_other:
                                    type: boolean
                                  synthetic_source:
                                    type: boolean
                                  tsdb:
                                    type: boolean
                            required:
                              - data_stream
                              - features
                          type: array
                        name:
                          description: Package name
                          type: string
                        requires_root:
                          type: boolean
                        title:
                          type: string
                        version:
                          description: Package version
                          type: string
                      required:
                        - name
                        - version
                    policy_id:
                      nullable: true
                      type: string
                    policy_ids:
                      items:
                        type: string
                      type: array
                    vars:
                      additionalProperties:
                        anyOf:
                          - type: boolean
                          - type: string
                          - type: number
                          - items:
                              type: string
                            type: array
                          - items:
                              type: number
                            type: array
                          - additionalProperties: false
                            type: object
                            properties:
                              id:
                                type: string
                              isSecretRef:
                                type: boolean
                            required:
                              - id
                              - isSecretRef
                        nullable: true
                      description: >-
                        Input/stream level variable (see integration
                        documentation for more information)
                      type: object
                  required:
                    - name
                    - package
              description: >-
                You should use inputs as an object and not use the deprecated
                inputs array.
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      agents:
                        type: number
                      created_at:
                        type: string
                      created_by:
                        type: string
                      description:
                        description: Package policy description
                        type: string
                      elasticsearch:
                        additionalProperties: true
                        type: object
                        properties:
                          privileges:
                            additionalProperties: true
                            type: object
                            properties:
                              cluster:
                                items:
                                  type: string
                                type: array
                      enabled:
                        type: boolean
                      id:
                        type: string
                      inputs:
                        anyOf:
                          - items:
                              additionalProperties: false
                              type: object
                              properties:
                                compiled_input: {}
                                config:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                                enabled:
                                  type: boolean
                                id:
                                  type: string
                                keep_enabled:
                                  type: boolean
                                policy_template:
                                  type: string
                                streams:
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      compiled_stream: {}
                                      config:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                      data_stream:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          dataset:
                                            type: string
                                          elasticsearch:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              dynamic_dataset:
                                                type: boolean
                                              dynamic_namespace:
                                                type: boolean
                                              privileges:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  indices:
                                                    items:
                                                      type: string
                                                    type: array
                                          type:
                                            type: string
                                        required:
                                          - dataset
                                          - type
                                      enabled:
                                        type: boolean
                                      id:
                                        type: string
                                      keep_enabled:
                                        type: boolean
                                      release:
                                        enum:
                                          - ga
                                          - beta
                                          - experimental
                                        type: string
                                      vars:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                    required:
                                      - enabled
                                      - data_stream
                                      - compiled_stream
                                  type: array
                                type:
                                  type: string
                                vars:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                              required:
                                - type
                                - enabled
                                - streams
                                - compiled_input
                            type: array
                          - additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                enabled:
                                  description: >-
                                    enable or disable that input, (default to
                                    true)
                                  type: boolean
                                streams:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      enabled:
                                        description: >-
                                          enable or disable that stream, (default
                                          to true)
                                        type: boolean
                                      vars:
                                        additionalProperties:
                                          anyOf:
                                            - type: boolean
                                            - type: string
                                            - type: number
                                            - items:
                                                type: string
                                              type: array
                                            - items:
                                                type: number
                                              type: array
                                            - additionalProperties: false
                                              type: object
                                              properties:
                                                id:
                                                  type: string
                                                isSecretRef:
                                                  type: boolean
                                              required:
                                                - id
                                                - isSecretRef
                                          nullable: true
                                        description: >-
                                          Input/stream level variable (see
                                          integration documentation for more
                                          information)
                                        type: object
                                  description: >-
                                    Input streams (see integration documentation
                                    to know what streams are available)
                                  type: object
                                vars:
                                  additionalProperties:
                                    anyOf:
                                      - type: boolean
                                      - type: string
                                      - type: number
                                      - items:
                                          type: string
                                        type: array
                                      - items:
                                          type: number
                                        type: array
                                      - additionalProperties: false
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                          isSecretRef:
                                            type: boolean
                                        required:
                                          - id
                                          - isSecretRef
                                    nullable: true
                                  description: >-
                                    Input/stream level variable (see integration
                                    documentation for more information)
                                  type: object
                            description: >-
                              Package policy inputs (see integration
                              documentation to know what inputs are available)
                            type: object
                            x-oas-optional: true
                      is_managed:
                        type: boolean
                      name:
                        description: Package policy name (should be unique)
                        type: string
                      namespace:
                        description: >-
                          The package policy namespace. Leave blank to inherit
                          the agent policy's namespace.
                        type: string
                      output_id:
                        nullable: true
                        type: string
                      overrides:
                        additionalProperties: false
                        description: >-
                          Override settings that are defined in the package
                          policy. The override option should be used only in
                          unusual circumstances and not as a routine procedure.
                        nullable: true
                        type: object
                        properties:
                          inputs:
                            additionalProperties: {}
                            type: object
                      package:
                        additionalProperties: false
                        type: object
                        properties:
                          experimental_data_stream_features:
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                data_stream:
                                  type: string
                                features:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    doc_value_only_numeric:
                                      type: boolean
                                    doc_value_only_other:
                                      type: boolean
                                    synthetic_source:
                                      type: boolean
                                    tsdb:
                                      type: boolean
                              required:
                                - data_stream
                                - features
                            type: array
                          name:
                            description: Package name
                            type: string
                          requires_root:
                            type: boolean
                          title:
                            type: string
                          version:
                            description: Package version
                            type: string
                        required:
                          - name
                          - version
                      policy_id:
                        deprecated: true
                        description: >-
                          Agent policy ID where that package policy will be
                          added
                        nullable: true
                        type: string
                      policy_ids:
                        items:
                          description: >-
                            Agent policy IDs where that package policy will be
                            added
                          type: string
                        type: array
                      revision:
                        type: number
                      secret_references:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                          required:
                            - id
                        type: array
                      spaceIds:
                        items:
                          type: string
                        type: array
                      updated_at:
                        type: string
                      updated_by:
                        type: string
                      vars:
                        anyOf:
                          - additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                frozen:
                                  type: boolean
                                type:
                                  type: string
                                value: {}
                              required:
                                - value
                            description: >-
                              Package variable (see integration documentation
                              for more information)
                            type: object
                          - additionalProperties:
                              anyOf:
                                - type: boolean
                                - type: string
                                - type: number
                                - items:
                                    type: string
                                  type: array
                                - items:
                                    type: number
                                  type: array
                                - additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                    isSecretRef:
                                      type: boolean
                                  required:
                                    - id
                                    - isSecretRef
                              nullable: true
                            description: >-
                              Input/stream level variable (see integration
                              documentation for more information)
                            type: object
                            x-oas-optional: true
                      version:
                        type: string
                    required:
                      - name
                      - enabled
                      - inputs
                      - id
                      - revision
                      - updated_at
                      - updated_by
                      - created_at
                      - created_by
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '409':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet package policies
  /api/fleet/package_policies/_bulk_get:
    post:
      description: Bulk get package policies
      operationId: '%2Fapi%2Ffleet%2Fpackage_policies%2F_bulk_get#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: query
          name: format
          required: false
          schema:
            enum:
              - simplified
              - legacy
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                ids:
                  description: list of package policy ids
                  items:
                    type: string
                  type: array
                ignoreMissing:
                  type: boolean
              required:
                - ids
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        agents:
                          type: number
                        created_at:
                          type: string
                        created_by:
                          type: string
                        description:
                          description: Package policy description
                          type: string
                        elasticsearch:
                          additionalProperties: true
                          type: object
                          properties:
                            privileges:
                              additionalProperties: true
                              type: object
                              properties:
                                cluster:
                                  items:
                                    type: string
                                  type: array
                        enabled:
                          type: boolean
                        id:
                          type: string
                        inputs:
                          anyOf:
                            - items:
                                additionalProperties: false
                                type: object
                                properties:
                                  compiled_input: {}
                                  config:
                                    additionalProperties:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        frozen:
                                          type: boolean
                                        type:
                                          type: string
                                        value: {}
                                      required:
                                        - value
                                    description: >-
                                      Package variable (see integration
                                      documentation for more information)
                                    type: object
                                  enabled:
                                    type: boolean
                                  id:
                                    type: string
                                  keep_enabled:
                                    type: boolean
                                  policy_template:
                                    type: string
                                  streams:
                                    items:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        compiled_stream: {}
                                        config:
                                          additionalProperties:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              frozen:
                                                type: boolean
                                              type:
                                                type: string
                                              value: {}
                                            required:
                                              - value
                                          description: >-
                                            Package variable (see integration
                                            documentation for more information)
                                          type: object
                                        data_stream:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            dataset:
                                              type: string
                                            elasticsearch:
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                dynamic_dataset:
                                                  type: boolean
                                                dynamic_namespace:
                                                  type: boolean
                                                privileges:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    indices:
                                                      items:
                                                        type: string
                                                      type: array
                                            type:
                                              type: string
                                          required:
                                            - dataset
                                            - type
                                        enabled:
                                          type: boolean
                                        id:
                                          type: string
                                        keep_enabled:
                                          type: boolean
                                        release:
                                          enum:
                                            - ga
                                            - beta
                                            - experimental
                                          type: string
                                        vars:
                                          additionalProperties:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              frozen:
                                                type: boolean
                                              type:
                                                type: string
                                              value: {}
                                            required:
                                              - value
                                          description: >-
                                            Package variable (see integration
                                            documentation for more information)
                                          type: object
                                      required:
                                        - enabled
                                        - data_stream
                                        - compiled_stream
                                    type: array
                                  type:
                                    type: string
                                  vars:
                                    additionalProperties:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        frozen:
                                          type: boolean
                                        type:
                                          type: string
                                        value: {}
                                      required:
                                        - value
                                    description: >-
                                      Package variable (see integration
                                      documentation for more information)
                                    type: object
                                required:
                                  - type
                                  - enabled
                                  - streams
                                  - compiled_input
                              type: array
                            - additionalProperties:
                                additionalProperties: false
                                type: object
                                properties:
                                  enabled:
                                    description: >-
                                      enable or disable that input, (default to
                                      true)
                                    type: boolean
                                  streams:
                                    additionalProperties:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        enabled:
                                          description: >-
                                            enable or disable that stream, (default
                                            to true)
                                          type: boolean
                                        vars:
                                          additionalProperties:
                                            anyOf:
                                              - type: boolean
                                              - type: string
                                              - type: number
                                              - items:
                                                  type: string
                                                type: array
                                              - items:
                                                  type: number
                                                type: array
                                              - additionalProperties: false
                                                type: object
                                                properties:
                                                  id:
                                                    type: string
                                                  isSecretRef:
                                                    type: boolean
                                                required:
                                                  - id
                                                  - isSecretRef
                                            nullable: true
                                          description: >-
                                            Input/stream level variable (see
                                            integration documentation for more
                                            information)
                                          type: object
                                    description: >-
                                      Input streams (see integration
                                      documentation to know what streams are
                                      available)
                                    type: object
                                  vars:
                                    additionalProperties:
                                      anyOf:
                                        - type: boolean
                                        - type: string
                                        - type: number
                                        - items:
                                            type: string
                                          type: array
                                        - items:
                                            type: number
                                          type: array
                                        - additionalProperties: false
                                          type: object
                                          properties:
                                            id:
                                              type: string
                                            isSecretRef:
                                              type: boolean
                                          required:
                                            - id
                                            - isSecretRef
                                      nullable: true
                                    description: >-
                                      Input/stream level variable (see
                                      integration documentation for more
                                      information)
                                    type: object
                              description: >-
                                Package policy inputs (see integration
                                documentation to know what inputs are available)
                              type: object
                              x-oas-optional: true
                        is_managed:
                          type: boolean
                        name:
                          description: Package policy name (should be unique)
                          type: string
                        namespace:
                          description: >-
                            The package policy namespace. Leave blank to inherit
                            the agent policy's namespace.
                          type: string
                        output_id:
                          nullable: true
                          type: string
                        overrides:
                          additionalProperties: false
                          description: >-
                            Override settings that are defined in the package
                            policy. The override option should be used only in
                            unusual circumstances and not as a routine
                            procedure.
                          nullable: true
                          type: object
                          properties:
                            inputs:
                              additionalProperties: {}
                              type: object
                        package:
                          additionalProperties: false
                          type: object
                          properties:
                            experimental_data_stream_features:
                              items:
                                additionalProperties: false
                                type: object
                                properties:
                                  data_stream:
                                    type: string
                                  features:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      doc_value_only_numeric:
                                        type: boolean
                                      doc_value_only_other:
                                        type: boolean
                                      synthetic_source:
                                        type: boolean
                                      tsdb:
                                        type: boolean
                                required:
                                  - data_stream
                                  - features
                              type: array
                            name:
                              description: Package name
                              type: string
                            requires_root:
                              type: boolean
                            title:
                              type: string
                            version:
                              description: Package version
                              type: string
                          required:
                            - name
                            - version
                        policy_id:
                          deprecated: true
                          description: >-
                            Agent policy ID where that package policy will be
                            added
                          nullable: true
                          type: string
                        policy_ids:
                          items:
                            description: >-
                              Agent policy IDs where that package policy will be
                              added
                            type: string
                          type: array
                        revision:
                          type: number
                        secret_references:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              id:
                                type: string
                            required:
                              - id
                          type: array
                        spaceIds:
                          items:
                            type: string
                          type: array
                        updated_at:
                          type: string
                        updated_by:
                          type: string
                        vars:
                          anyOf:
                            - additionalProperties:
                                additionalProperties: false
                                type: object
                                properties:
                                  frozen:
                                    type: boolean
                                  type:
                                    type: string
                                  value: {}
                                required:
                                  - value
                              description: >-
                                Package variable (see integration documentation
                                for more information)
                              type: object
                            - additionalProperties:
                                anyOf:
                                  - type: boolean
                                  - type: string
                                  - type: number
                                  - items:
                                      type: string
                                    type: array
                                  - items:
                                      type: number
                                    type: array
                                  - additionalProperties: false
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                      isSecretRef:
                                        type: boolean
                                    required:
                                      - id
                                      - isSecretRef
                                nullable: true
                              description: >-
                                Input/stream level variable (see integration
                                documentation for more information)
                              type: object
                              x-oas-optional: true
                        version:
                          type: string
                      required:
                        - name
                        - enabled
                        - inputs
                        - id
                        - revision
                        - updated_at
                        - updated_by
                        - created_at
                        - created_by
                    type: array
                required:
                  - items
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  message:
                    type: string
                required:
                  - message
      summary: ''
      tags:
        - Fleet package policies
  /api/fleet/package_policies/{packagePolicyId}:
    delete:
      description: Delete package policy by ID
      operationId: '%2Fapi%2Ffleet%2Fpackage_policies%2F%7BpackagePolicyId%7D#2'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: packagePolicyId
          required: true
          schema:
            type: string
        - in: query
          name: force
          required: false
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  id:
                    type: string
                required:
                  - id
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet package policies
    get:
      description: Get package policy by ID
      operationId: '%2Fapi%2Ffleet%2Fpackage_policies%2F%7BpackagePolicyId%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: packagePolicyId
          required: true
          schema:
            type: string
        - in: query
          name: format
          required: false
          schema:
            enum:
              - simplified
              - legacy
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      agents:
                        type: number
                      created_at:
                        type: string
                      created_by:
                        type: string
                      description:
                        description: Package policy description
                        type: string
                      elasticsearch:
                        additionalProperties: true
                        type: object
                        properties:
                          privileges:
                            additionalProperties: true
                            type: object
                            properties:
                              cluster:
                                items:
                                  type: string
                                type: array
                      enabled:
                        type: boolean
                      id:
                        type: string
                      inputs:
                        anyOf:
                          - items:
                              additionalProperties: false
                              type: object
                              properties:
                                compiled_input: {}
                                config:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                                enabled:
                                  type: boolean
                                id:
                                  type: string
                                keep_enabled:
                                  type: boolean
                                policy_template:
                                  type: string
                                streams:
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      compiled_stream: {}
                                      config:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                      data_stream:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          dataset:
                                            type: string
                                          elasticsearch:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              dynamic_dataset:
                                                type: boolean
                                              dynamic_namespace:
                                                type: boolean
                                              privileges:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  indices:
                                                    items:
                                                      type: string
                                                    type: array
                                          type:
                                            type: string
                                        required:
                                          - dataset
                                          - type
                                      enabled:
                                        type: boolean
                                      id:
                                        type: string
                                      keep_enabled:
                                        type: boolean
                                      release:
                                        enum:
                                          - ga
                                          - beta
                                          - experimental
                                        type: string
                                      vars:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                    required:
                                      - enabled
                                      - data_stream
                                      - compiled_stream
                                  type: array
                                type:
                                  type: string
                                vars:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                              required:
                                - type
                                - enabled
                                - streams
                                - compiled_input
                            type: array
                          - additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                enabled:
                                  description: >-
                                    enable or disable that input, (default to
                                    true)
                                  type: boolean
                                streams:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      enabled:
                                        description: >-
                                          enable or disable that stream, (default
                                          to true)
                                        type: boolean
                                      vars:
                                        additionalProperties:
                                          anyOf:
                                            - type: boolean
                                            - type: string
                                            - type: number
                                            - items:
                                                type: string
                                              type: array
                                            - items:
                                                type: number
                                              type: array
                                            - additionalProperties: false
                                              type: object
                                              properties:
                                                id:
                                                  type: string
                                                isSecretRef:
                                                  type: boolean
                                              required:
                                                - id
                                                - isSecretRef
                                          nullable: true
                                        description: >-
                                          Input/stream level variable (see
                                          integration documentation for more
                                          information)
                                        type: object
                                  description: >-
                                    Input streams (see integration documentation
                                    to know what streams are available)
                                  type: object
                                vars:
                                  additionalProperties:
                                    anyOf:
                                      - type: boolean
                                      - type: string
                                      - type: number
                                      - items:
                                          type: string
                                        type: array
                                      - items:
                                          type: number
                                        type: array
                                      - additionalProperties: false
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                          isSecretRef:
                                            type: boolean
                                        required:
                                          - id
                                          - isSecretRef
                                    nullable: true
                                  description: >-
                                    Input/stream level variable (see integration
                                    documentation for more information)
                                  type: object
                            description: >-
                              Package policy inputs (see integration
                              documentation to know what inputs are available)
                            type: object
                            x-oas-optional: true
                      is_managed:
                        type: boolean
                      name:
                        description: Package policy name (should be unique)
                        type: string
                      namespace:
                        description: >-
                          The package policy namespace. Leave blank to inherit
                          the agent policy's namespace.
                        type: string
                      output_id:
                        nullable: true
                        type: string
                      overrides:
                        additionalProperties: false
                        description: >-
                          Override settings that are defined in the package
                          policy. The override option should be used only in
                          unusual circumstances and not as a routine procedure.
                        nullable: true
                        type: object
                        properties:
                          inputs:
                            additionalProperties: {}
                            type: object
                      package:
                        additionalProperties: false
                        type: object
                        properties:
                          experimental_data_stream_features:
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                data_stream:
                                  type: string
                                features:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    doc_value_only_numeric:
                                      type: boolean
                                    doc_value_only_other:
                                      type: boolean
                                    synthetic_source:
                                      type: boolean
                                    tsdb:
                                      type: boolean
                              required:
                                - data_stream
                                - features
                            type: array
                          name:
                            description: Package name
                            type: string
                          requires_root:
                            type: boolean
                          title:
                            type: string
                          version:
                            description: Package version
                            type: string
                        required:
                          - name
                          - version
                      policy_id:
                        deprecated: true
                        description: >-
                          Agent policy ID where that package policy will be
                          added
                        nullable: true
                        type: string
                      policy_ids:
                        items:
                          description: >-
                            Agent policy IDs where that package policy will be
                            added
                          type: string
                        type: array
                      revision:
                        type: number
                      secret_references:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                          required:
                            - id
                        type: array
                      spaceIds:
                        items:
                          type: string
                        type: array
                      updated_at:
                        type: string
                      updated_by:
                        type: string
                      vars:
                        anyOf:
                          - additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                frozen:
                                  type: boolean
                                type:
                                  type: string
                                value: {}
                              required:
                                - value
                            description: >-
                              Package variable (see integration documentation
                              for more information)
                            type: object
                          - additionalProperties:
                              anyOf:
                                - type: boolean
                                - type: string
                                - type: number
                                - items:
                                    type: string
                                  type: array
                                - items:
                                    type: number
                                  type: array
                                - additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                    isSecretRef:
                                      type: boolean
                                  required:
                                    - id
                                    - isSecretRef
                              nullable: true
                            description: >-
                              Input/stream level variable (see integration
                              documentation for more information)
                            type: object
                            x-oas-optional: true
                      version:
                        type: string
                    required:
                      - name
                      - enabled
                      - inputs
                      - id
                      - revision
                      - updated_at
                      - updated_by
                      - created_at
                      - created_by
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  message:
                    type: string
                required:
                  - message
      summary: ''
      tags:
        - Fleet package policies
    put:
      description: Update package policy by ID
      operationId: '%2Fapi%2Ffleet%2Fpackage_policies%2F%7BpackagePolicyId%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: packagePolicyId
          required: true
          schema:
            type: string
        - in: query
          name: format
          required: false
          schema:
            enum:
              - simplified
              - legacy
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              anyOf:
                - additionalProperties: false
                  type: object
                  properties:
                    description:
                      description: Package policy description
                      type: string
                    enabled:
                      type: boolean
                    force:
                      type: boolean
                    inputs:
                      items:
                        additionalProperties: false
                        type: object
                        properties:
                          config:
                            additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                frozen:
                                  type: boolean
                                type:
                                  type: string
                                value: {}
                              required:
                                - value
                            description: >-
                              Package variable (see integration documentation
                              for more information)
                            type: object
                          enabled:
                            type: boolean
                          id:
                            type: string
                          keep_enabled:
                            type: boolean
                          policy_template:
                            type: string
                          streams:
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                compiled_stream: {}
                                config:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                                data_stream:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    dataset:
                                      type: string
                                    elasticsearch:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        dynamic_dataset:
                                          type: boolean
                                        dynamic_namespace:
                                          type: boolean
                                        privileges:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            indices:
                                              items:
                                                type: string
                                              type: array
                                    type:
                                      type: string
                                  required:
                                    - dataset
                                    - type
                                enabled:
                                  type: boolean
                                id:
                                  type: string
                                keep_enabled:
                                  type: boolean
                                release:
                                  enum:
                                    - ga
                                    - beta
                                    - experimental
                                  type: string
                                vars:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                              required:
                                - enabled
                                - data_stream
                                - compiled_stream
                            type: array
                          type:
                            type: string
                          vars:
                            additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                frozen:
                                  type: boolean
                                type:
                                  type: string
                                value: {}
                              required:
                                - value
                            description: >-
                              Package variable (see integration documentation
                              for more information)
                            type: object
                        required:
                          - type
                          - enabled
                      type: array
                    is_managed:
                      type: boolean
                    name:
                      type: string
                    namespace:
                      description: >-
                        The package policy namespace. Leave blank to inherit the
                        agent policy's namespace.
                      type: string
                    output_id:
                      nullable: true
                      type: string
                    overrides:
                      additionalProperties: false
                      description: >-
                        Override settings that are defined in the package
                        policy. The override option should be used only in
                        unusual circumstances and not as a routine procedure.
                      nullable: true
                      type: object
                      properties:
                        inputs:
                          additionalProperties: {}
                          type: object
                    package:
                      additionalProperties: false
                      type: object
                      properties:
                        experimental_data_stream_features:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              data_stream:
                                type: string
                              features:
                                additionalProperties: false
                                type: object
                                properties:
                                  doc_value_only_numeric:
                                    type: boolean
                                  doc_value_only_other:
                                    type: boolean
                                  synthetic_source:
                                    type: boolean
                                  tsdb:
                                    type: boolean
                            required:
                              - data_stream
                              - features
                          type: array
                        name:
                          description: Package name
                          type: string
                        requires_root:
                          type: boolean
                        title:
                          type: string
                        version:
                          description: Package version
                          type: string
                      required:
                        - name
                        - version
                    policy_id:
                      deprecated: true
                      description: Agent policy ID where that package policy will be added
                      nullable: true
                      type: string
                    policy_ids:
                      items:
                        description: >-
                          Agent policy IDs where that package policy will be
                          added
                        type: string
                      type: array
                    vars:
                      additionalProperties:
                        additionalProperties: false
                        type: object
                        properties:
                          frozen:
                            type: boolean
                          type:
                            type: string
                          value: {}
                        required:
                          - value
                      description: >-
                        Package variable (see integration documentation for more
                        information)
                      type: object
                    version:
                      type: string
                - additionalProperties: false
                  type: object
                  properties:
                    description:
                      type: string
                    force:
                      type: boolean
                    id:
                      type: string
                    inputs:
                      additionalProperties:
                        additionalProperties: false
                        type: object
                        properties:
                          enabled:
                            description: enable or disable that input, (default to true)
                            type: boolean
                          streams:
                            additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                enabled:
                                  description: >-
                                    enable or disable that stream, (default to
                                    true)
                                  type: boolean
                                vars:
                                  additionalProperties:
                                    anyOf:
                                      - type: boolean
                                      - type: string
                                      - type: number
                                      - items:
                                          type: string
                                        type: array
                                      - items:
                                          type: number
                                        type: array
                                      - additionalProperties: false
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                          isSecretRef:
                                            type: boolean
                                        required:
                                          - id
                                          - isSecretRef
                                    nullable: true
                                  description: >-
                                    Input/stream level variable (see integration
                                    documentation for more information)
                                  type: object
                            description: >-
                              Input streams (see integration documentation to
                              know what streams are available)
                            type: object
                          vars:
                            additionalProperties:
                              anyOf:
                                - type: boolean
                                - type: string
                                - type: number
                                - items:
                                    type: string
                                  type: array
                                - items:
                                    type: number
                                  type: array
                                - additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                    isSecretRef:
                                      type: boolean
                                  required:
                                    - id
                                    - isSecretRef
                              nullable: true
                            description: >-
                              Input/stream level variable (see integration
                              documentation for more information)
                            type: object
                      description: >-
                        Package policy inputs (see integration documentation to
                        know what inputs are available)
                      type: object
                    name:
                      type: string
                    namespace:
                      type: string
                    output_id:
                      nullable: true
                      type: string
                    package:
                      additionalProperties: false
                      type: object
                      properties:
                        experimental_data_stream_features:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              data_stream:
                                type: string
                              features:
                                additionalProperties: false
                                type: object
                                properties:
                                  doc_value_only_numeric:
                                    type: boolean
                                  doc_value_only_other:
                                    type: boolean
                                  synthetic_source:
                                    type: boolean
                                  tsdb:
                                    type: boolean
                            required:
                              - data_stream
                              - features
                          type: array
                        name:
                          description: Package name
                          type: string
                        requires_root:
                          type: boolean
                        title:
                          type: string
                        version:
                          description: Package version
                          type: string
                      required:
                        - name
                        - version
                    policy_id:
                      nullable: true
                      type: string
                    policy_ids:
                      items:
                        type: string
                      type: array
                    vars:
                      additionalProperties:
                        anyOf:
                          - type: boolean
                          - type: string
                          - type: number
                          - items:
                              type: string
                            type: array
                          - items:
                              type: number
                            type: array
                          - additionalProperties: false
                            type: object
                            properties:
                              id:
                                type: string
                              isSecretRef:
                                type: boolean
                            required:
                              - id
                              - isSecretRef
                        nullable: true
                      description: >-
                        Input/stream level variable (see integration
                        documentation for more information)
                      type: object
                  required:
                    - name
                    - package
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      agents:
                        type: number
                      created_at:
                        type: string
                      created_by:
                        type: string
                      description:
                        description: Package policy description
                        type: string
                      elasticsearch:
                        additionalProperties: true
                        type: object
                        properties:
                          privileges:
                            additionalProperties: true
                            type: object
                            properties:
                              cluster:
                                items:
                                  type: string
                                type: array
                      enabled:
                        type: boolean
                      id:
                        type: string
                      inputs:
                        anyOf:
                          - items:
                              additionalProperties: false
                              type: object
                              properties:
                                compiled_input: {}
                                config:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                                enabled:
                                  type: boolean
                                id:
                                  type: string
                                keep_enabled:
                                  type: boolean
                                policy_template:
                                  type: string
                                streams:
                                  items:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      compiled_stream: {}
                                      config:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                      data_stream:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          dataset:
                                            type: string
                                          elasticsearch:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              dynamic_dataset:
                                                type: boolean
                                              dynamic_namespace:
                                                type: boolean
                                              privileges:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  indices:
                                                    items:
                                                      type: string
                                                    type: array
                                          type:
                                            type: string
                                        required:
                                          - dataset
                                          - type
                                      enabled:
                                        type: boolean
                                      id:
                                        type: string
                                      keep_enabled:
                                        type: boolean
                                      release:
                                        enum:
                                          - ga
                                          - beta
                                          - experimental
                                        type: string
                                      vars:
                                        additionalProperties:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            frozen:
                                              type: boolean
                                            type:
                                              type: string
                                            value: {}
                                          required:
                                            - value
                                        description: >-
                                          Package variable (see integration
                                          documentation for more information)
                                        type: object
                                    required:
                                      - enabled
                                      - data_stream
                                      - compiled_stream
                                  type: array
                                type:
                                  type: string
                                vars:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      frozen:
                                        type: boolean
                                      type:
                                        type: string
                                      value: {}
                                    required:
                                      - value
                                  description: >-
                                    Package variable (see integration
                                    documentation for more information)
                                  type: object
                              required:
                                - type
                                - enabled
                                - streams
                                - compiled_input
                            type: array
                          - additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                enabled:
                                  description: >-
                                    enable or disable that input, (default to
                                    true)
                                  type: boolean
                                streams:
                                  additionalProperties:
                                    additionalProperties: false
                                    type: object
                                    properties:
                                      enabled:
                                        description: >-
                                          enable or disable that stream, (default
                                          to true)
                                        type: boolean
                                      vars:
                                        additionalProperties:
                                          anyOf:
                                            - type: boolean
                                            - type: string
                                            - type: number
                                            - items:
                                                type: string
                                              type: array
                                            - items:
                                                type: number
                                              type: array
                                            - additionalProperties: false
                                              type: object
                                              properties:
                                                id:
                                                  type: string
                                                isSecretRef:
                                                  type: boolean
                                              required:
                                                - id
                                                - isSecretRef
                                          nullable: true
                                        description: >-
                                          Input/stream level variable (see
                                          integration documentation for more
                                          information)
                                        type: object
                                  description: >-
                                    Input streams (see integration documentation
                                    to know what streams are available)
                                  type: object
                                vars:
                                  additionalProperties:
                                    anyOf:
                                      - type: boolean
                                      - type: string
                                      - type: number
                                      - items:
                                          type: string
                                        type: array
                                      - items:
                                          type: number
                                        type: array
                                      - additionalProperties: false
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                          isSecretRef:
                                            type: boolean
                                        required:
                                          - id
                                          - isSecretRef
                                    nullable: true
                                  description: >-
                                    Input/stream level variable (see integration
                                    documentation for more information)
                                  type: object
                            description: >-
                              Package policy inputs (see integration
                              documentation to know what inputs are available)
                            type: object
                            x-oas-optional: true
                      is_managed:
                        type: boolean
                      name:
                        description: Package policy name (should be unique)
                        type: string
                      namespace:
                        description: >-
                          The package policy namespace. Leave blank to inherit
                          the agent policy's namespace.
                        type: string
                      output_id:
                        nullable: true
                        type: string
                      overrides:
                        additionalProperties: false
                        description: >-
                          Override settings that are defined in the package
                          policy. The override option should be used only in
                          unusual circumstances and not as a routine procedure.
                        nullable: true
                        type: object
                        properties:
                          inputs:
                            additionalProperties: {}
                            type: object
                      package:
                        additionalProperties: false
                        type: object
                        properties:
                          experimental_data_stream_features:
                            items:
                              additionalProperties: false
                              type: object
                              properties:
                                data_stream:
                                  type: string
                                features:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    doc_value_only_numeric:
                                      type: boolean
                                    doc_value_only_other:
                                      type: boolean
                                    synthetic_source:
                                      type: boolean
                                    tsdb:
                                      type: boolean
                              required:
                                - data_stream
                                - features
                            type: array
                          name:
                            description: Package name
                            type: string
                          requires_root:
                            type: boolean
                          title:
                            type: string
                          version:
                            description: Package version
                            type: string
                        required:
                          - name
                          - version
                      policy_id:
                        deprecated: true
                        description: >-
                          Agent policy ID where that package policy will be
                          added
                        nullable: true
                        type: string
                      policy_ids:
                        items:
                          description: >-
                            Agent policy IDs where that package policy will be
                            added
                          type: string
                        type: array
                      revision:
                        type: number
                      secret_references:
                        items:
                          additionalProperties: false
                          type: object
                          properties:
                            id:
                              type: string
                          required:
                            - id
                        type: array
                      spaceIds:
                        items:
                          type: string
                        type: array
                      updated_at:
                        type: string
                      updated_by:
                        type: string
                      vars:
                        anyOf:
                          - additionalProperties:
                              additionalProperties: false
                              type: object
                              properties:
                                frozen:
                                  type: boolean
                                type:
                                  type: string
                                value: {}
                              required:
                                - value
                            description: >-
                              Package variable (see integration documentation
                              for more information)
                            type: object
                          - additionalProperties:
                              anyOf:
                                - type: boolean
                                - type: string
                                - type: number
                                - items:
                                    type: string
                                  type: array
                                - items:
                                    type: number
                                  type: array
                                - additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                    isSecretRef:
                                      type: boolean
                                  required:
                                    - id
                                    - isSecretRef
                              nullable: true
                            description: >-
                              Input/stream level variable (see integration
                              documentation for more information)
                            type: object
                            x-oas-optional: true
                      version:
                        type: string
                    required:
                      - name
                      - enabled
                      - inputs
                      - id
                      - revision
                      - updated_at
                      - updated_by
                      - created_at
                      - created_by
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '403':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet package policies
  /api/fleet/package_policies/delete:
    post:
      description: Bulk delete package policies
      operationId: '%2Fapi%2Ffleet%2Fpackage_policies%2Fdelete#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                force:
                  type: boolean
                packagePolicyIds:
                  items:
                    type: string
                  type: array
              required:
                - packagePolicyIds
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                items:
                  additionalProperties: false
                  type: object
                  properties:
                    body:
                      additionalProperties: false
                      type: object
                      properties:
                        message:
                          type: string
                      required:
                        - message
                    id:
                      type: string
                    name:
                      type: string
                    output_id:
                      nullable: true
                      type: string
                    package:
                      additionalProperties: false
                      type: object
                      properties:
                        experimental_data_stream_features:
                          items:
                            additionalProperties: false
                            type: object
                            properties:
                              data_stream:
                                type: string
                              features:
                                additionalProperties: false
                                type: object
                                properties:
                                  doc_value_only_numeric:
                                    type: boolean
                                  doc_value_only_other:
                                    type: boolean
                                  synthetic_source:
                                    type: boolean
                                  tsdb:
                                    type: boolean
                            required:
                              - data_stream
                              - features
                          type: array
                        name:
                          description: Package name
                          type: string
                        requires_root:
                          type: boolean
                        title:
                          type: string
                        version:
                          description: Package version
                          type: string
                      required:
                        - name
                        - version
                    policy_id:
                      deprecated: true
                      description: Use `policy_ids` instead
                      nullable: true
                      type: string
                    policy_ids:
                      items:
                        type: string
                      type: array
                    statusCode:
                      type: number
                    success:
                      type: boolean
                  required:
                    - id
                    - success
                    - policy_ids
                    - package
                type: array
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet package policies
  /api/fleet/package_policies/upgrade:
    post:
      description: Upgrade package policy to a newer package version
      operationId: '%2Fapi%2Ffleet%2Fpackage_policies%2Fupgrade#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                packagePolicyIds:
                  items:
                    type: string
                  type: array
              required:
                - packagePolicyIds
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                items:
                  additionalProperties: false
                  type: object
                  properties:
                    body:
                      additionalProperties: false
                      type: object
                      properties:
                        message:
                          type: string
                      required:
                        - message
                    id:
                      type: string
                    name:
                      type: string
                    statusCode:
                      type: number
                    success:
                      type: boolean
                  required:
                    - id
                    - success
                type: array
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet package policies
  /api/fleet/package_policies/upgrade/dryrun:
    post:
      description: Dry run package policy upgrade
      operationId: '%2Fapi%2Ffleet%2Fpackage_policies%2Fupgrade%2Fdryrun#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                packagePolicyIds:
                  items:
                    type: string
                  type: array
                packageVersion:
                  type: string
              required:
                - packagePolicyIds
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                items:
                  additionalProperties: false
                  type: object
                  properties:
                    agent_diff:
                      items:
                        items:
                          additionalProperties: true
                          type: object
                          properties:
                            data_stream:
                              additionalProperties: true
                              type: object
                              properties:
                                namespace:
                                  type: string
                              required:
                                - namespace
                            id:
                              type: string
                            meta:
                              additionalProperties: true
                              type: object
                              properties:
                                package:
                                  additionalProperties: true
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                    version:
                                      type: string
                                  required:
                                    - name
                                    - version
                              required:
                                - package
                            name:
                              type: string
                            package_policy_id:
                              type: string
                            processors:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  add_fields:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      fields:
                                        additionalProperties:
                                          anyOf:
                                            - type: string
                                            - type: number
                                        type: object
                                      target:
                                        type: string
                                    required:
                                      - target
                                      - fields
                                required:
                                  - add_fields
                              type: array
                            revision:
                              type: number
                            streams:
                              items:
                                additionalProperties: true
                                type: object
                                properties:
                                  data_stream:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      dataset:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - dataset
                                  id:
                                    type: string
                                required:
                                  - id
                                  - data_stream
                              type: array
                            type:
                              type: string
                            use_output:
                              type: string
                          required:
                            - id
                            - name
                            - revision
                            - type
                            - data_stream
                            - use_output
                            - package_policy_id
                        type: array
                      type: array
                    body:
                      additionalProperties: false
                      type: object
                      properties:
                        message:
                          type: string
                      required:
                        - message
                    diff:
                      items:
                        anyOf:
                          - additionalProperties: false
                            type: object
                            properties:
                              agents:
                                type: number
                              created_at:
                                type: string
                              created_by:
                                type: string
                              description:
                                description: Package policy description
                                type: string
                              elasticsearch:
                                additionalProperties: true
                                type: object
                                properties:
                                  privileges:
                                    additionalProperties: true
                                    type: object
                                    properties:
                                      cluster:
                                        items:
                                          type: string
                                        type: array
                              enabled:
                                type: boolean
                              id:
                                type: string
                              inputs:
                                anyOf:
                                  - items:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        compiled_input: {}
                                        config:
                                          additionalProperties:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              frozen:
                                                type: boolean
                                              type:
                                                type: string
                                              value: {}
                                            required:
                                              - value
                                          description: >-
                                            Package variable (see integration
                                            documentation for more information)
                                          type: object
                                        enabled:
                                          type: boolean
                                        id:
                                          type: string
                                        keep_enabled:
                                          type: boolean
                                        policy_template:
                                          type: string
                                        streams:
                                          items:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              compiled_stream: {}
                                              config:
                                                additionalProperties:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    frozen:
                                                      type: boolean
                                                    type:
                                                      type: string
                                                    value: {}
                                                  required:
                                                    - value
                                                description: >-
                                                  Package variable (see integration
                                                  documentation for more information)
                                                type: object
                                              data_stream:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  dataset:
                                                    type: string
                                                  elasticsearch:
                                                    additionalProperties: false
                                                    type: object
                                                    properties:
                                                      dynamic_dataset:
                                                        type: boolean
                                                      dynamic_namespace:
                                                        type: boolean
                                                      privileges:
                                                        additionalProperties: false
                                                        type: object
                                                        properties:
                                                          indices:
                                                            items:
                                                              type: string
                                                            type: array
                                                  type:
                                                    type: string
                                                required:
                                                  - dataset
                                                  - type
                                              enabled:
                                                type: boolean
                                              id:
                                                type: string
                                              keep_enabled:
                                                type: boolean
                                              release:
                                                enum:
                                                  - ga
                                                  - beta
                                                  - experimental
                                                type: string
                                              vars:
                                                additionalProperties:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    frozen:
                                                      type: boolean
                                                    type:
                                                      type: string
                                                    value: {}
                                                  required:
                                                    - value
                                                description: >-
                                                  Package variable (see integration
                                                  documentation for more information)
                                                type: object
                                            required:
                                              - enabled
                                              - data_stream
                                              - compiled_stream
                                          type: array
                                        type:
                                          type: string
                                        vars:
                                          additionalProperties:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              frozen:
                                                type: boolean
                                              type:
                                                type: string
                                              value: {}
                                            required:
                                              - value
                                          description: >-
                                            Package variable (see integration
                                            documentation for more information)
                                          type: object
                                      required:
                                        - type
                                        - enabled
                                        - streams
                                        - compiled_input
                                    type: array
                                  - additionalProperties:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        enabled:
                                          description: >-
                                            enable or disable that input, (default
                                            to true)
                                          type: boolean
                                        streams:
                                          additionalProperties:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              enabled:
                                                description: >-
                                                  enable or disable that stream, (default
                                                  to true)
                                                type: boolean
                                              vars:
                                                additionalProperties:
                                                  anyOf:
                                                    - type: boolean
                                                    - type: string
                                                    - type: number
                                                    - items:
                                                        type: string
                                                      type: array
                                                    - items:
                                                        type: number
                                                      type: array
                                                    - additionalProperties: false
                                                      type: object
                                                      properties:
                                                        id:
                                                          type: string
                                                        isSecretRef:
                                                          type: boolean
                                                      required:
                                                        - id
                                                        - isSecretRef
                                                  nullable: true
                                                description: >-
                                                  Input/stream level variable (see
                                                  integration documentation for more
                                                  information)
                                                type: object
                                          description: >-
                                            Input streams (see integration
                                            documentation to know what streams are
                                            available)
                                          type: object
                                        vars:
                                          additionalProperties:
                                            anyOf:
                                              - type: boolean
                                              - type: string
                                              - type: number
                                              - items:
                                                  type: string
                                                type: array
                                              - items:
                                                  type: number
                                                type: array
                                              - additionalProperties: false
                                                type: object
                                                properties:
                                                  id:
                                                    type: string
                                                  isSecretRef:
                                                    type: boolean
                                                required:
                                                  - id
                                                  - isSecretRef
                                            nullable: true
                                          description: >-
                                            Input/stream level variable (see
                                            integration documentation for more
                                            information)
                                          type: object
                                    description: >-
                                      Package policy inputs (see integration
                                      documentation to know what inputs are
                                      available)
                                    type: object
                                    x-oas-optional: true
                              is_managed:
                                type: boolean
                              name:
                                description: Package policy name (should be unique)
                                type: string
                              namespace:
                                description: >-
                                  The package policy namespace. Leave blank to
                                  inherit the agent policy's namespace.
                                type: string
                              output_id:
                                nullable: true
                                type: string
                              overrides:
                                additionalProperties: false
                                description: >-
                                  Override settings that are defined in the
                                  package policy. The override option should be
                                  used only in unusual circumstances and not as
                                  a routine procedure.
                                nullable: true
                                type: object
                                properties:
                                  inputs:
                                    additionalProperties: {}
                                    type: object
                              package:
                                additionalProperties: false
                                type: object
                                properties:
                                  experimental_data_stream_features:
                                    items:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        data_stream:
                                          type: string
                                        features:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            doc_value_only_numeric:
                                              type: boolean
                                            doc_value_only_other:
                                              type: boolean
                                            synthetic_source:
                                              type: boolean
                                            tsdb:
                                              type: boolean
                                      required:
                                        - data_stream
                                        - features
                                    type: array
                                  name:
                                    description: Package name
                                    type: string
                                  requires_root:
                                    type: boolean
                                  title:
                                    type: string
                                  version:
                                    description: Package version
                                    type: string
                                required:
                                  - name
                                  - version
                              policy_id:
                                deprecated: true
                                description: >-
                                  Agent policy ID where that package policy will
                                  be added
                                nullable: true
                                type: string
                              policy_ids:
                                items:
                                  description: >-
                                    Agent policy IDs where that package policy
                                    will be added
                                  type: string
                                type: array
                              revision:
                                type: number
                              secret_references:
                                items:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                  required:
                                    - id
                                type: array
                              spaceIds:
                                items:
                                  type: string
                                type: array
                              updated_at:
                                type: string
                              updated_by:
                                type: string
                              vars:
                                anyOf:
                                  - additionalProperties:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        frozen:
                                          type: boolean
                                        type:
                                          type: string
                                        value: {}
                                      required:
                                        - value
                                    description: >-
                                      Package variable (see integration
                                      documentation for more information)
                                    type: object
                                  - additionalProperties:
                                      anyOf:
                                        - type: boolean
                                        - type: string
                                        - type: number
                                        - items:
                                            type: string
                                          type: array
                                        - items:
                                            type: number
                                          type: array
                                        - additionalProperties: false
                                          type: object
                                          properties:
                                            id:
                                              type: string
                                            isSecretRef:
                                              type: boolean
                                          required:
                                            - id
                                            - isSecretRef
                                      nullable: true
                                    description: >-
                                      Input/stream level variable (see
                                      integration documentation for more
                                      information)
                                    type: object
                                    x-oas-optional: true
                              version:
                                type: string
                            required:
                              - name
                              - enabled
                              - inputs
                              - revision
                              - updated_at
                              - updated_by
                              - created_at
                              - created_by
                          - additionalProperties: false
                            type: object
                            properties:
                              description:
                                description: Package policy description
                                type: string
                              enabled:
                                type: boolean
                              errors:
                                items:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    key:
                                      type: string
                                    message:
                                      type: string
                                  required:
                                    - message
                                type: array
                              force:
                                type: boolean
                              id:
                                type: string
                              inputs:
                                items:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    config:
                                      additionalProperties:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          frozen:
                                            type: boolean
                                          type:
                                            type: string
                                          value: {}
                                        required:
                                          - value
                                      description: >-
                                        Package variable (see integration
                                        documentation for more information)
                                      type: object
                                    enabled:
                                      type: boolean
                                    id:
                                      type: string
                                    keep_enabled:
                                      type: boolean
                                    policy_template:
                                      type: string
                                    streams:
                                      items:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          compiled_stream: {}
                                          config:
                                            additionalProperties:
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                frozen:
                                                  type: boolean
                                                type:
                                                  type: string
                                                value: {}
                                              required:
                                                - value
                                            description: >-
                                              Package variable (see integration
                                              documentation for more information)
                                            type: object
                                          data_stream:
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              dataset:
                                                type: string
                                              elasticsearch:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  dynamic_dataset:
                                                    type: boolean
                                                  dynamic_namespace:
                                                    type: boolean
                                                  privileges:
                                                    additionalProperties: false
                                                    type: object
                                                    properties:
                                                      indices:
                                                        items:
                                                          type: string
                                                        type: array
                                              type:
                                                type: string
                                            required:
                                              - dataset
                                              - type
                                          enabled:
                                            type: boolean
                                          id:
                                            type: string
                                          keep_enabled:
                                            type: boolean
                                          release:
                                            enum:
                                              - ga
                                              - beta
                                              - experimental
                                            type: string
                                          vars:
                                            additionalProperties:
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                frozen:
                                                  type: boolean
                                                type:
                                                  type: string
                                                value: {}
                                              required:
                                                - value
                                            description: >-
                                              Package variable (see integration
                                              documentation for more information)
                                            type: object
                                        required:
                                          - enabled
                                          - data_stream
                                          - compiled_stream
                                      type: array
                                    type:
                                      type: string
                                    vars:
                                      additionalProperties:
                                        additionalProperties: false
                                        type: object
                                        properties:
                                          frozen:
                                            type: boolean
                                          type:
                                            type: string
                                          value: {}
                                        required:
                                          - value
                                      description: >-
                                        Package variable (see integration
                                        documentation for more information)
                                      type: object
                                  required:
                                    - type
                                    - enabled
                                    - streams
                                type: array
                              is_managed:
                                type: boolean
                              missingVars:
                                items:
                                  type: string
                                type: array
                              name:
                                description: Package policy name (should be unique)
                                type: string
                              namespace:
                                description: >-
                                  The package policy namespace. Leave blank to
                                  inherit the agent policy's namespace.
                                type: string
                              output_id:
                                nullable: true
                                type: string
                              overrides:
                                additionalProperties: false
                                description: >-
                                  Override settings that are defined in the
                                  package policy. The override option should be
                                  used only in unusual circumstances and not as
                                  a routine procedure.
                                nullable: true
                                type: object
                                properties:
                                  inputs:
                                    additionalProperties: {}
                                    type: object
                              package:
                                additionalProperties: false
                                type: object
                                properties:
                                  experimental_data_stream_features:
                                    items:
                                      additionalProperties: false
                                      type: object
                                      properties:
                                        data_stream:
                                          type: string
                                        features:
                                          additionalProperties: false
                                          type: object
                                          properties:
                                            doc_value_only_numeric:
                                              type: boolean
                                            doc_value_only_other:
                                              type: boolean
                                            synthetic_source:
                                              type: boolean
                                            tsdb:
                                              type: boolean
                                      required:
                                        - data_stream
                                        - features
                                    type: array
                                  name:
                                    description: Package name
                                    type: string
                                  requires_root:
                                    type: boolean
                                  title:
                                    type: string
                                  version:
                                    description: Package version
                                    type: string
                                required:
                                  - name
                                  - version
                              policy_id:
                                deprecated: true
                                description: >-
                                  Agent policy ID where that package policy will
                                  be added
                                nullable: true
                                type: string
                              policy_ids:
                                items:
                                  description: >-
                                    Agent policy IDs where that package policy
                                    will be added
                                  type: string
                                type: array
                              vars:
                                additionalProperties:
                                  additionalProperties: false
                                  type: object
                                  properties:
                                    frozen:
                                      type: boolean
                                    type:
                                      type: string
                                    value: {}
                                  required:
                                    - value
                                description: >-
                                  Package variable (see integration
                                  documentation for more information)
                                type: object
                            required:
                              - name
                              - enabled
                              - inputs
                      type: array
                    hasErrors:
                      type: boolean
                    name:
                      type: string
                    statusCode:
                      type: number
                  required:
                    - hasErrors
                type: array
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet package policies
  /api/fleet/proxies:
    get:
      description: List proxies
      operationId: '%2Fapi%2Ffleet%2Fproxies#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        certificate:
                          nullable: true
                          type: string
                        certificate_authorities:
                          nullable: true
                          type: string
                        certificate_key:
                          nullable: true
                          type: string
                        id:
                          type: string
                        is_preconfigured:
                          default: false
                          type: boolean
                        name:
                          type: string
                        proxy_headers:
                          additionalProperties:
                            anyOf:
                              - type: string
                              - type: boolean
                              - type: number
                          nullable: true
                          type: object
                        url:
                          type: string
                      required:
                        - id
                        - url
                        - name
                    type: array
                  page:
                    type: number
                  perPage:
                    type: number
                  total:
                    type: number
                required:
                  - items
                  - total
                  - page
                  - perPage
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet proxies
    post:
      description: Create proxy
      operationId: '%2Fapi%2Ffleet%2Fproxies#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                certificate:
                  nullable: true
                  type: string
                certificate_authorities:
                  nullable: true
                  type: string
                certificate_key:
                  nullable: true
                  type: string
                id:
                  type: string
                is_preconfigured:
                  default: false
                  type: boolean
                name:
                  type: string
                proxy_headers:
                  additionalProperties:
                    anyOf:
                      - type: string
                      - type: boolean
                      - type: number
                  nullable: true
                  type: object
                url:
                  type: string
              required:
                - url
                - name
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      certificate:
                        nullable: true
                        type: string
                      certificate_authorities:
                        nullable: true
                        type: string
                      certificate_key:
                        nullable: true
                        type: string
                      id:
                        type: string
                      is_preconfigured:
                        default: false
                        type: boolean
                      name:
                        type: string
                      proxy_headers:
                        additionalProperties:
                          anyOf:
                            - type: string
                            - type: boolean
                            - type: number
                        nullable: true
                        type: object
                      url:
                        type: string
                    required:
                      - id
                      - url
                      - name
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet proxies
  /api/fleet/proxies/{itemId}:
    delete:
      description: Delete proxy by ID
      operationId: '%2Fapi%2Ffleet%2Fproxies%2F%7BitemId%7D#2'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: itemId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  id:
                    type: string
                required:
                  - id
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet proxies
    get:
      description: Get proxy by ID
      operationId: '%2Fapi%2Ffleet%2Fproxies%2F%7BitemId%7D#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: itemId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      certificate:
                        nullable: true
                        type: string
                      certificate_authorities:
                        nullable: true
                        type: string
                      certificate_key:
                        nullable: true
                        type: string
                      id:
                        type: string
                      is_preconfigured:
                        default: false
                        type: boolean
                      name:
                        type: string
                      proxy_headers:
                        additionalProperties:
                          anyOf:
                            - type: string
                            - type: boolean
                            - type: number
                        nullable: true
                        type: object
                      url:
                        type: string
                    required:
                      - id
                      - url
                      - name
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet proxies
    put:
      description: Update proxy by ID
      operationId: '%2Fapi%2Ffleet%2Fproxies%2F%7BitemId%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
        - in: path
          name: itemId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                certificate:
                  nullable: true
                  type: string
                certificate_authorities:
                  nullable: true
                  type: string
                certificate_key:
                  nullable: true
                  type: string
                name:
                  type: string
                proxy_headers:
                  additionalProperties:
                    anyOf:
                      - type: string
                      - type: boolean
                      - type: number
                  nullable: true
                  type: object
                url:
                  type: string
              required:
                - proxy_headers
                - certificate_authorities
                - certificate
                - certificate_key
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      certificate:
                        nullable: true
                        type: string
                      certificate_authorities:
                        nullable: true
                        type: string
                      certificate_key:
                        nullable: true
                        type: string
                      id:
                        type: string
                      is_preconfigured:
                        default: false
                        type: boolean
                      name:
                        type: string
                      proxy_headers:
                        additionalProperties:
                          anyOf:
                            - type: string
                            - type: boolean
                            - type: number
                        nullable: true
                        type: object
                      url:
                        type: string
                    required:
                      - id
                      - url
                      - name
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet proxies
  /api/fleet/service_tokens:
    post:
      description: Create a service token
      operationId: '%2Fapi%2Ffleet%2Fservice_tokens#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              nullable: true
              type: object
              properties:
                remote:
                  default: false
                  type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  name:
                    type: string
                  value:
                    type: string
                required:
                  - name
                  - value
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet service tokens
  /api/fleet/service-tokens:
    post:
      deprecated: true
      description: Create a service token
      operationId: '%2Fapi%2Ffleet%2Fservice-tokens#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      responses: {}
      summary: ''
      tags: []
  /api/fleet/settings:
    get:
      description: Get settings
      operationId: '%2Fapi%2Ffleet%2Fsettings#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      fleet_server_hosts:
                        items:
                          type: string
                        type: array
                      has_seen_add_data_notice:
                        type: boolean
                      id:
                        type: string
                      output_secret_storage_requirements_met:
                        type: boolean
                      preconfigured_fields:
                        items:
                          enum:
                            - fleet_server_hosts
                          type: string
                        type: array
                      prerelease_integrations_enabled:
                        type: boolean
                      secret_storage_requirements_met:
                        type: boolean
                      use_space_awareness_migration_started_at:
                        type: string
                      use_space_awareness_migration_status:
                        enum:
                          - pending
                          - success
                          - error
                        type: string
                      version:
                        type: string
                    required:
                      - prerelease_integrations_enabled
                      - id
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  message:
                    type: string
                required:
                  - message
      summary: ''
      tags:
        - Fleet internals
    put:
      description: Update settings
      operationId: '%2Fapi%2Ffleet%2Fsettings#1'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              additionalProperties: false
              type: object
              properties:
                additional_yaml_config:
                  type: string
                fleet_server_hosts:
                  items:
                    format: uri
                    type: string
                  type: array
                has_seen_add_data_notice:
                  type: boolean
                kibana_ca_sha256:
                  type: string
                kibana_urls:
                  items:
                    format: uri
                    type: string
                  type: array
                prerelease_integrations_enabled:
                  type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      fleet_server_hosts:
                        items:
                          type: string
                        type: array
                      has_seen_add_data_notice:
                        type: boolean
                      id:
                        type: string
                      output_secret_storage_requirements_met:
                        type: boolean
                      preconfigured_fields:
                        items:
                          enum:
                            - fleet_server_hosts
                          type: string
                        type: array
                      prerelease_integrations_enabled:
                        type: boolean
                      secret_storage_requirements_met:
                        type: boolean
                      use_space_awareness_migration_started_at:
                        type: string
                      use_space_awareness_migration_status:
                        enum:
                          - pending
                          - success
                          - error
                        type: string
                      version:
                        type: string
                    required:
                      - prerelease_integrations_enabled
                      - id
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  message:
                    type: string
                required:
                  - message
      summary: ''
      tags:
        - Fleet internals
  /api/fleet/setup:
    post:
      description: Initiate Fleet setup
      operationId: '%2Fapi%2Ffleet%2Fsetup#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: A required header to protect against CSRF attacks
          in: header
          name: kbn-xsrf
          required: true
          schema:
            example: 'true'
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: >-
                  A summary of the result of Fleet's `setup` lifecycle. If
                  `isInitialized` is true, Fleet is ready to accept agent
                  enrollment. `nonFatalErrors` may include useful insight into
                  non-blocking issues with Fleet setup.
                type: object
                properties:
                  isInitialized:
                    type: boolean
                  nonFatalErrors:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        message:
                          type: string
                        name:
                          type: string
                      required:
                        - name
                        - message
                    type: array
                required:
                  - isInitialized
                  - nonFatalErrors
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
        '500':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Internal Server Error
                type: object
                properties:
                  message:
                    type: string
                required:
                  - message
      summary: ''
      tags:
        - Fleet internals
  /api/fleet/uninstall_tokens:
    get:
      description: List metadata for latest uninstall tokens per agent policy
      operationId: '%2Fapi%2Ffleet%2Funinstall_tokens#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: Partial match filtering for policy IDs
          in: query
          name: policyId
          required: false
          schema:
            maxLength: 50
            type: string
        - in: query
          name: search
          required: false
          schema:
            maxLength: 50
            type: string
        - description: The number of items to return
          in: query
          name: perPage
          required: false
          schema:
            minimum: 5
            type: number
        - in: query
          name: page
          required: false
          schema:
            minimum: 1
            type: number
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  items:
                    items:
                      additionalProperties: false
                      type: object
                      properties:
                        created_at:
                          type: string
                        id:
                          type: string
                        namespaces:
                          items:
                            type: string
                          type: array
                        policy_id:
                          type: string
                        policy_name:
                          nullable: true
                          type: string
                      required:
                        - id
                        - policy_id
                        - created_at
                    type: array
                  page:
                    type: number
                  perPage:
                    type: number
                  total:
                    type: number
                required:
                  - items
                  - total
                  - page
                  - perPage
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet uninstall tokens
  /api/fleet/uninstall_tokens/{uninstallTokenId}:
    get:
      description: Get one decrypted uninstall token by its ID
      operationId: '%2Fapi%2Ffleet%2Funinstall_tokens%2F%7BuninstallTokenId%7D#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - in: path
          name: uninstallTokenId
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                type: object
                properties:
                  item:
                    additionalProperties: false
                    type: object
                    properties:
                      created_at:
                        type: string
                      id:
                        type: string
                      namespaces:
                        items:
                          type: string
                        type: array
                      policy_id:
                        type: string
                      policy_name:
                        nullable: true
                        type: string
                      token:
                        type: string
                    required:
                      - id
                      - policy_id
                      - created_at
                      - token
                required:
                  - item
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                additionalProperties: false
                description: Generic Error
                type: object
                properties:
                  error:
                    type: string
                  message:
                    type: string
                  statusCode:
                    type: number
                required:
                  - message
      summary: ''
      tags:
        - Fleet uninstall tokens
  /api/ml/saved_objects/sync:
    get:
      description: >
        Synchronizes Kibana saved objects for machine learning jobs and trained
        models. This API runs automatically when you start Kibana and
        periodically thereafter.
      operationId: mlSync
      parameters:
        - $ref: '#/components/parameters/Machine_learning_APIs_simulateParam'
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              examples:
                syncExample:
                  $ref: '#/components/examples/Machine_learning_APIs_mlSyncExample'
              schema:
                $ref: '#/components/schemas/Machine_learning_APIs_mlSync200Response'
          description: Indicates a successful call
        '401':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Machine_learning_APIs_mlSync4xxResponse'
          description: Authorization information is missing or invalid.
      summary: Sync machine learning saved objects
      tags:
        - ml
  /api/saved_objects/_export:
    post:
      description: >
        Retrieve sets of saved objects that you want to import into Kibana.

        You must include `type` or `objects` in the request body.


        Exported saved objects are not backwards compatible and cannot be
        imported into an older version of Kibana.


        NOTE: The `savedObjects.maxImportExportSize` configuration setting
        limits the number of saved objects which may be exported.


        This functionality is in technical preview and may be changed or removed
        in a future release. Elastic will work to fix any issues, but features
        in technical preview are not subject to the support SLA of official GA
        features.
      operationId: exportSavedObjectsDefault
      parameters:
        - $ref: '#/components/parameters/Serverless_saved_objects_kbn_xsrf'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            examples:
              exportSavedObjectsRequest:
                $ref: >-
                  #/components/examples/Serverless_saved_objects_export_objects_request
            schema:
              type: object
              properties:
                excludeExportDetails:
                  default: false
                  description: Do not add export details entry at the end of the stream.
                  type: boolean
                includeReferencesDeep:
                  description: >-
                    Includes all of the referenced objects in the exported
                    objects.
                  type: boolean
                objects:
                  description: A list of objects to export.
                  items:
                    type: object
                  type: array
                type:
                  description: >-
                    The saved object types to include in the export. Use `*` to
                    export all the types.
                  oneOf:
                    - type: string
                    - items:
                        type: string
                      type: array
        required: true
      responses:
        '200':
          content:
            application/x-ndjson; Elastic-Api-Version=2023-10-31:
              examples:
                exportSavedObjectsResponse:
                  $ref: >-
                    #/components/examples/Serverless_saved_objects_export_objects_response
              schema:
                additionalProperties: true
                type: object
          description: Indicates a successful call.
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Serverless_saved_objects_400_response'
          description: Bad request.
      summary: Export saved objects
      tags:
        - saved objects
  /api/saved_objects/_import:
    post:
      description: >
        Create sets of Kibana saved objects from a file created by the export
        API.

        Saved objects can be imported only into the same version, a newer minor
        on the same major, or the next major. Exported saved objects are not
        backwards compatible and cannot be imported into an older version of
        Kibana.


        This functionality is in technical preview and may be changed or removed
        in a future release. Elastic will work to fix any issues, but features
        in technical preview are not subject to the support SLA of official GA
        features.
      operationId: importSavedObjectsDefault
      parameters:
        - $ref: '#/components/parameters/Serverless_saved_objects_kbn_xsrf'
        - description: >
            Creates copies of saved objects, regenerates each object ID, and
            resets the origin. When used, potential conflict errors are avoided.
            NOTE: This option cannot be used with the `overwrite` and
            `compatibilityMode` options.
          in: query
          name: createNewCopies
          required: false
          schema:
            type: boolean
        - description: >
            Overwrites saved objects when they already exist. When used,
            potential conflict errors are automatically resolved by overwriting
            the destination object. NOTE: This option cannot be used with the
            `createNewCopies` option.
          in: query
          name: overwrite
          required: false
          schema:
            type: boolean
        - description: >
            Applies various adjustments to the saved objects that are being
            imported to maintain compatibility between different Kibana
            versions. Use this option only if you encounter issues with imported
            saved objects. NOTE: This option cannot be used with the
            `createNewCopies` option.
          in: query
          name: compatibilityMode
          required: false
          schema:
            type: boolean
      requestBody:
        content:
          multipart/form-data; Elastic-Api-Version=2023-10-31:
            examples:
              importObjectsRequest:
                $ref: >-
                  #/components/examples/Serverless_saved_objects_import_objects_request
            schema:
              type: object
              properties:
                file:
                  description: >
                    A file exported using the export API. NOTE: The
                    `savedObjects.maxImportExportSize` configuration setting
                    limits the number of saved objects which may be included in
                    this file. Similarly, the
                    `savedObjects.maxImportPayloadBytes` setting limits the
                    overall size of the file that can be imported.
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              examples:
                importObjectsResponse:
                  $ref: >-
                    #/components/examples/Serverless_saved_objects_import_objects_response
              schema:
                type: object
                properties:
                  errors:
                    description: >
                      Indicates the import was unsuccessful and specifies the
                      objects that failed to import.


                      NOTE: One object may result in multiple errors, which
                      requires separate steps to resolve. For instance, a
                      `missing_references` error and conflict error.
                    items:
                      type: object
                    type: array
                  success:
                    description: >
                      Indicates when the import was successfully completed. When
                      set to false, some objects may not have been created. For
                      additional information, refer to the `errors` and
                      `successResults` properties.
                    type: boolean
                  successCount:
                    description: Indicates the number of successfully imported records.
                    type: integer
                  successResults:
                    description: >
                      Indicates the objects that are successfully imported, with
                      any metadata if applicable.


                      NOTE: Objects are created only when all resolvable errors
                      are addressed, including conflicts and missing references.
                      If objects are created as new copies, each entry in the
                      `successResults` array includes a `destinationId`
                      attribute.
                    items:
                      type: object
                    type: array
          description: Indicates a successful call.
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/Serverless_saved_objects_400_response'
          description: Bad request.
      summary: Import saved objects
      tags:
        - saved objects
      x-codeSamples:
        - label: Import with createNewCopies
          lang: cURL
          source: |
            curl \
              -X POST api/saved_objects/_import?createNewCopies=true
              -H "kbn-xsrf: true"
              --form file=@file.ndjson
  /api/status:
    get:
      operationId: '%2Fapi%2Fstatus#0'
      parameters:
        - description: The version of the API to use
          in: header
          name: elastic-api-version
          schema:
            default: '2023-10-31'
            enum:
              - '2023-10-31'
            type: string
        - description: Set to "true" to get the response in v7 format.
          in: query
          name: v7format
          required: false
          schema:
            type: boolean
        - description: Set to "true" to get the response in v8 format.
          in: query
          name: v8format
          required: false
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/Kibana_HTTP_APIs_core_status_response'
                  - $ref: >-
                      #/components/schemas/Kibana_HTTP_APIs_core_status_redactedResponse
                description: >-
                  Kibana's operational status. A minimal response is sent for
                  unauthorized users.
          description: Overall status is OK and Kibana should be functioning normally.
        '503':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/Kibana_HTTP_APIs_core_status_response'
                  - $ref: >-
                      #/components/schemas/Kibana_HTTP_APIs_core_status_redactedResponse
                description: >-
                  Kibana's operational status. A minimal response is sent for
                  unauthorized users.
          description: >-
            Kibana or some of it's essential services are unavailable. Kibana
            may be degraded or unavailable.
      summary: Get Kibana's current status
      tags:
        - system
  /s/{spaceId}/api/observability/slos:
    get:
      description: >
        You must have the `read` privileges for the **SLOs** feature in the
        **Observability** section of the Kibana feature privileges.
      operationId: findSlosOp
      parameters:
        - $ref: '#/components/parameters/SLOs_kbn_xsrf'
        - $ref: '#/components/parameters/SLOs_space_id'
        - description: A valid kql query to filter the SLO with
          example: 'slo.name:latency* and slo.tags : "prod"'
          in: query
          name: kqlQuery
          schema:
            type: string
        - description: The page to use for pagination, must be greater or equal than 1
          example: 1
          in: query
          name: page
          schema:
            default: 1
            type: integer
        - description: Number of SLOs returned by page
          example: 25
          in: query
          name: perPage
          schema:
            default: 25
            maximum: 5000
            type: integer
        - description: Sort by field
          example: status
          in: query
          name: sortBy
          schema:
            default: status
            enum:
              - sli_value
              - status
              - error_budget_consumed
              - error_budget_remaining
            type: string
        - description: Sort order
          example: asc
          in: query
          name: sortDirection
          schema:
            default: asc
            enum:
              - asc
              - desc
            type: string
        - description: >-
            Hide stale SLOs from the list as defined by stale SLO threshold in
            SLO settings
          in: query
          name: hideStale
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_find_slo_response'
          description: Successful request
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_400_response'
          description: Bad request
        '401':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_401_response'
          description: Unauthorized response
        '403':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_403_response'
          description: Unauthorized response
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_404_response'
          description: Not found response
      summary: Get a paginated list of SLOs
      tags:
        - slo
    post:
      description: >
        You must have `all` privileges for the **SLOs** feature in the
        **Observability** section of the Kibana feature privileges.
      operationId: createSloOp
      parameters:
        - $ref: '#/components/parameters/SLOs_kbn_xsrf'
        - $ref: '#/components/parameters/SLOs_space_id'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              $ref: '#/components/schemas/SLOs_create_slo_request'
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_create_slo_response'
          description: Successful request
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_400_response'
          description: Bad request
        '401':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_401_response'
          description: Unauthorized response
        '403':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_403_response'
          description: Unauthorized response
        '409':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_409_response'
          description: Conflict - The SLO id already exists
      servers:
        - url: https://localhost:5601
      summary: Create an SLO
      tags:
        - slo
  /s/{spaceId}/api/observability/slos/_delete_instances:
    post:
      description: >
        The deletion occurs for the specified list of `sloId` and `instanceId`.
        You must have `all` privileges for the **SLOs** feature in the
        **Observability** section of the Kibana feature privileges.
      operationId: deleteSloInstancesOp
      parameters:
        - $ref: '#/components/parameters/SLOs_kbn_xsrf'
        - $ref: '#/components/parameters/SLOs_space_id'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              $ref: '#/components/schemas/SLOs_delete_slo_instances_request'
        required: true
      responses:
        '204':
          description: Successful request
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_400_response'
          description: Bad request
        '401':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_401_response'
          description: Unauthorized response
        '403':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_403_response'
          description: Unauthorized response
      servers:
        - url: https://localhost:5601
      summary: Batch delete rollup and summary data
      tags:
        - slo
  /s/{spaceId}/api/observability/slos/{sloId}:
    delete:
      description: >
        You must have the `write` privileges for the **SLOs** feature in the
        **Observability** section of the Kibana feature privileges.
      operationId: deleteSloOp
      parameters:
        - $ref: '#/components/parameters/SLOs_kbn_xsrf'
        - $ref: '#/components/parameters/SLOs_space_id'
        - $ref: '#/components/parameters/SLOs_slo_id'
      responses:
        '204':
          description: Successful request
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_400_response'
          description: Bad request
        '401':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_401_response'
          description: Unauthorized response
        '403':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_403_response'
          description: Unauthorized response
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_404_response'
          description: Not found response
      summary: Delete an SLO
      tags:
        - slo
    get:
      description: >
        You must have the `read` privileges for the **SLOs** feature in the
        **Observability** section of the Kibana feature privileges.
      operationId: getSloOp
      parameters:
        - $ref: '#/components/parameters/SLOs_kbn_xsrf'
        - $ref: '#/components/parameters/SLOs_space_id'
        - $ref: '#/components/parameters/SLOs_slo_id'
        - description: the specific instanceId used by the summary calculation
          example: host-abcde
          in: query
          name: instanceId
          schema:
            type: string
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_slo_with_summary_response'
          description: Successful request
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_400_response'
          description: Bad request
        '401':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_401_response'
          description: Unauthorized response
        '403':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_403_response'
          description: Unauthorized response
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_404_response'
          description: Not found response
      summary: Get an SLO
      tags:
        - slo
    put:
      description: >
        You must have the `write` privileges for the **SLOs** feature in the
        **Observability** section of the Kibana feature privileges.
      operationId: updateSloOp
      parameters:
        - $ref: '#/components/parameters/SLOs_kbn_xsrf'
        - $ref: '#/components/parameters/SLOs_space_id'
        - $ref: '#/components/parameters/SLOs_slo_id'
      requestBody:
        content:
          application/json; Elastic-Api-Version=2023-10-31:
            schema:
              $ref: '#/components/schemas/SLOs_update_slo_request'
        required: true
      responses:
        '200':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_slo_definition_response'
          description: Successful request
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_400_response'
          description: Bad request
        '401':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_401_response'
          description: Unauthorized response
        '403':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_403_response'
          description: Unauthorized response
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_404_response'
          description: Not found response
      summary: Update an SLO
      tags:
        - slo
  /s/{spaceId}/api/observability/slos/{sloId}/_reset:
    post:
      description: >
        You must have the `write` privileges for the **SLOs** feature in the
        **Observability** section of the Kibana feature privileges.
      operationId: resetSloOp
      parameters:
        - $ref: '#/components/parameters/SLOs_kbn_xsrf'
        - $ref: '#/components/parameters/SLOs_space_id'
        - $ref: '#/components/parameters/SLOs_slo_id'
      responses:
        '204':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_slo_definition_response'
          description: Successful request
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_400_response'
          description: Bad request
        '401':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_401_response'
          description: Unauthorized response
        '403':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_403_response'
          description: Unauthorized response
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_404_response'
          description: Not found response
      summary: Reset an SLO
      tags:
        - slo
  /s/{spaceId}/api/observability/slos/{sloId}/disable:
    post:
      description: >
        You must have the `write` privileges for the **SLOs** feature in the
        **Observability** section of the Kibana feature privileges.
      operationId: disableSloOp
      parameters:
        - $ref: '#/components/parameters/SLOs_kbn_xsrf'
        - $ref: '#/components/parameters/SLOs_space_id'
        - $ref: '#/components/parameters/SLOs_slo_id'
      responses:
        '200':
          description: Successful request
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_400_response'
          description: Bad request
        '401':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_401_response'
          description: Unauthorized response
        '403':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_403_response'
          description: Unauthorized response
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_404_response'
          description: Not found response
      summary: Disable an SLO
      tags:
        - slo
  /s/{spaceId}/api/observability/slos/{sloId}/enable:
    post:
      description: >
        You must have the `write` privileges for the **SLOs** feature in the
        **Observability** section of the Kibana feature privileges.
      operationId: enableSloOp
      parameters:
        - $ref: '#/components/parameters/SLOs_kbn_xsrf'
        - $ref: '#/components/parameters/SLOs_space_id'
        - $ref: '#/components/parameters/SLOs_slo_id'
      responses:
        '204':
          description: Successful request
        '400':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_400_response'
          description: Bad request
        '401':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_401_response'
          description: Unauthorized response
        '403':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_403_response'
          description: Unauthorized response
        '404':
          content:
            application/json; Elastic-Api-Version=2023-10-31:
              schema:
                $ref: '#/components/schemas/SLOs_404_response'
          description: Not found response
      summary: Enable an SLO
      tags:
        - slo
components:
  examples:
    Data_views_create_data_view_request:
      summary: Create a data view with runtime fields.
      value:
        data_view:
          name: My Logstash data view
          runtimeFieldMap:
            runtime_shape_name:
              script:
                source: emit(doc['shape_name'].value)
              type: keyword
          title: logstash-*
    Data_views_create_runtime_field_request:
      summary: Create a runtime field.
      value:
        name: runtimeFoo
        runtimeField:
          script:
            source: emit(doc["foo"].value)
          type: long
    Data_views_get_data_view_response:
      summary: >-
        The get data view API returns a JSON object that contains information
        about the data view.
      value:
        data_view:
          allowNoIndex: false
          fieldAttrs:
            products.manufacturer:
              count: 1
            products.price:
              count: 1
            products.product_name:
              count: 1
            total_quantity:
              count: 1
          fieldFormats:
            products.base_price:
              id: number
              params:
                pattern: $0,0.00
            products.base_unit_price:
              id: number
              params:
                pattern: $0,0.00
            products.min_price:
              id: number
              params:
                pattern: $0,0.00
            products.price:
              id: number
              params:
                pattern: $0,0.00
            products.taxful_price:
              id: number
              params:
                pattern: $0,0.00
            products.taxless_price:
              id: number
              params:
                pattern: $0,0.00
            taxful_total_price:
              id: number
              params:
                pattern: $0,0.[00]
            taxless_total_price:
              id: number
              params:
                pattern: $0,0.00
          fields:
            _id:
              aggregatable: false
              count: 0
              esTypes:
                - _id
              format:
                id: string
              isMapped: true
              name: _id
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            _index:
              aggregatable: true
              count: 0
              esTypes:
                - _index
              format:
                id: string
              isMapped: true
              name: _index
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            _score:
              aggregatable: false
              count: 0
              format:
                id: number
              isMapped: true
              name: _score
              readFromDocValues: false
              scripted: false
              searchable: false
              shortDotsEnable: false
              type: number
            _source:
              aggregatable: false
              count: 0
              esTypes:
                - _source
              format:
                id: _source
              isMapped: true
              name: _source
              readFromDocValues: false
              scripted: false
              searchable: false
              shortDotsEnable: false
              type: _source
            category:
              aggregatable: false
              count: 0
              esTypes:
                - text
              format:
                id: string
              isMapped: true
              name: category
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            category.keyword:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: category.keyword
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              subType:
                multi:
                  parent: category
              type: string
            currency:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: currency
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            customer_birth_date:
              aggregatable: true
              count: 0
              esTypes:
                - date
              format:
                id: date
              isMapped: true
              name: customer_birth_date
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: date
            customer_first_name:
              aggregatable: false
              count: 0
              esTypes:
                - text
              format:
                id: string
              isMapped: true
              name: customer_first_name
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            customer_first_name.keyword:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: customer_first_name.keyword
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              subType:
                multi:
                  parent: customer_first_name
              type: string
            customer_full_name:
              aggregatable: false
              count: 0
              esTypes:
                - text
              format:
                id: string
              isMapped: true
              name: customer_full_name
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            customer_full_name.keyword:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: customer_full_name.keyword
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              subType:
                multi:
                  parent: customer_full_name
              type: string
            customer_gender:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: customer_gender
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            customer_id:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: customer_id
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            customer_last_name:
              aggregatable: false
              count: 0
              esTypes:
                - text
              format:
                id: string
              isMapped: true
              name: customer_last_name
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            customer_last_name.keyword:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: customer_last_name.keyword
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              subType:
                multi:
                  parent: customer_last_name
              type: string
            customer_phone:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: customer_phone
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            day_of_week:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: day_of_week
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            day_of_week_i:
              aggregatable: true
              count: 0
              esTypes:
                - integer
              format:
                id: number
              isMapped: true
              name: day_of_week_i
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            email:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: email
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            event.dataset:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: event.dataset
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            geoip.city_name:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: geoip.city_name
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            geoip.continent_name:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: geoip.continent_name
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            geoip.country_iso_code:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: geoip.country_iso_code
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            geoip.location:
              aggregatable: true
              count: 0
              esTypes:
                - geo_point
              format:
                id: geo_point
                params:
                  transform: wkt
              isMapped: true
              name: geoip.location
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: geo_point
            geoip.region_name:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: geoip.region_name
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            manufacturer:
              aggregatable: false
              count: 0
              esTypes:
                - text
              format:
                id: string
              isMapped: true
              name: manufacturer
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            manufacturer.keyword:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: manufacturer.keyword
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              subType:
                multi:
                  parent: manufacturer
              type: string
            order_date:
              aggregatable: true
              count: 0
              esTypes:
                - date
              format:
                id: date
              isMapped: true
              name: order_date
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: date
            order_id:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: order_id
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            products._id:
              aggregatable: false
              count: 0
              esTypes:
                - text
              format:
                id: string
              isMapped: true
              name: products._id
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            products._id.keyword:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: products._id.keyword
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              subType:
                multi:
                  parent: products._id
              type: string
            products.base_price:
              aggregatable: true
              count: 0
              esTypes:
                - half_float
              format:
                id: number
                params:
                  pattern: $0,0.00
              isMapped: true
              name: products.base_price
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            products.base_unit_price:
              aggregatable: true
              count: 0
              esTypes:
                - half_float
              format:
                id: number
                params:
                  pattern: $0,0.00
              isMapped: true
              name: products.base_unit_price
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            products.category:
              aggregatable: false
              count: 0
              esTypes:
                - text
              format:
                id: string
              isMapped: true
              name: products.category
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            products.category.keyword:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: products.category.keyword
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              subType:
                multi:
                  parent: products.category
              type: string
            products.created_on:
              aggregatable: true
              count: 0
              esTypes:
                - date
              format:
                id: date
              isMapped: true
              name: products.created_on
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: date
            products.discount_amount:
              aggregatable: true
              count: 0
              esTypes:
                - half_float
              format:
                id: number
              isMapped: true
              name: products.discount_amount
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            products.discount_percentage:
              aggregatable: true
              count: 0
              esTypes:
                - half_float
              format:
                id: number
              isMapped: true
              name: products.discount_percentage
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            products.manufacturer:
              aggregatable: false
              count: 1
              esTypes:
                - text
              format:
                id: string
              isMapped: true
              name: products.manufacturer
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            products.manufacturer.keyword:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: products.manufacturer.keyword
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              subType:
                multi:
                  parent: products.manufacturer
              type: string
            products.min_price:
              aggregatable: true
              count: 0
              esTypes:
                - half_float
              format:
                id: number
                params:
                  pattern: $0,0.00
              isMapped: true
              name: products.min_price
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            products.price:
              aggregatable: true
              count: 1
              esTypes:
                - half_float
              format:
                id: number
                params:
                  pattern: $0,0.00
              isMapped: true
              name: products.price
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            products.product_id:
              aggregatable: true
              count: 0
              esTypes:
                - long
              format:
                id: number
              isMapped: true
              name: products.product_id
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            products.product_name:
              aggregatable: false
              count: 1
              esTypes:
                - text
              format:
                id: string
              isMapped: true
              name: products.product_name
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            products.product_name.keyword:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: products.product_name.keyword
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              subType:
                multi:
                  parent: products.product_name
              type: string
            products.quantity:
              aggregatable: true
              count: 0
              esTypes:
                - integer
              format:
                id: number
              isMapped: true
              name: products.quantity
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            products.sku:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: products.sku
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            products.tax_amount:
              aggregatable: true
              count: 0
              esTypes:
                - half_float
              format:
                id: number
              isMapped: true
              name: products.tax_amount
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            products.taxful_price:
              aggregatable: true
              count: 0
              esTypes:
                - half_float
              format:
                id: number
                params:
                  pattern: $0,0.00
              isMapped: true
              name: products.taxful_price
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            products.taxless_price:
              aggregatable: true
              count: 0
              esTypes:
                - half_float
              format:
                id: number
                params:
                  pattern: $0,0.00
              isMapped: true
              name: products.taxless_price
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            products.unit_discount_amount:
              aggregatable: true
              count: 0
              esTypes:
                - half_float
              format:
                id: number
              isMapped: true
              name: products.unit_discount_amount
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            sku:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: sku
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            taxful_total_price:
              aggregatable: true
              count: 0
              esTypes:
                - half_float
              format:
                id: number
                params:
                  pattern: $0,0.[00]
              isMapped: true
              name: taxful_total_price
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            taxless_total_price:
              aggregatable: true
              count: 0
              esTypes:
                - half_float
              format:
                id: number
                params:
                  pattern: $0,0.00
              isMapped: true
              name: taxless_total_price
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            total_quantity:
              aggregatable: true
              count: 1
              esTypes:
                - integer
              format:
                id: number
              isMapped: true
              name: total_quantity
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            total_unique_products:
              aggregatable: true
              count: 0
              esTypes:
                - integer
              format:
                id: number
              isMapped: true
              name: total_unique_products
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            type:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: type
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            user:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: user
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
          id: ff959d40-b880-11e8-a6d9-e546fe2bba5f
          name: Kibana Sample Data eCommerce
          namespaces:
            - default
          runtimeFieldMap: {}
          sourceFilters: []
          timeFieldName: order_date
          title: kibana_sample_data_ecommerce
          typeMeta: {}
          version: WzUsMV0=
    Data_views_get_data_views_response:
      summary: The get all data views API returns a list of data views.
      value:
        data_view:
          - id: ff959d40-b880-11e8-a6d9-e546fe2bba5f
            name: Kibana Sample Data eCommerce
            namespaces:
              - default
            title: kibana_sample_data_ecommerce
            typeMeta: {}
          - id: d3d7af60-4c81-11e8-b3d7-01146121b73d
            name: Kibana Sample Data Flights
            namespaces:
              - default
            title: kibana_sample_data_flights
          - id: 90943e30-9a47-11e8-b64d-95841ca0b247
            name: Kibana Sample Data Logs
            namespaces:
              - default
            title: kibana_sample_data_logs
    Data_views_get_default_data_view_response:
      summary: The get default data view API returns the default data view identifier.
      value:
        data_view_id: ff959d40-b880-11e8-a6d9-e546fe2bba5f
    Data_views_get_runtime_field_response:
      summary: >-
        The get runtime field API returns a JSON object that contains
        information about the runtime field (`hour_of_day`) and the data view
        (`d3d7af60-4c81-11e8-b3d7-01146121b73d`).
      value:
        data_view:
          allowNoIndex: false
          fieldAttrs: {}
          fieldFormats:
            AvgTicketPrice:
              id: number
              params:
                pattern: $0,0.[00]
            hour_of_day:
              id: number
              params:
                pattern: '00'
          fields:
            _id:
              aggregatable: false
              count: 0
              esTypes:
                - _id
              format:
                id: string
              isMapped: true
              name: _id
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            _index:
              aggregatable: true
              count: 0
              esTypes:
                - _index
              format:
                id: string
              isMapped: true
              name: _index
              readFromDocValues: false
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            _score:
              aggregatable: false
              count: 0
              format:
                id: number
              isMapped: true
              name: _score
              readFromDocValues: false
              scripted: false
              searchable: false
              shortDotsEnable: false
              type: number
            _source:
              aggregatable: false
              count: 0
              esTypes:
                - _source
              format:
                id: _source
              isMapped: true
              name: _source
              readFromDocValues: false
              scripted: false
              searchable: false
              shortDotsEnable: false
              type: _source
            AvgTicketPrice:
              aggregatable: true
              count: 0
              esTypes:
                - float
              format:
                id: number
                params:
                  pattern: $0,0.[00]
              isMapped: true
              name: AvgTicketPrice
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            Cancelled:
              aggregatable: true
              count: 0
              esTypes:
                - boolean
              format:
                id: boolean
              isMapped: true
              name: Cancelled
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: boolean
            Carrier:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: Carrier
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            dayOfWeek:
              aggregatable: true
              count: 0
              esTypes:
                - integer
              format:
                id: number
              isMapped: true
              name: dayOfWeek
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            Dest:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: Dest
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            DestAirportID:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: DestAirportID
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            DestCityName:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: DestCityName
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            DestCountry:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: DestCountry
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            DestLocation:
              aggregatable: true
              count: 0
              esTypes:
                - geo_point
              format:
                id: geo_point
                params:
                  transform: wkt
              isMapped: true
              name: DestLocation
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: geo_point
            DestRegion:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: DestRegion
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            DestWeather:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: DestWeather
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            DistanceKilometers:
              aggregatable: true
              count: 0
              esTypes:
                - float
              format:
                id: number
              isMapped: true
              name: DistanceKilometers
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            DistanceMiles:
              aggregatable: true
              count: 0
              esTypes:
                - float
              format:
                id: number
              isMapped: true
              name: DistanceMiles
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            FlightDelay:
              aggregatable: true
              count: 0
              esTypes:
                - boolean
              format:
                id: boolean
              isMapped: true
              name: FlightDelay
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: boolean
            FlightDelayMin:
              aggregatable: true
              count: 0
              esTypes:
                - integer
              format:
                id: number
              isMapped: true
              name: FlightDelayMin
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            FlightDelayType:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: FlightDelayType
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            FlightNum:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: FlightNum
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            FlightTimeHour:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: FlightTimeHour
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            FlightTimeMin:
              aggregatable: true
              count: 0
              esTypes:
                - float
              format:
                id: number
              isMapped: true
              name: FlightTimeMin
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            hour_of_day:
              aggregatable: true
              count: 0
              esTypes:
                - long
              format:
                id: number
                params:
                  pattern: '00'
              name: hour_of_day
              readFromDocValues: false
              runtimeField:
                script:
                  source: emit(doc['timestamp'].value.getHour());
                type: long
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: number
            Origin:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: Origin
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            OriginAirportID:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: OriginAirportID
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            OriginCityName:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: OriginCityName
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            OriginCountry:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: OriginCountry
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            OriginLocation:
              aggregatable: true
              count: 0
              esTypes:
                - geo_point
              format:
                id: geo_point
                params:
                  transform: wkt
              isMapped: true
              name: OriginLocation
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: geo_point
            OriginRegion:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: OriginRegion
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            OriginWeather:
              aggregatable: true
              count: 0
              esTypes:
                - keyword
              format:
                id: string
              isMapped: true
              name: OriginWeather
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: string
            timestamp:
              aggregatable: true
              count: 0
              esTypes:
                - date
              format:
                id: date
              isMapped: true
              name: timestamp
              readFromDocValues: true
              scripted: false
              searchable: true
              shortDotsEnable: false
              type: date
          id: d3d7af60-4c81-11e8-b3d7-01146121b73d
          name: Kibana Sample Data Flights
          runtimeFieldMap:
            hour_of_day:
              script:
                source: emit(doc['timestamp'].value.getHour());
              type: long
          sourceFilters: []
          timeFieldName: timestamp
          title: kibana_sample_data_flights
          version: WzM2LDJd
        fields:
          - aggregatable: true
            count: 0
            esTypes:
              - long
            name: hour_of_day
            readFromDocValues: false
            runtimeField:
              script:
                source: emit(doc['timestamp'].value.getHour());
              type: long
            scripted: false
            searchable: true
            shortDotsEnable: false
            type: number
    Data_views_preview_swap_data_view_request:
      summary: Preview swapping references from data view ID "abcd-efg" to "xyz-123".
      value:
        fromId: abcd-efg
        toId: xyz-123
    Data_views_set_default_data_view_request:
      summary: Set the default data view identifier.
      value:
        data_view_id: ff959d40-b880-11e8-a6d9-e546fe2bba5f
        force: true
    Data_views_swap_data_view_request:
      summary: >-
        Swap references from data view ID "abcd-efg" to "xyz-123" and remove the
        data view that is no longer referenced.
      value:
        delete: true
        fromId: abcd-efg
        toId: xyz-123
    Data_views_update_data_view_request:
      summary: Update some properties for a data view.
      value:
        data_view:
          allowNoIndex: false
          name: Kibana Sample Data eCommerce
          timeFieldName: order_date
          title: kibana_sample_data_ecommerce
        refresh_fields: true
    Data_views_update_field_metadata_request:
      summary: Update metadata for multiple fields.
      value:
        fields:
          field1:
            count: 123
            customLabel: Field 1 label
          field2:
            customDescription: Field 2 description
            customLabel: Field 2 label
    Data_views_update_runtime_field_request:
      summary: Update an existing runtime field on a data view.
      value:
        runtimeField:
          script:
            source: emit(doc["bar"].value)
    Machine_learning_APIs_mlSyncExample:
      summary: Two anomaly detection jobs required synchronization in this example.
      value:
        datafeedsAdded: {}
        datafeedsRemoved: {}
        savedObjectsCreated:
          anomaly-detector:
            myjob1:
              success: true
            myjob2:
              success: true
        savedObjectsDeleted: {}
    Serverless_saved_objects_export_objects_request:
      summary: Export a specific saved object.
      value:
        excludeExportDetails: true
        includeReferencesDeep: false
        objects:
          - id: de71f4f0-1902-11e9-919b-ffe5949a18d2
            type: map
    Serverless_saved_objects_export_objects_response:
      summary: >-
        The export objects API response contains a JSON record for each exported
        object.
      value:
        attributes:
          description: ''
          layerListJSON: >-
            [{"id":"0hmz5","alpha":1,"sourceDescriptor":{"type":"EMS_TMS","isAutoSelect":true,"lightModeDefault":"road_map_desaturated"},"visible":true,"style":{},"type":"EMS_VECTOR_TILE","minZoom":0,"maxZoom":24},{"id":"edh66","label":"Total
            Requests by
            Destination","minZoom":0,"maxZoom":24,"alpha":0.5,"sourceDescriptor":{"type":"EMS_FILE","id":"world_countries","tooltipProperties":["name","iso2"]},"visible":true,"style":{"type":"VECTOR","properties":{"fillColor":{"type":"DYNAMIC","options":{"field":{"name":"__kbnjoin__count__673ff994-fc75-4c67-909b-69fcb0e1060e","origin":"join"},"color":"Greys","fieldMetaOptions":{"isEnabled":false,"sigma":3}}},"lineColor":{"type":"STATIC","options":{"color":"#FFFFFF"}},"lineWidth":{"type":"STATIC","options":{"size":1}},"iconSize":{"type":"STATIC","options":{"size":10}},"symbolizeAs":{"options":{"value":"circle"}},"icon":{"type":"STATIC","options":{"value":"marker"}}}},"type":"GEOJSON_VECTOR","joins":[{"leftField":"iso2","right":{"type":"ES_TERM_SOURCE","id":"673ff994-fc75-4c67-909b-69fcb0e1060e","indexPatternTitle":"kibana_sample_data_logs","term":"geo.dest","indexPatternRefName":"layer_1_join_0_index_pattern","metrics":[{"type":"count","label":"web
            logs
            count"}],"applyGlobalQuery":true}}]},{"id":"gaxya","label":"Actual
            Requests","minZoom":9,"maxZoom":24,"alpha":1,"sourceDescriptor":{"id":"b7486535-171b-4d3b-bb2e-33c1a0a2854c","type":"ES_SEARCH","geoField":"geo.coordinates","limit":2048,"filterByMapBounds":true,"tooltipProperties":["clientip","timestamp","host","request","response","machine.os","agent","bytes"],"indexPatternRefName":"layer_2_source_index_pattern","applyGlobalQuery":true,"scalingType":"LIMIT"},"visible":true,"style":{"type":"VECTOR","properties":{"fillColor":{"type":"STATIC","options":{"color":"#2200ff"}},"lineColor":{"type":"STATIC","options":{"color":"#FFFFFF"}},"lineWidth":{"type":"STATIC","options":{"size":2}},"iconSize":{"type":"DYNAMIC","options":{"field":{"name":"bytes","origin":"source"},"minSize":1,"maxSize":23,"fieldMetaOptions":{"isEnabled":false,"sigma":3}}},"symbolizeAs":{"options":{"value":"circle"}},"icon":{"type":"STATIC","options":{"value":"marker"}}}},"type":"GEOJSON_VECTOR"},{"id":"tfi3f","label":"Total
            Requests and
            Bytes","minZoom":0,"maxZoom":9,"alpha":1,"sourceDescriptor":{"type":"ES_GEO_GRID","resolution":"COARSE","id":"8aaa65b5-a4e9-448b-9560-c98cb1c5ac5b","geoField":"geo.coordinates","requestType":"point","metrics":[{"type":"count","label":"web
            logs
            count"},{"type":"sum","field":"bytes"}],"indexPatternRefName":"layer_3_source_index_pattern","applyGlobalQuery":true},"visible":true,"style":{"type":"VECTOR","properties":{"fillColor":{"type":"DYNAMIC","options":{"field":{"name":"doc_count","origin":"source"},"color":"Blues","fieldMetaOptions":{"isEnabled":false,"sigma":3}}},"lineColor":{"type":"STATIC","options":{"color":"#cccccc"}},"lineWidth":{"type":"STATIC","options":{"size":1}},"iconSize":{"type":"DYNAMIC","options":{"field":{"name":"sum_of_bytes","origin":"source"},"minSize":7,"maxSize":25,"fieldMetaOptions":{"isEnabled":false,"sigma":3}}},"labelText":{"type":"DYNAMIC","options":{"field":{"name":"doc_count","origin":"source"},"fieldMetaOptions":{"isEnabled":false,"sigma":3}}},"labelSize":{"type":"DYNAMIC","options":{"field":{"name":"doc_count","origin":"source"},"minSize":12,"maxSize":24,"fieldMetaOptions":{"isEnabled":false,"sigma":3}}},"symbolizeAs":{"options":{"value":"circle"}},"icon":{"type":"STATIC","options":{"value":"marker"}}}},"type":"GEOJSON_VECTOR"}]
          mapStateJSON: >-
            {"zoom":3.64,"center":{"lon":-88.92107,"lat":42.16337},"timeFilters":{"from":"now-7d","to":"now"},"refreshConfig":{"isPaused":true,"interval":0},"query":{"language":"kuery","query":""},"settings":{"autoFitToDataBounds":false}}
          title: '[Logs] Total Requests and Bytes'
          uiStateJSON: '{"isDarkMode":false}'
        coreMigrationVersion: 8.8.0
        created_at: '2023-08-23T20:03:32.204Z'
        id: de71f4f0-1902-11e9-919b-ffe5949a18d2
        managed: false
        references:
          - id: 90943e30-9a47-11e8-b64d-95841ca0b247
            name: layer_1_join_0_index_pattern
            type: index-pattern
          - id: 90943e30-9a47-11e8-b64d-95841ca0b247
            name: layer_2_source_index_pattern
            type: index-pattern
          - id: 90943e30-9a47-11e8-b64d-95841ca0b247
            name: layer_3_source_index_pattern
            type: index-pattern
        type: map
        typeMigrationVersion: 8.4.0
        updated_at: '2023-08-23T20:03:32.204Z'
        version: WzEzLDFd
    Serverless_saved_objects_import_objects_request:
      value:
        file: file.ndjson
    Serverless_saved_objects_import_objects_response:
      summary: >-
        The import objects API response indicates a successful import and the
        objects are created. Since these objects are created as new copies, each
        entry in the successResults array includes a destinationId attribute.
      value:
        success: true
        successCount: 1
        successResults:
          - destinationId: 82d2760c-468f-49cf-83aa-b9a35b6a8943
            id: 90943e30-9a47-11e8-b64d-95841ca0b247
            managed: false
            meta:
              icon: indexPatternApp
              title: Kibana Sample Data Logs
            type: index-pattern
  parameters:
    Data_views_field_name:
      description: The name of the runtime field.
      in: path
      name: fieldName
      required: true
      schema:
        example: hour_of_day
        type: string
    Data_views_kbn_xsrf:
      description: Cross-site request forgery protection
      in: header
      name: kbn-xsrf
      required: true
      schema:
        type: string
    Data_views_view_id:
      description: An identifier for the data view.
      in: path
      name: viewId
      required: true
      schema:
        example: ff959d40-b880-11e8-a6d9-e546fe2bba5f
        type: string
    Machine_learning_APIs_simulateParam:
      description: >-
        When true, simulates the synchronization by returning only the list of
        actions that would be performed.
      example: 'true'
      in: query
      name: simulate
      required: false
      schema:
        type: boolean
    Serverless_saved_objects_kbn_xsrf:
      description: Cross-site request forgery protection
      in: header
      name: kbn-xsrf
      required: true
      schema:
        type: string
    SLOs_kbn_xsrf:
      description: Cross-site request forgery protection
      in: header
      name: kbn-xsrf
      required: true
      schema:
        type: string
    SLOs_slo_id:
      description: An identifier for the slo.
      in: path
      name: sloId
      required: true
      schema:
        example: 9c235211-6834-11ea-a78c-6feb38a34414
        type: string
    SLOs_space_id:
      description: >-
        An identifier for the space. If `/s/` and the identifier are omitted
        from the path, the default space is used.
      in: path
      name: spaceId
      required: true
      schema:
        example: default
        type: string
  schemas:
    Data_views_400_response:
      title: Bad request
      type: object
      properties:
        error:
          example: Bad Request
          type: string
        message:
          type: string
        statusCode:
          example: 400
          type: number
      required:
        - statusCode
        - error
        - message
    Data_views_404_response:
      type: object
      properties:
        error:
          enum:
            - Not Found
          example: Not Found
          type: string
        message:
          example: >-
            Saved object [index-pattern/caaad6d0-920c-11ed-b36a-874bd1548a00]
            not found
          type: string
        statusCode:
          enum:
            - 404
          example: 404
          type: integer
    Data_views_allownoindex:
      description: Allows the data view saved object to exist before the data is available.
      type: boolean
    Data_views_create_data_view_request_object:
      title: Create data view request
      type: object
      properties:
        data_view:
          description: The data view object.
          type: object
          properties:
            allowNoIndex:
              $ref: '#/components/schemas/Data_views_allownoindex'
            fieldAttrs:
              additionalProperties:
                $ref: '#/components/schemas/Data_views_fieldattrs'
              type: object
            fieldFormats:
              $ref: '#/components/schemas/Data_views_fieldformats'
            fields:
              type: object
            id:
              type: string
            name:
              description: The data view name.
              type: string
            namespaces:
              $ref: '#/components/schemas/Data_views_namespaces'
            runtimeFieldMap:
              additionalProperties:
                $ref: '#/components/schemas/Data_views_runtimefieldmap'
              type: object
            sourceFilters:
              $ref: '#/components/schemas/Data_views_sourcefilters'
            timeFieldName:
              $ref: '#/components/schemas/Data_views_timefieldname'
            title:
              $ref: '#/components/schemas/Data_views_title'
            type:
              $ref: '#/components/schemas/Data_views_type'
            typeMeta:
              $ref: '#/components/schemas/Data_views_typemeta'
            version:
              type: string
          required:
            - title
        override:
          default: false
          description: >-
            Override an existing data view if a data view with the provided
            title already exists.
          type: boolean
      required:
        - data_view
    Data_views_data_view_response_object:
      title: Data view response properties
      type: object
      properties:
        data_view:
          type: object
          properties:
            allowNoIndex:
              $ref: '#/components/schemas/Data_views_allownoindex'
            fieldAttrs:
              additionalProperties:
                $ref: '#/components/schemas/Data_views_fieldattrs'
              type: object
            fieldFormats:
              $ref: '#/components/schemas/Data_views_fieldformats'
            fields:
              type: object
            id:
              example: ff959d40-b880-11e8-a6d9-e546fe2bba5f
              type: string
            name:
              description: The data view name.
              type: string
            namespaces:
              $ref: '#/components/schemas/Data_views_namespaces'
            runtimeFieldMap:
              additionalProperties:
                $ref: '#/components/schemas/Data_views_runtimefieldmap'
              type: object
            sourceFilters:
              $ref: '#/components/schemas/Data_views_sourcefilters'
            timeFieldName:
              $ref: '#/components/schemas/Data_views_timefieldname'
            title:
              $ref: '#/components/schemas/Data_views_title'
            typeMeta:
              $ref: '#/components/schemas/Data_views_typemeta_response'
            version:
              example: WzQ2LDJd
              type: string
    Data_views_fieldattrs:
      description: A map of field attributes by field name.
      type: object
      properties:
        count:
          description: Popularity count for the field.
          type: integer
        customDescription:
          description: Custom description for the field.
          maxLength: 300
          type: string
        customLabel:
          description: Custom label for the field.
          type: string
    Data_views_fieldformats:
      description: A map of field formats by field name.
      type: object
    Data_views_namespaces:
      description: >-
        An array of space identifiers for sharing the data view between multiple
        spaces.
      items:
        default: default
        type: string
      type: array
    Data_views_runtimefieldmap:
      description: A map of runtime field definitions by field name.
      type: object
      properties:
        script:
          type: object
          properties:
            source:
              description: Script for the runtime field.
              type: string
        type:
          description: Mapping type of the runtime field.
          type: string
      required:
        - script
        - type
    Data_views_sourcefilters:
      description: The array of field names you want to filter out in Discover.
      items:
        type: object
        properties:
          value:
            type: string
        required:
          - value
      type: array
    Data_views_swap_data_view_request_object:
      title: Data view reference swap request
      type: object
      properties:
        delete:
          description: Deletes referenced saved object if all references are removed.
          type: boolean
        forId:
          description: Limit the affected saved objects to one or more by identifier.
          oneOf:
            - type: string
            - items:
                type: string
              type: array
        forType:
          description: Limit the affected saved objects by type.
          type: string
        fromId:
          description: The saved object reference to change.
          type: string
        fromType:
          description: >
            Specify the type of the saved object reference to alter. The default
            value is `index-pattern` for data views.
          type: string
        toId:
          description: New saved object reference value to replace the old value.
          type: string
      required:
        - fromId
        - toId
    Data_views_timefieldname:
      description: The timestamp field name, which you use for time-based data views.
      type: string
    Data_views_title:
      description: >-
        Comma-separated list of data streams, indices, and aliases that you want
        to search. Supports wildcards (`*`).
      type: string
    Data_views_type:
      description: When set to `rollup`, identifies the rollup data views.
      type: string
    Data_views_typemeta:
      description: >-
        When you use rollup indices, contains the field list for the rollup data
        view API endpoints.
      type: object
      properties:
        aggs:
          description: A map of rollup restrictions by aggregation type and field name.
          type: object
        params:
          description: Properties for retrieving rollup fields.
          type: object
      required:
        - aggs
        - params
    Data_views_typemeta_response:
      description: >-
        When you use rollup indices, contains the field list for the rollup data
        view API endpoints.
      nullable: true
      type: object
      properties:
        aggs:
          description: A map of rollup restrictions by aggregation type and field name.
          type: object
        params:
          description: Properties for retrieving rollup fields.
          type: object
    Data_views_update_data_view_request_object:
      title: Update data view request
      type: object
      properties:
        data_view:
          description: >
            The data view properties you want to update. Only the specified
            properties are updated in the data view. Unspecified fields stay as
            they are persisted.
          type: object
          properties:
            allowNoIndex:
              $ref: '#/components/schemas/Data_views_allownoindex'
            fieldFormats:
              $ref: '#/components/schemas/Data_views_fieldformats'
            fields:
              type: object
            name:
              type: string
            runtimeFieldMap:
              additionalProperties:
                $ref: '#/components/schemas/Data_views_runtimefieldmap'
              type: object
            sourceFilters:
              $ref: '#/components/schemas/Data_views_sourcefilters'
            timeFieldName:
              $ref: '#/components/schemas/Data_views_timefieldname'
            title:
              $ref: '#/components/schemas/Data_views_title'
            type:
              $ref: '#/components/schemas/Data_views_type'
            typeMeta:
              $ref: '#/components/schemas/Data_views_typemeta'
        refresh_fields:
          default: false
          description: Reloads the data view fields after the data view is updated.
          type: boolean
      required:
        - data_view
    Kibana_HTTP_APIs_core_status_redactedResponse:
      additionalProperties: false
      description: A minimal representation of Kibana's operational status.
      type: object
      properties:
        status:
          additionalProperties: false
          type: object
          properties:
            overall:
              additionalProperties: false
              type: object
              properties:
                level:
                  description: Service status levels as human and machine readable values.
                  enum:
                    - available
                    - degraded
                    - unavailable
                    - critical
                  type: string
              required:
                - level
          required:
            - overall
      required:
        - status
    Kibana_HTTP_APIs_core_status_response:
      additionalProperties: false
      description: >-
        Kibana's operational status as well as a detailed breakdown of plugin
        statuses indication of various loads (like event loop utilization and
        network traffic) at time of request.
      type: object
      properties:
        metrics:
          additionalProperties: false
          description: Metric groups collected by Kibana.
          type: object
          properties:
            collection_interval_in_millis:
              description: The interval at which metrics should be collected.
              type: number
            elasticsearch_client:
              additionalProperties: false
              description: Current network metrics of Kibana's Elasticsearch client.
              type: object
              properties:
                totalActiveSockets:
                  description: Count of network sockets currently in use.
                  type: number
                totalIdleSockets:
                  description: Count of network sockets currently idle.
                  type: number
                totalQueuedRequests:
                  description: Count of requests not yet assigned to sockets.
                  type: number
              required:
                - totalActiveSockets
                - totalIdleSockets
                - totalQueuedRequests
            last_updated:
              description: The time metrics were collected.
              type: string
          required:
            - elasticsearch_client
            - last_updated
            - collection_interval_in_millis
        name:
          description: Kibana instance name.
          type: string
        status:
          additionalProperties: false
          type: object
          properties:
            core:
              additionalProperties: false
              description: Statuses of core Kibana services.
              type: object
              properties:
                elasticsearch:
                  additionalProperties: false
                  type: object
                  properties:
                    detail:
                      description: Human readable detail of the service status.
                      type: string
                    documentationUrl:
                      description: A URL to further documentation regarding this service.
                      type: string
                    level:
                      description: >-
                        Service status levels as human and machine readable
                        values.
                      enum:
                        - available
                        - degraded
                        - unavailable
                        - critical
                      type: string
                    meta:
                      additionalProperties: {}
                      description: >-
                        An unstructured set of extra metadata about this
                        service.
                      type: object
                    summary:
                      description: A human readable summary of the service status.
                      type: string
                  required:
                    - level
                    - summary
                    - meta
                savedObjects:
                  additionalProperties: false
                  type: object
                  properties:
                    detail:
                      description: Human readable detail of the service status.
                      type: string
                    documentationUrl:
                      description: A URL to further documentation regarding this service.
                      type: string
                    level:
                      description: >-
                        Service status levels as human and machine readable
                        values.
                      enum:
                        - available
                        - degraded
                        - unavailable
                        - critical
                      type: string
                    meta:
                      additionalProperties: {}
                      description: >-
                        An unstructured set of extra metadata about this
                        service.
                      type: object
                    summary:
                      description: A human readable summary of the service status.
                      type: string
                  required:
                    - level
                    - summary
                    - meta
              required:
                - elasticsearch
                - savedObjects
            overall:
              additionalProperties: false
              type: object
              properties:
                detail:
                  description: Human readable detail of the service status.
                  type: string
                documentationUrl:
                  description: A URL to further documentation regarding this service.
                  type: string
                level:
                  description: Service status levels as human and machine readable values.
                  enum:
                    - available
                    - degraded
                    - unavailable
                    - critical
                  type: string
                meta:
                  additionalProperties: {}
                  description: An unstructured set of extra metadata about this service.
                  type: object
                summary:
                  description: A human readable summary of the service status.
                  type: string
              required:
                - level
                - summary
                - meta
            plugins:
              additionalProperties:
                additionalProperties: false
                type: object
                properties:
                  detail:
                    description: Human readable detail of the service status.
                    type: string
                  documentationUrl:
                    description: A URL to further documentation regarding this service.
                    type: string
                  level:
                    description: >-
                      Service status levels as human and machine readable
                      values.
                    enum:
                      - available
                      - degraded
                      - unavailable
                      - critical
                    type: string
                  meta:
                    additionalProperties: {}
                    description: An unstructured set of extra metadata about this service.
                    type: object
                  summary:
                    description: A human readable summary of the service status.
                    type: string
                required:
                  - level
                  - summary
                  - meta
              description: A dynamic mapping of plugin ID to plugin status.
              type: object
          required:
            - overall
            - core
            - plugins
        uuid:
          description: >-
            Unique, generated Kibana instance UUID. This UUID should persist
            even if the Kibana process restarts.
          type: string
        version:
          additionalProperties: false
          type: object
          properties:
            build_date:
              description: The date and time of this build.
              type: string
            build_flavor:
              description: >-
                The build flavour determines configuration and behavior of
                Kibana. On premise users will almost always run the
                "traditional" flavour, while other flavours are reserved for
                Elastic-specific use cases.
              enum:
                - serverless
                - traditional
              type: string
            build_hash:
              description: >-
                A unique hash value representing the git commit of this Kibana
                build.
              type: string
            build_number:
              description: >-
                A monotonically increasing number, each subsequent build will
                have a higher number.
              type: number
            build_snapshot:
              description: Whether this build is a snapshot build.
              type: boolean
            number:
              description: A semantic version number.
              type: string
          required:
            - number
            - build_hash
            - build_number
            - build_snapshot
            - build_flavor
            - build_date
      required:
        - name
        - uuid
        - version
        - status
        - metrics
    Machine_learning_APIs_mlSync200Response:
      properties:
        datafeedsAdded:
          additionalProperties:
            $ref: '#/components/schemas/Machine_learning_APIs_mlSyncResponseDatafeeds'
          description: >-
            If a saved object for an anomaly detection job is missing a datafeed
            identifier, it is added when you run the sync machine learning saved
            objects API.
          type: object
        datafeedsRemoved:
          additionalProperties:
            $ref: '#/components/schemas/Machine_learning_APIs_mlSyncResponseDatafeeds'
          description: >-
            If a saved object for an anomaly detection job references a datafeed
            that no longer exists, it is deleted when you run the sync machine
            learning saved objects API.
          type: object
        savedObjectsCreated:
          $ref: >-
            #/components/schemas/Machine_learning_APIs_mlSyncResponseSavedObjectsCreated
        savedObjectsDeleted:
          $ref: >-
            #/components/schemas/Machine_learning_APIs_mlSyncResponseSavedObjectsDeleted
      title: Successful sync API response
      type: object
    Machine_learning_APIs_mlSync4xxResponse:
      properties:
        error:
          example: Unauthorized
          type: string
        message:
          type: string
        statusCode:
          example: 401
          type: integer
      title: Unsuccessful sync API response
      type: object
    Machine_learning_APIs_mlSyncResponseAnomalyDetectors:
      description: >-
        The sync machine learning saved objects API response contains this
        object when there are anomaly detection jobs affected by the
        synchronization. There is an object for each relevant job, which
        contains the synchronization status.
      properties:
        success:
          $ref: '#/components/schemas/Machine_learning_APIs_mlSyncResponseSuccess'
      title: Sync API response for anomaly detection jobs
      type: object
    Machine_learning_APIs_mlSyncResponseDatafeeds:
      description: >-
        The sync machine learning saved objects API response contains this
        object when there are datafeeds affected by the synchronization. There
        is an object for each relevant datafeed, which contains the
        synchronization status.
      properties:
        success:
          $ref: '#/components/schemas/Machine_learning_APIs_mlSyncResponseSuccess'
      title: Sync API response for datafeeds
      type: object
    Machine_learning_APIs_mlSyncResponseDataFrameAnalytics:
      description: >-
        The sync machine learning saved objects API response contains this
        object when there are data frame analytics jobs affected by the
        synchronization. There is an object for each relevant job, which
        contains the synchronization status.
      properties:
        success:
          $ref: '#/components/schemas/Machine_learning_APIs_mlSyncResponseSuccess'
      title: Sync API response for data frame analytics jobs
      type: object
    Machine_learning_APIs_mlSyncResponseSavedObjectsCreated:
      description: >-
        If saved objects are missing for machine learning jobs or trained
        models, they are created when you run the sync machine learning saved
        objects API.
      properties:
        anomaly-detector:
          additionalProperties:
            $ref: >-
              #/components/schemas/Machine_learning_APIs_mlSyncResponseAnomalyDetectors
          description: >-
            If saved objects are missing for anomaly detection jobs, they are
            created.
          type: object
        data-frame-analytics:
          additionalProperties:
            $ref: >-
              #/components/schemas/Machine_learning_APIs_mlSyncResponseDataFrameAnalytics
          description: >-
            If saved objects are missing for data frame analytics jobs, they are
            created.
          type: object
        trained-model:
          additionalProperties:
            $ref: >-
              #/components/schemas/Machine_learning_APIs_mlSyncResponseTrainedModels
          description: If saved objects are missing for trained models, they are created.
          type: object
      title: Sync API response for created saved objects
      type: object
    Machine_learning_APIs_mlSyncResponseSavedObjectsDeleted:
      description: >-
        If saved objects exist for machine learning jobs or trained models that
        no longer exist, they are deleted when you run the sync machine learning
        saved objects API.
      properties:
        anomaly-detector:
          additionalProperties:
            $ref: >-
              #/components/schemas/Machine_learning_APIs_mlSyncResponseAnomalyDetectors
          description: >-
            If there are saved objects exist for nonexistent anomaly detection
            jobs, they are deleted.
          type: object
        data-frame-analytics:
          additionalProperties:
            $ref: >-
              #/components/schemas/Machine_learning_APIs_mlSyncResponseDataFrameAnalytics
          description: >-
            If there are saved objects exist for nonexistent data frame
            analytics jobs, they are deleted.
          type: object
        trained-model:
          additionalProperties:
            $ref: >-
              #/components/schemas/Machine_learning_APIs_mlSyncResponseTrainedModels
          description: >-
            If there are saved objects exist for nonexistent trained models,
            they are deleted.
          type: object
      title: Sync API response for deleted saved objects
      type: object
    Machine_learning_APIs_mlSyncResponseSuccess:
      description: The success or failure of the synchronization.
      type: boolean
    Machine_learning_APIs_mlSyncResponseTrainedModels:
      description: >-
        The sync machine learning saved objects API response contains this
        object when there are trained models affected by the synchronization.
        There is an object for each relevant trained model, which contains the
        synchronization status.
      properties:
        success:
          $ref: '#/components/schemas/Machine_learning_APIs_mlSyncResponseSuccess'
      title: Sync API response for trained models
      type: object
    Serverless_saved_objects_400_response:
      title: Bad request
      type: object
      properties:
        error:
          enum:
            - Bad Request
          type: string
        message:
          type: string
        statusCode:
          enum:
            - 400
          type: integer
      required:
        - error
        - message
        - statusCode
    SLOs_400_response:
      title: Bad request
      type: object
      properties:
        error:
          example: Bad Request
          type: string
        message:
          example: 'Invalid value ''foo'' supplied to: [...]'
          type: string
        statusCode:
          example: 400
          type: number
      required:
        - statusCode
        - error
        - message
    SLOs_401_response:
      title: Unauthorized
      type: object
      properties:
        error:
          example: Unauthorized
          type: string
        message:
          example: "[security_exception\n\tRoot causes:\n\t\tsecurity_exception: unable to authenticate user [elastics] for REST request [/_security/_authenticate]]: unable to authenticate user [elastics] for REST request [/_security/_authenticate]"
          type: string
        statusCode:
          example: 401
          type: number
      required:
        - statusCode
        - error
        - message
    SLOs_403_response:
      title: Unauthorized
      type: object
      properties:
        error:
          example: Unauthorized
          type: string
        message:
          example: "[security_exception\n\tRoot causes:\n\t\tsecurity_exception: unable to authenticate user [elastics] for REST request [/_security/_authenticate]]: unable to authenticate user [elastics] for REST request [/_security/_authenticate]"
          type: string
        statusCode:
          example: 403
          type: number
      required:
        - statusCode
        - error
        - message
    SLOs_404_response:
      title: Not found
      type: object
      properties:
        error:
          example: Not Found
          type: string
        message:
          example: SLO [3749f390-03a3-11ee-8139-c7ff60a1692d] not found
          type: string
        statusCode:
          example: 404
          type: number
      required:
        - statusCode
        - error
        - message
    SLOs_409_response:
      title: Conflict
      type: object
      properties:
        error:
          example: Conflict
          type: string
        message:
          example: SLO [d077e940-1515-11ee-9c50-9d096392f520] already exists
          type: string
        statusCode:
          example: 409
          type: number
      required:
        - statusCode
        - error
        - message
    SLOs_budgeting_method:
      description: The budgeting method to use when computing the rollup data.
      enum:
        - occurrences
        - timeslices
      example: occurrences
      title: Budgeting method
      type: string
    SLOs_create_slo_request:
      description: >
        The create SLO API request body varies depending on the type of
        indicator, time window and budgeting method.
      properties:
        budgetingMethod:
          $ref: '#/components/schemas/SLOs_budgeting_method'
        description:
          description: A description for the SLO.
          type: string
        groupBy:
          $ref: '#/components/schemas/SLOs_group_by'
        id:
          description: >-
            A optional and unique identifier for the SLO. Must be between 8 and
            36 chars
          example: my-super-slo-id
          type: string
        indicator:
          oneOf:
            - $ref: '#/components/schemas/SLOs_indicator_properties_custom_kql'
            - $ref: '#/components/schemas/SLOs_indicator_properties_apm_availability'
            - $ref: '#/components/schemas/SLOs_indicator_properties_apm_latency'
            - $ref: '#/components/schemas/SLOs_indicator_properties_custom_metric'
            - $ref: '#/components/schemas/SLOs_indicator_properties_histogram'
            - $ref: '#/components/schemas/SLOs_indicator_properties_timeslice_metric'
        name:
          description: A name for the SLO.
          type: string
        objective:
          $ref: '#/components/schemas/SLOs_objective'
        settings:
          $ref: '#/components/schemas/SLOs_settings'
        tags:
          description: List of tags
          items:
            type: string
          type: array
        timeWindow:
          $ref: '#/components/schemas/SLOs_time_window'
      required:
        - name
        - description
        - indicator
        - timeWindow
        - budgetingMethod
        - objective
      title: Create SLO request
      type: object
    SLOs_create_slo_response:
      title: Create SLO response
      type: object
      properties:
        id:
          example: 8853df00-ae2e-11ed-90af-09bb6422b258
          type: string
      required:
        - id
    SLOs_delete_slo_instances_request:
      description: >
        The delete SLO instances request takes a list of SLO id and instance id,
        then delete the rollup and summary data. This API can be used to remove
        the staled data of an instance SLO that no longer get updated.
      properties:
        list:
          description: An array of slo id and instance id
          items:
            type: object
            properties:
              instanceId:
                description: The SLO instance identifier
                example: 8853df00-ae2e-11ed-90af-09bb6422b258
                type: string
              sloId:
                description: The SLO unique identifier
                example: 8853df00-ae2e-11ed-90af-09bb6422b258
                type: string
            required:
              - sloId
              - instanceId
          type: array
      required:
        - list
      title: Delete SLO instances request
      type: object
    SLOs_error_budget:
      title: Error budget
      type: object
      properties:
        consumed:
          description: The error budget consummed, as a percentage of the initial value.
          example: 0.8
          type: number
        initial:
          description: The initial error budget, as 1 - objective
          example: 0.02
          type: number
        isEstimated:
          description: >-
            Only for SLO defined with occurrences budgeting method and calendar
            aligned time window.
          example: true
          type: boolean
        remaining:
          description: The error budget remaining, as a percentage of the initial value.
          example: 0.2
          type: number
      required:
        - initial
        - consumed
        - remaining
        - isEstimated
    SLOs_filter:
      description: Defines properties for a filter
      properties:
        meta:
          $ref: '#/components/schemas/SLOs_filter_meta'
        query:
          type: object
      title: Filter
      type: object
    SLOs_filter_meta:
      description: Defines properties for a filter
      properties:
        alias:
          nullable: true
          type: string
        controlledBy:
          type: string
        disabled:
          type: boolean
        field:
          type: string
        group:
          type: string
        index:
          type: string
        isMultiIndex:
          type: boolean
        key:
          type: string
        negate:
          type: boolean
        params:
          type: object
        type:
          type: string
        value:
          type: string
      title: FilterMeta
      type: object
    SLOs_find_slo_response:
      description: |
        A paginated response of SLOs matching the query.
      properties:
        page:
          example: 1
          type: number
        perPage:
          example: 25
          type: number
        results:
          items:
            $ref: '#/components/schemas/SLOs_slo_with_summary_response'
          type: array
        total:
          example: 34
          type: number
      title: Find SLO response
      type: object
    SLOs_group_by:
      description: >-
        optional group by field or fields to use to generate an SLO per distinct
        value
      example:
        - - service.name
        - service.name
        - - service.name
          - service.environment
      oneOf:
        - type: string
        - items:
            type: string
          type: array
      title: Group by
    SLOs_indicator_properties_apm_availability:
      description: Defines properties for the APM availability indicator type
      type: object
      properties:
        params:
          description: An object containing the indicator parameters.
          nullable: false
          type: object
          properties:
            environment:
              description: The APM service environment or "*"
              example: production
              type: string
            filter:
              description: KQL query used for filtering the data
              example: 'service.foo : "bar"'
              type: string
            index:
              description: The index used by APM metrics
              example: metrics-apm*,apm*
              type: string
            service:
              description: The APM service name
              example: o11y-app
              type: string
            transactionName:
              description: The APM transaction name or "*"
              example: GET /my/api
              type: string
            transactionType:
              description: The APM transaction type or "*"
              example: request
              type: string
          required:
            - service
            - environment
            - transactionType
            - transactionName
            - index
        type:
          description: The type of indicator.
          example: sli.apm.transactionDuration
          type: string
      required:
        - type
        - params
      title: APM availability
    SLOs_indicator_properties_apm_latency:
      description: Defines properties for the APM latency indicator type
      type: object
      properties:
        params:
          description: An object containing the indicator parameters.
          nullable: false
          type: object
          properties:
            environment:
              description: The APM service environment or "*"
              example: production
              type: string
            filter:
              description: KQL query used for filtering the data
              example: 'service.foo : "bar"'
              type: string
            index:
              description: The index used by APM metrics
              example: metrics-apm*,apm*
              type: string
            service:
              description: The APM service name
              example: o11y-app
              type: string
            threshold:
              description: The latency threshold in milliseconds
              example: 250
              type: number
            transactionName:
              description: The APM transaction name or "*"
              example: GET /my/api
              type: string
            transactionType:
              description: The APM transaction type or "*"
              example: request
              type: string
          required:
            - service
            - environment
            - transactionType
            - transactionName
            - index
            - threshold
        type:
          description: The type of indicator.
          example: sli.apm.transactionDuration
          type: string
      required:
        - type
        - params
      title: APM latency
    SLOs_indicator_properties_custom_kql:
      description: Defines properties for a custom query indicator type
      type: object
      properties:
        params:
          description: An object containing the indicator parameters.
          nullable: false
          type: object
          properties:
            dataViewId:
              description: >-
                The kibana data view id to use, primarily used to include data
                view runtime mappings. Make sure to save SLO again if you
                add/update run time fields to the data view and if those fields
                are being used in slo queries.
              example: 03b80ab3-003d-498b-881c-3beedbaf1162
              type: string
            filter:
              $ref: '#/components/schemas/SLOs_kql_with_filters'
            good:
              $ref: '#/components/schemas/SLOs_kql_with_filters_good'
            index:
              description: The index or index pattern to use
              example: my-service-*
              type: string
            timestampField:
              description: |
                The timestamp field used in the source indice.
              example: timestamp
              type: string
            total:
              $ref: '#/components/schemas/SLOs_kql_with_filters_total'
          required:
            - index
            - timestampField
            - good
            - total
        type:
          description: The type of indicator.
          example: sli.kql.custom
          type: string
      required:
        - type
        - params
      title: Custom Query
    SLOs_indicator_properties_custom_metric:
      description: Defines properties for a custom metric indicator type
      type: object
      properties:
        params:
          description: An object containing the indicator parameters.
          nullable: false
          type: object
          properties:
            dataViewId:
              description: >-
                The kibana data view id to use, primarily used to include data
                view runtime mappings. Make sure to save SLO again if you
                add/update run time fields to the data view and if those fields
                are being used in slo queries.
              example: 03b80ab3-003d-498b-881c-3beedbaf1162
              type: string
            filter:
              description: the KQL query to filter the documents with.
              example: 'field.environment : "production" and service.name : "my-service"'
              type: string
            good:
              description: |
                An object defining the "good" metrics and equation
              type: object
              properties:
                equation:
                  description: The equation to calculate the "good" metric.
                  example: A
                  type: string
                metrics:
                  description: >-
                    List of metrics with their name, aggregation type, and
                    field.
                  items:
                    type: object
                    properties:
                      aggregation:
                        description: >-
                          The aggregation type of the metric. Only valid option
                          is "sum"
                        enum:
                          - sum
                        example: sum
                        type: string
                      field:
                        description: The field of the metric.
                        example: processor.processed
                        type: string
                      filter:
                        description: The filter to apply to the metric.
                        example: 'processor.outcome: "success"'
                        type: string
                      name:
                        description: The name of the metric. Only valid options are A-Z
                        example: A
                        pattern: ^[A-Z]$
                        type: string
                    required:
                      - name
                      - aggregation
                      - field
                  type: array
              required:
                - metrics
                - equation
            index:
              description: The index or index pattern to use
              example: my-service-*
              type: string
            timestampField:
              description: |
                The timestamp field used in the source indice.
              example: timestamp
              type: string
            total:
              description: |
                An object defining the "total" metrics and equation
              type: object
              properties:
                equation:
                  description: The equation to calculate the "total" metric.
                  example: A
                  type: string
                metrics:
                  description: >-
                    List of metrics with their name, aggregation type, and
                    field.
                  items:
                    type: object
                    properties:
                      aggregation:
                        description: >-
                          The aggregation type of the metric. Only valid option
                          is "sum"
                        enum:
                          - sum
                        example: sum
                        type: string
                      field:
                        description: The field of the metric.
                        example: processor.processed
                        type: string
                      filter:
                        description: The filter to apply to the metric.
                        example: 'processor.outcome: *'
                        type: string
                      name:
                        description: The name of the metric. Only valid options are A-Z
                        example: A
                        pattern: ^[A-Z]$
                        type: string
                    required:
                      - name
                      - aggregation
                      - field
                  type: array
              required:
                - metrics
                - equation
          required:
            - index
            - timestampField
            - good
            - total
        type:
          description: The type of indicator.
          example: sli.metric.custom
          type: string
      required:
        - type
        - params
      title: Custom metric
    SLOs_indicator_properties_histogram:
      description: Defines properties for a histogram indicator type
      type: object
      properties:
        params:
          description: An object containing the indicator parameters.
          nullable: false
          type: object
          properties:
            dataViewId:
              description: >-
                The kibana data view id to use, primarily used to include data
                view runtime mappings. Make sure to save SLO again if you
                add/update run time fields to the data view and if those fields
                are being used in slo queries.
              example: 03b80ab3-003d-498b-881c-3beedbaf1162
              type: string
            filter:
              description: the KQL query to filter the documents with.
              example: 'field.environment : "production" and service.name : "my-service"'
              type: string
            good:
              description: |
                An object defining the "good" events
              type: object
              properties:
                aggregation:
                  description: The type of aggregation to use.
                  enum:
                    - value_count
                    - range
                  example: value_count
                  type: string
                field:
                  description: The field use to aggregate the good events.
                  example: processor.latency
                  type: string
                filter:
                  description: The filter for good events.
                  example: 'processor.outcome: "success"'
                  type: string
                from:
                  description: >-
                    The starting value of the range. Only required for "range"
                    aggregations.
                  example: 0
                  type: number
                to:
                  description: >-
                    The ending value of the range. Only required for "range"
                    aggregations.
                  example: 100
                  type: number
              required:
                - aggregation
                - field
            index:
              description: The index or index pattern to use
              example: my-service-*
              type: string
            timestampField:
              description: |
                The timestamp field used in the source indice.
              example: timestamp
              type: string
            total:
              description: |
                An object defining the "total" events
              type: object
              properties:
                aggregation:
                  description: The type of aggregation to use.
                  enum:
                    - value_count
                    - range
                  example: value_count
                  type: string
                field:
                  description: The field use to aggregate the good events.
                  example: processor.latency
                  type: string
                filter:
                  description: The filter for total events.
                  example: 'processor.outcome : *'
                  type: string
                from:
                  description: >-
                    The starting value of the range. Only required for "range"
                    aggregations.
                  example: 0
                  type: number
                to:
                  description: >-
                    The ending value of the range. Only required for "range"
                    aggregations.
                  example: 100
                  type: number
              required:
                - aggregation
                - field
          required:
            - index
            - timestampField
            - good
            - total
        type:
          description: The type of indicator.
          example: sli.histogram.custom
          type: string
      required:
        - type
        - params
      title: Histogram indicator
    SLOs_indicator_properties_timeslice_metric:
      description: Defines properties for a timeslice metric indicator type
      type: object
      properties:
        params:
          description: An object containing the indicator parameters.
          nullable: false
          type: object
          properties:
            dataViewId:
              description: >-
                The kibana data view id to use, primarily used to include data
                view runtime mappings. Make sure to save SLO again if you
                add/update run time fields to the data view and if those fields
                are being used in slo queries.
              example: 03b80ab3-003d-498b-881c-3beedbaf1162
              type: string
            filter:
              description: the KQL query to filter the documents with.
              example: 'field.environment : "production" and service.name : "my-service"'
              type: string
            index:
              description: The index or index pattern to use
              example: my-service-*
              type: string
            metric:
              description: >
                An object defining the metrics, equation, and threshold to
                determine if it's a good slice or not
              type: object
              properties:
                comparator:
                  description: >-
                    The comparator to use to compare the equation to the
                    threshold.
                  enum:
                    - GT
                    - GTE
                    - LT
                    - LTE
                  example: GT
                  type: string
                equation:
                  description: The equation to calculate the metric.
                  example: A
                  type: string
                metrics:
                  description: >-
                    List of metrics with their name, aggregation type, and
                    field.
                  items:
                    anyOf:
                      - $ref: >-
                          #/components/schemas/SLOs_timeslice_metric_basic_metric_with_field
                      - $ref: >-
                          #/components/schemas/SLOs_timeslice_metric_percentile_metric
                      - $ref: >-
                          #/components/schemas/SLOs_timeslice_metric_doc_count_metric
                  type: array
                threshold:
                  description: >-
                    The threshold used to determine if the metric is a good
                    slice or not.
                  example: 100
                  type: number
              required:
                - metrics
                - equation
                - comparator
                - threshold
            timestampField:
              description: |
                The timestamp field used in the source indice.
              example: timestamp
              type: string
          required:
            - index
            - timestampField
            - metric
        type:
          description: The type of indicator.
          example: sli.metric.timeslice
          type: string
      required:
        - type
        - params
      title: Timeslice metric
    SLOs_kql_with_filters:
      description: Defines properties for a filter
      oneOf:
        - description: the KQL query to filter the documents with.
          example: 'field.environment : "production" and service.name : "my-service"'
          type: string
        - type: object
          properties:
            filters:
              items:
                $ref: '#/components/schemas/SLOs_filter'
              type: array
            kqlQuery:
              type: string
      title: KQL with filters
    SLOs_kql_with_filters_good:
      description: The KQL query used to define the good events.
      oneOf:
        - description: the KQL query to filter the documents with.
          example: 'request.latency <= 150 and request.status_code : "2xx"'
          type: string
        - type: object
          properties:
            filters:
              items:
                $ref: '#/components/schemas/SLOs_filter'
              type: array
            kqlQuery:
              type: string
      title: KQL query for good events
    SLOs_kql_with_filters_total:
      description: The KQL query used to define all events.
      oneOf:
        - description: the KQL query to filter the documents with.
          example: 'field.environment : "production" and service.name : "my-service"'
          type: string
        - type: object
          properties:
            filters:
              items:
                $ref: '#/components/schemas/SLOs_filter'
              type: array
            kqlQuery:
              type: string
      title: KQL query for all events
    SLOs_objective:
      description: Defines properties for the SLO objective
      type: object
      properties:
        target:
          description: the target objective between 0 and 1 excluded
          example: 0.99
          exclusiveMaximum: true
          exclusiveMinimum: true
          maximum: 100
          minimum: 0
          type: number
        timesliceTarget:
          description: >-
            the target objective for each slice when using a timeslices
            budgeting method
          example: 0.995
          maximum: 100
          minimum: 0
          type: number
        timesliceWindow:
          description: >-
            the duration of each slice when using a timeslices budgeting method,
            as {duraton}{unit}
          example: 5m
          type: string
      required:
        - target
      title: Objective
    SLOs_settings:
      description: Defines properties for SLO settings.
      properties:
        frequency:
          default: 1m
          description: Configure how often the transform runs, default 1m
          example: 5m
          type: string
        preventInitialBackfill:
          default: false
          description: Prevents the transform from backfilling data when it starts.
          example: true
          type: boolean
        syncDelay:
          default: 1m
          description: The synch delay to apply to the transform. Default 1m
          example: 5m
          type: string
      title: Settings
      type: object
    SLOs_slo_definition_response:
      title: SLO definition response
      type: object
      properties:
        budgetingMethod:
          $ref: '#/components/schemas/SLOs_budgeting_method'
        createdAt:
          description: The creation date
          example: '2023-01-12T10:03:19.000Z'
          type: string
        description:
          description: The description of the SLO.
          example: My SLO description
          type: string
        enabled:
          description: Indicate if the SLO is enabled
          example: true
          type: boolean
        groupBy:
          $ref: '#/components/schemas/SLOs_group_by'
        id:
          description: The identifier of the SLO.
          example: 8853df00-ae2e-11ed-90af-09bb6422b258
          type: string
        indicator:
          discriminator:
            mapping:
              sli.apm.transactionDuration: '#/components/schemas/SLOs_indicator_properties_apm_latency'
              sli.apm.transactionErrorRate: '#/components/schemas/SLOs_indicator_properties_apm_availability'
              sli.histogram.custom: '#/components/schemas/SLOs_indicator_properties_histogram'
              sli.kql.custom: '#/components/schemas/SLOs_indicator_properties_custom_kql'
              sli.metric.custom: '#/components/schemas/SLOs_indicator_properties_custom_metric'
              sli.metric.timeslice: '#/components/schemas/SLOs_indicator_properties_timeslice_metric'
            propertyName: type
          oneOf:
            - $ref: '#/components/schemas/SLOs_indicator_properties_custom_kql'
            - $ref: '#/components/schemas/SLOs_indicator_properties_apm_availability'
            - $ref: '#/components/schemas/SLOs_indicator_properties_apm_latency'
            - $ref: '#/components/schemas/SLOs_indicator_properties_custom_metric'
            - $ref: '#/components/schemas/SLOs_indicator_properties_histogram'
            - $ref: '#/components/schemas/SLOs_indicator_properties_timeslice_metric'
        name:
          description: The name of the SLO.
          example: My Service SLO
          type: string
        objective:
          $ref: '#/components/schemas/SLOs_objective'
        revision:
          description: The SLO revision
          example: 2
          type: number
        settings:
          $ref: '#/components/schemas/SLOs_settings'
        tags:
          description: List of tags
          items:
            type: string
          type: array
        timeWindow:
          $ref: '#/components/schemas/SLOs_time_window'
        updatedAt:
          description: The last update date
          example: '2023-01-12T10:03:19.000Z'
          type: string
        version:
          description: The internal SLO version
          example: 2
          type: number
      required:
        - id
        - name
        - description
        - indicator
        - timeWindow
        - budgetingMethod
        - objective
        - settings
        - revision
        - enabled
        - groupBy
        - tags
        - createdAt
        - updatedAt
        - version
    SLOs_slo_with_summary_response:
      title: SLO response
      type: object
      properties:
        budgetingMethod:
          $ref: '#/components/schemas/SLOs_budgeting_method'
        createdAt:
          description: The creation date
          example: '2023-01-12T10:03:19.000Z'
          type: string
        description:
          description: The description of the SLO.
          example: My SLO description
          type: string
        enabled:
          description: Indicate if the SLO is enabled
          example: true
          type: boolean
        groupBy:
          $ref: '#/components/schemas/SLOs_group_by'
        id:
          description: The identifier of the SLO.
          example: 8853df00-ae2e-11ed-90af-09bb6422b258
          type: string
        indicator:
          discriminator:
            mapping:
              sli.apm.transactionDuration: '#/components/schemas/SLOs_indicator_properties_apm_latency'
              sli.apm.transactionErrorRate: '#/components/schemas/SLOs_indicator_properties_apm_availability'
              sli.histogram.custom: '#/components/schemas/SLOs_indicator_properties_histogram'
              sli.kql.custom: '#/components/schemas/SLOs_indicator_properties_custom_kql'
              sli.metric.custom: '#/components/schemas/SLOs_indicator_properties_custom_metric'
              sli.metric.timeslice: '#/components/schemas/SLOs_indicator_properties_timeslice_metric'
            propertyName: type
          oneOf:
            - $ref: '#/components/schemas/SLOs_indicator_properties_custom_kql'
            - $ref: '#/components/schemas/SLOs_indicator_properties_apm_availability'
            - $ref: '#/components/schemas/SLOs_indicator_properties_apm_latency'
            - $ref: '#/components/schemas/SLOs_indicator_properties_custom_metric'
            - $ref: '#/components/schemas/SLOs_indicator_properties_histogram'
            - $ref: '#/components/schemas/SLOs_indicator_properties_timeslice_metric'
        instanceId:
          description: the value derived from the groupBy field, if present, otherwise '*'
          example: host-abcde
          type: string
        name:
          description: The name of the SLO.
          example: My Service SLO
          type: string
        objective:
          $ref: '#/components/schemas/SLOs_objective'
        revision:
          description: The SLO revision
          example: 2
          type: number
        settings:
          $ref: '#/components/schemas/SLOs_settings'
        summary:
          $ref: '#/components/schemas/SLOs_summary'
        tags:
          description: List of tags
          items:
            type: string
          type: array
        timeWindow:
          $ref: '#/components/schemas/SLOs_time_window'
        updatedAt:
          description: The last update date
          example: '2023-01-12T10:03:19.000Z'
          type: string
        version:
          description: The internal SLO version
          example: 2
          type: number
      required:
        - id
        - name
        - description
        - indicator
        - timeWindow
        - budgetingMethod
        - objective
        - settings
        - revision
        - summary
        - enabled
        - groupBy
        - instanceId
        - tags
        - createdAt
        - updatedAt
        - version
    SLOs_summary:
      description: The SLO computed data
      properties:
        errorBudget:
          $ref: '#/components/schemas/SLOs_error_budget'
        sliValue:
          example: 0.9836
          type: number
        status:
          $ref: '#/components/schemas/SLOs_summary_status'
      required:
        - status
        - sliValue
        - errorBudget
      title: Summary
      type: object
    SLOs_summary_status:
      enum:
        - NO_DATA
        - HEALTHY
        - DEGRADING
        - VIOLATED
      example: HEALTHY
      title: summary status
      type: string
    SLOs_time_window:
      description: Defines properties for the SLO time window
      type: object
      properties:
        duration:
          description: >-
            the duration formatted as {duration}{unit}. Accepted values for
            rolling: 7d, 30d, 90d. Accepted values for calendar aligned: 1w
            (weekly) or 1M (monthly)
          example: 30d
          type: string
        type:
          description: >-
            Indicates weither the time window is a rolling or a calendar aligned
            time window.
          enum:
            - rolling
            - calendarAligned
          example: rolling
          type: string
      required:
        - duration
        - type
      title: Time window
    SLOs_timeslice_metric_basic_metric_with_field:
      type: object
      properties:
        aggregation:
          description: The aggregation type of the metric.
          enum:
            - sum
            - avg
            - min
            - max
            - std_deviation
            - last_value
            - cardinality
          example: sum
          type: string
        field:
          description: The field of the metric.
          example: processor.processed
          type: string
        filter:
          description: The filter to apply to the metric.
          example: 'processor.outcome: "success"'
          type: string
        name:
          description: The name of the metric. Only valid options are A-Z
          example: A
          pattern: ^[A-Z]$
          type: string
      required:
        - name
        - aggregation
        - field
      title: Timeslice Metric Basic Metric with Field
    SLOs_timeslice_metric_doc_count_metric:
      type: object
      properties:
        aggregation:
          description: The aggregation type of the metric. Only valid option is "doc_count"
          enum:
            - doc_count
          example: doc_count
          type: string
        filter:
          description: The filter to apply to the metric.
          example: 'processor.outcome: "success"'
          type: string
        name:
          description: The name of the metric. Only valid options are A-Z
          example: A
          pattern: ^[A-Z]$
          type: string
      required:
        - name
        - aggregation
      title: Timeslice Metric Doc Count Metric
    SLOs_timeslice_metric_percentile_metric:
      type: object
      properties:
        aggregation:
          description: >-
            The aggregation type of the metric. Only valid option is
            "percentile"
          enum:
            - percentile
          example: percentile
          type: string
        field:
          description: The field of the metric.
          example: processor.processed
          type: string
        filter:
          description: The filter to apply to the metric.
          example: 'processor.outcome: "success"'
          type: string
        name:
          description: The name of the metric. Only valid options are A-Z
          example: A
          pattern: ^[A-Z]$
          type: string
        percentile:
          description: The percentile value.
          example: 95
          type: number
      required:
        - name
        - aggregation
        - field
        - percentile
      title: Timeslice Metric Percentile Metric
    SLOs_update_slo_request:
      description: >
        The update SLO API request body varies depending on the type of
        indicator, time window and budgeting method. Partial update is handled.
      properties:
        budgetingMethod:
          $ref: '#/components/schemas/SLOs_budgeting_method'
        description:
          description: A description for the SLO.
          type: string
        groupBy:
          $ref: '#/components/schemas/SLOs_group_by'
        indicator:
          oneOf:
            - $ref: '#/components/schemas/SLOs_indicator_properties_custom_kql'
            - $ref: '#/components/schemas/SLOs_indicator_properties_apm_availability'
            - $ref: '#/components/schemas/SLOs_indicator_properties_apm_latency'
            - $ref: '#/components/schemas/SLOs_indicator_properties_custom_metric'
            - $ref: '#/components/schemas/SLOs_indicator_properties_histogram'
            - $ref: '#/components/schemas/SLOs_indicator_properties_timeslice_metric'
        name:
          description: A name for the SLO.
          type: string
        objective:
          $ref: '#/components/schemas/SLOs_objective'
        settings:
          $ref: '#/components/schemas/SLOs_settings'
        tags:
          description: List of tags
          items:
            type: string
          type: array
        timeWindow:
          $ref: '#/components/schemas/SLOs_time_window'
      title: Update SLO request
      type: object
  securitySchemes:
    apiKeyAuth:
      description: >-
        You must create an API key and use the encoded value in the request
        header. To learn about creating keys, go to [API
        keys](https://www.elastic.co/docs/current/serverless/api-keys).
      in: header
      name: Authorization
      type: apiKey
security:
  - apiKeyAuth: []
tags:
  - name: alerting
  - description: >
      Configure APM agent keys to authorize requests from APM agents to the APM
      Server.
    name: APM agent keys
  - description: >
      Annotate visualizations in the APM app with significant events.
      Annotations enable you to easily see how events are impacting the
      performance of your applications.
    name: APM annotations
  - name: connectors
  - name: Data streams
  - description: >-
      Data view APIs enable you to manage data views, formerly known as Kibana
      index patterns.
    name: data views
  - name: Elastic Agent actions
  - name: Elastic Agent binary download sources
  - name: Elastic Agent policies
  - name: Elastic Agent status
  - name: Elastic Agents
  - name: Elastic Package Manager (EPM)
  - name: Fleet enrollment API keys
  - name: Fleet internals
  - name: Fleet outputs
  - name: Fleet package policies
  - name: Fleet proxies
  - name: Fleet Server hosts
  - name: Fleet service tokens
  - name: Fleet uninstall tokens
  - name: Message Signing Service
  - description: Machine learning
    name: ml
  - description: >
      Export sets of saved objects that you want to import into {kib}, resolve
      import errors, and rotate an encryption key for encrypted saved objects
      with the saved objects APIs.


      To manage a specific type of saved object, use the corresponding APIs.

      For example, use:


      [Data views](../group/endpoint-data-views)


      Warning: Do not write documents directly to the `.kibana` index. When you
      write directly to the `.kibana` index, the data becomes corrupted and
      permanently breaks future Kibana versions.
    name: saved objects
    x-displayName: Saved objects
  - description: SLO APIs enable you to define, manage and track service-level objectives
    name: slo
  - name: system
